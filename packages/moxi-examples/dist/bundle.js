(()=>{var e={767:e=>{!function(){function t(e,t){document.addEventListener?e.addEventListener("scroll",t,!1):e.attachEvent("scroll",t)}function i(e){this.g=document.createElement("div"),this.g.setAttribute("aria-hidden","true"),this.g.appendChild(document.createTextNode(e)),this.h=document.createElement("span"),this.i=document.createElement("span"),this.m=document.createElement("span"),this.j=document.createElement("span"),this.l=-1,this.h.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.i.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.j.style.cssText="max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;",this.m.style.cssText="display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;",this.h.appendChild(this.m),this.i.appendChild(this.j),this.g.appendChild(this.h),this.g.appendChild(this.i)}function n(e,t){e.g.style.cssText="max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:"+t+";"}function s(e){var t=e.g.offsetWidth,i=t+100;return e.j.style.width=i+"px",e.i.scrollLeft=i,e.h.scrollLeft=e.h.scrollWidth+100,e.l!==t&&(e.l=t,!0)}function o(e,i){function n(){var e=o;s(e)&&null!==e.g.parentNode&&i(e.l)}var o=e;t(e.h,n),t(e.i,n),s(e)}function r(e,t,i){t=t||{},i=i||window,this.family=e,this.style=t.style||"normal",this.weight=t.weight||"normal",this.stretch=t.stretch||"normal",this.context=i}var a=null,c=null,l=null,h=null;function d(e){return null===h&&(h=!!e.document.fonts),h}function u(e,t){var i=e.style,n=e.weight;if(null===l){var s=document.createElement("div");try{s.style.font="condensed 100px sans-serif"}catch(e){}l=""!==s.style.font}return[i,n,l?e.stretch:"","100px",t].join(" ")}r.prototype.load=function(e,t){var s=this,r=e||"BESbswy",l=0,h=t||3e3,m=(new Date).getTime();return new Promise((function(e,t){if(d(s.context)&&!function(e){return null===c&&(d(e)&&/Apple/.test(window.navigator.vendor)?(e=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))(?:\.([0-9]+))/.exec(window.navigator.userAgent),c=!!e&&603>parseInt(e[1],10)):c=!1),c}(s.context)){var p=new Promise((function(e,t){!function i(){(new Date).getTime()-m>=h?t(Error(h+"ms timeout exceeded")):s.context.document.fonts.load(u(s,'"'+s.family+'"'),r).then((function(t){1<=t.length?e():setTimeout(i,25)}),t)}()})),f=new Promise((function(e,t){l=setTimeout((function(){t(Error(h+"ms timeout exceeded"))}),h)}));Promise.race([f,p]).then((function(){clearTimeout(l),e(s)}),t)}else!function(e){document.body?e():document.addEventListener?document.addEventListener("DOMContentLoaded",(function t(){document.removeEventListener("DOMContentLoaded",t),e()})):document.attachEvent("onreadystatechange",(function t(){"interactive"!=document.readyState&&"complete"!=document.readyState||(document.detachEvent("onreadystatechange",t),e())}))}((function(){function c(){var t;(t=-1!=g&&-1!=x||-1!=g&&-1!=y||-1!=x&&-1!=y)&&((t=g!=x&&g!=y&&x!=y)||(null===a&&(t=/AppleWebKit\/([0-9]+)(?:\.([0-9]+))/.exec(window.navigator.userAgent),a=!!t&&(536>parseInt(t[1],10)||536===parseInt(t[1],10)&&11>=parseInt(t[2],10))),t=a&&(g==w&&x==w&&y==w||g==v&&x==v&&y==v||g==S&&x==S&&y==S)),t=!t),t&&(null!==E.parentNode&&E.parentNode.removeChild(E),clearTimeout(l),e(s))}var d=new i(r),p=new i(r),f=new i(r),g=-1,x=-1,y=-1,w=-1,v=-1,S=-1,E=document.createElement("div");E.dir="ltr",n(d,u(s,"sans-serif")),n(p,u(s,"serif")),n(f,u(s,"monospace")),E.appendChild(d.g),E.appendChild(p.g),E.appendChild(f.g),s.context.document.body.appendChild(E),w=d.g.offsetWidth,v=p.g.offsetWidth,S=f.g.offsetWidth,function e(){if((new Date).getTime()-m>=h)null!==E.parentNode&&E.parentNode.removeChild(E),t(Error(h+"ms timeout exceeded"));else{var i=s.context.document.hidden;!0!==i&&void 0!==i||(g=d.g.offsetWidth,x=p.g.offsetWidth,y=f.g.offsetWidth,c()),l=setTimeout(e,50)}}(),o(d,(function(e){g=e,c()})),n(d,u(s,'"'+s.family+'",sans-serif')),o(p,(function(e){x=e,c()})),n(p,u(s,'"'+s.family+'",serif')),o(f,(function(e){y=e,c()})),n(f,u(s,'"'+s.family+'",monospace'))}))}))},e.exports=r}()}},t={};function i(n){var s=t[n];if(void 0!==s)return s.exports;var o=t[n]={exports:{}};return e[n](o,o.exports,i),o.exports}i.n=e=>{var t=e&&e.__esModule?()=>e.default:()=>e;return i.d(t,{a:t}),t},i.d=(e,t)=>{for(var n in t)i.o(t,n)&&!i.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},i.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),i.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},(()=>{"use strict";var e={};i.r(e),i.d(e,{deg2rad:()=>m,fetchXml:()=>d,getRandomInt:()=>r,lc:()=>n,lerp:()=>c,metersToPixels:()=>l,padRight:()=>s,pixelsToMeters:()=>h,pr:()=>o,rad2deg:()=>u,roundTo:()=>a,uc:()=>t});const t=(e="")=>e.toUpperCase(),n=(e="")=>e.toLowerCase(),s=(e="",t=0,i=" ")=>{let n=e+"";for(;n.length<t;)n+=i;return n},o=s,r=(e,t=0)=>Math.floor(Math.random()*(e+1-t))+t,a=(e,t)=>Math.round(t*Math.pow(10,e))/Math.pow(10,e),c=(e,t,i)=>(1-i)*e+i*t;function l(e){return 20*e}function h(e){return.05*e}const d=async e=>await(await fetch(e)).text(),u=e=>e*(180/Math.PI),m=e=>e*(Math.PI/180),p=window.PIXI;var f=i.n(p);class g{constructor(e,t){this.fitToWindow=!1,this.onResize=()=>{const{renderer:e,htmlRoot:t}=this,i=e.canvas,n=t.clientWidth,s=t.clientHeight,o=e.width,r=e.height,a=Math.min(n/o,s/r);i.style.width=`${Math.floor(o*a)}px`,i.style.height=`${Math.floor(r*a)}px`},this.htmlRoot=e,this.renderer=t,e.appendChild(this.renderer.canvas),window.addEventListener("resize",(()=>this.onResize())),this.onResize()}render(e){this.renderer.render(e)}}function x(e){return Boolean(e?.moxiEntity)}g.getRenderer=async e=>await f().autoDetectRenderer(e),g.create=async(e,t)=>new g(e,await g.getRenderer(t));class y extends f().Container{constructor(e){super(),this.renderer=e}init(){this.children.forEach((e=>{x(e)&&e.moxiEntity.init(this.renderer)}))}update(e){this.children.forEach((t=>{x(t)&&t.moxiEntity.update(e)}))}draw(e){this.renderer.render(this)}}class w{constructor(e=null){this.gameLoop=e=>{if(this.root){const{deltaTime:t}=e;this.root.update(t),this.root.draw(t)}},this.root=e;const t=f().Ticker.shared;t.autoStart=!1,t.add(this.gameLoop),this.ticker=t,this.loggerFrequencyMs=500,this.nextLogTime=0,this.logger=e=>null}start(){return this.ticker.start(),this}stop(){return this.ticker.stop(),this}loadStage(e){return this.root=e,this}}class v{constructor(){this.listeners={}}on(e,t){(this.listeners[e]||(this.listeners[e]=[])).push(t)}off(e,t){const i=this.listeners[e];i&&(this.listeners[e]=i.filter((e=>e!==t)))}emit(e,...t){(this.listeners[e]||[]).forEach((e=>e(...t)))}once(e,t){this.on(e,((...i)=>{t(...i),this.off(e,t)}))}static getInstance(){return v.instance||(v.instance=new v),v.instance}}v.instance=new v;class S{constructor({initWheelOffset:e=new p.Point,onAnyEvent:t=e=>{}}={}){if(S.instance)return S.instance;this.wheelOffets=e,this.keydown={},this.movePosition=new p.Point;const i=e=>{t(e)};document.addEventListener("wheel",(e=>{const t=this.wheelOffets||new p.Point,n=t.x+e.deltaX,s=t.y+e.deltaY;this.wheelOffets=new p.Point(n,s),i({eventType:"wheel",event:e})})),document.addEventListener("mousemove",(e=>{this.lastMovePosition=this.movePosition,this.movePosition=new p.Point(e.clientX,e.clientY),this.moveDelta=new p.Point(this.movePosition.x-this.lastMovePosition.x,this.movePosition.y-this.lastMovePosition.y),i({eventType:"mousemove",event:e})})),document.addEventListener("mousedown",(e=>{this.mouseDownEvent=e,this.lastMouseDown=e,this.mouseUpEvent=null,i({eventType:"mousedown",event:e})})),document.addEventListener("mouseup",(e=>{this.mouseUpEvent=e,this.lastMouseUp=e,this.mouseDownEvent=null,i({eventType:"mouseup",event:e})})),document.addEventListener("keydown",(e=>{const{key:t}=e;this.keyDownEvent=e,this.keyUpEvent=null,this.keydown[t]=e,i({eventType:"keydown",event:e})})),document.addEventListener("keyup",(e=>{const{key:t}=e;this.keyUpEvent=e,this.keyDownEvent=null,delete this.keydown[t],i({eventType:"keyup",event:e})})),S.instance=this}isKeyDown(e){return Boolean(this.keydown[e])}isKeyUp(e){return!this.keydown[e]}}S.instance=null;class E{constructor(){this.PIXIAssets=f().Assets,this.textures=[],this.loadAssets=async e=>{const{PIXIAssets:t}=this;for(let i=0;i<e.length;i++){const{src:n,alias:s}=e[i];if(s){if(!t.cache.has(s)){const e=await t.load({alias:s,src:n});this.textures.push(e)}}else{const e=await t.load(n);this.textures.push(e)}}return this}}}class b{constructor(){this.active=!0}init(e,t,...i){}update(e,t){}}class P{constructor(e,t={}){this.logic={},this.logic=t,this.entity=e}update(e){for(const t in this.logic){const i=this.logic[t];i.update&&this.entity&&i.active&&i.update(this.entity,e)}}init(e,...t){for(const i in this.logic){const n=this.logic[i];n.init&&this.entity&&n.init(this.entity,e,...t)}}addLogic(e){const t=e.name||e.constructor.name;this.logic[t]=e}getLogic(e){return this.logic[e]}}function T(e,t={}){const i=e;return i.isInteractive=()=>!1,i.moxiEntity=new P(i,t),e}class C extends b{constructor(){super(...arguments),this.name="CameraLogic",this.speed=.1,this.target=null}init(e,t){this.entity=e,this.renderer=t}update(e,t){const{speed:i}=this,n=Math.min(t*i,1),s=Math.abs(e.scale.x-e.desiredScale.x)>.01||Math.abs(e.scale.y-e.desiredScale.y)>.01;if(e.desiredScale!==e.scale&&(e.scale.x=c(e.scale.x,e.desiredScale.x,n),e.scale.y=c(e.scale.y,e.desiredScale.y,n)),this.target){const t=this.renderer.width/2,i=this.renderer.height/2,n=-this.target.position.x*e.scale.x+t,s=-this.target.position.y*e.scale.y+i;e.desiredPosition.set(-n,-s)}e.desiredPosition!==e.position&&(s?e.position.copyFrom(e.desiredPosition):(e.position.x=c(e.position.x,e.desiredPosition.x,n),e.position.y=c(e.position.y,e.desiredPosition.y,n))),e.scene.scale.set(e.scale.x,e.scale.y),e.scene.position.set(-e.position.x,-e.position.y)}}class k extends f().Container{constructor(e,t,i={}){super(),this.speed=.1,this.desiredScale=new p.Point(1,1),this.desiredPosition=new p.Point(0,0),this.scene=e,this.renderer=t;const n=new C;n.init(this,t),this.moxiEntity=new P(this,i),this.moxiEntity.addLogic(n),this.scene.addChild(this)}}const A={width:1280,height:720,backgroundColor:1087931};async function M({hostElement:e,renderOptions:t=A}={}){const{renderer:i}=await g.create(e,t),n=new y(i),s=new w(n),{PIXIAssets:o,loadAssets:r}=new E;return{scene:n,engine:s,PIXIAssets:o,renderer:i,loadAssets:r,camera:new k(n,i)}}i(767);const L={frameWidth:48,frameHeight:48,columns:4,rows:4};function I(e,t,i=L){const{frameWidth:n,frameHeight:s,columns:o,rows:r}=i,a=[];if(!t)return console.error("Invalid texture source provided to asTextureFrames"),a;for(let i=0;i<r;i++)for(let r=0;r<o;r++){const o=new e.Rectangle(r*n,i*s,n,s),c=new e.Texture({source:t,frame:o});a.push(c)}return a}class B{constructor(e,t={}){this.frames=[],this.sequences={},this.frames=e,this.sequences=t}addSequence(e,t,i=1){this.sequences[e]={frames:t,animationSpeed:i}}getSequence(e){return this.sequences[e]||null}getFrame(e){return this.frames[e]||null}getFrameFromSequence(e,t){const i=this.getSequence(e);if(!i)return null;const n=i.frames[t%i.frames.length];return this.frames[n]||null}getFrameSequence(e){const t=this.getSequence(e);return t?t.frames.map((e=>this.frames[e])).filter(Boolean):[]}}function D(e,t,i){return e.slice(t,t+i)}EventTarget;class z extends p.Container{constructor(e={}){super(),this.scrollScale=new p.Point(1,1),this.scrollOffset=new p.Point(0,0),this.repeatSize=new p.Point(0,0),this.mirroring=!1,this._lastCameraPos=new p.Point(0,0),this.scrollScale=e.scrollScale??new p.Point(1,1),this.scrollOffset=e.scrollOffset??new p.Point(0,0),this.repeatSize=e.repeatSize??new p.Point(0,0),this.mirroring=e.mirroring??!1;const t=T(this);this.moxiEntity=t.moxiEntity}updateParallax(e,t,i){const n=(e.x+i.x)*this.scrollScale.x,s=(e.y+i.y)*this.scrollScale.y,o=(1-this.scrollScale.x)*(1/t.x),r=(1-this.scrollScale.y)*(1/t.y);this.position.x=-n+this.scrollOffset.x*o,this.position.y=-s+this.scrollOffset.y*r,this.mirroring&&(this.repeatSize.x>0&&(this.position.x=this.position.x%this.repeatSize.x,this.position.x>0&&(this.position.x-=this.repeatSize.x)),this.repeatSize.y>0&&(this.position.y=this.position.y%this.repeatSize.y,this.position.y>0&&(this.position.y-=this.repeatSize.y))),this._lastCameraPos.copyFrom(e)}}class O extends z{constructor(e){super(e),this._autoSized=!1,e.texture.source.style.addressMode="repeat";const t=e.width??1,i=e.height??1;this.tilingSprite=new p.TilingSprite({texture:e.texture,width:t,height:i}),this.tilingSprite.position.set(0,0),this.addChild(this.tilingSprite),this._autoSized=!e.width&&!e.height}autoDetectDimensions(){if(!this._autoSized)return;let e=this.parent;for(;e;){if(e.renderer)return this.resize(e.renderer.width,e.renderer.height),void(this._autoSized=!1);e=e.parent}}updateParallax(e,t,i){this.autoDetectDimensions();const n=this.tilingSprite.texture.width,s=this.tilingSprite.texture.height;if(n>1&&s>1){const e=Math.max(.1,t.x),i=Math.max(.1,t.y);this.tilingSprite.width=n/e,this.tilingSprite.height=s/i}const o=(e.x+i.x)*this.scrollScale.x,r=(e.y+i.y)*this.scrollScale.y,a=this.parent?.parent;if(a?.renderer){const e=.5*a.renderer.width,i=.5*a.renderer.height,n=e*(1-this.scrollScale.x)*(1+1/t.x),s=i*(1-this.scrollScale.y)*(1+1/t.y);this.tilingSprite.tilePosition.x=-o+this.scrollOffset.x+n,this.tilingSprite.tilePosition.y=-r+this.scrollOffset.y+s}else this.tilingSprite.tilePosition.x=-o+this.scrollOffset.x,this.tilingSprite.tilePosition.y=-r+this.scrollOffset.y;this.position.set(0,0)}resize(e,t){this.tilingSprite.width=e,this.tilingSprite.height=t}}class q extends p.Container{constructor(e={}){super(),this.camera=null,this.scrollOffset=new p.Point(0,0),this.scrollBaseScale=new p.Point(1,1),this.scrollIgnoreCameraZoom=!1,this.autoscroll=new p.Point(0,0),this.camera=e.camera??null,this.scrollOffset=e.scrollOffset??new p.Point(0,0),this.scrollBaseScale=e.scrollBaseScale??new p.Point(1,1),this.scrollIgnoreCameraZoom=e.scrollIgnoreCameraZoom??!1,this.autoscroll=e.autoscroll??new p.Point(0,0);const t=T(this);t.moxiEntity.addLogic(new W),this.moxiEntity=t.moxiEntity}addLayer(e){this.addChild(e)}detectCamera(){let e=this.parent;for(;e;){if(e instanceof k)return e;e=e.parent}return null}getCameraPosition(){const e=this.camera??this.detectCamera();return e?new p.Point(e.position.x,e.position.y):new p.Point(0,0)}getCameraScale(){if(this.scrollIgnoreCameraZoom)return new p.Point(1,1);const e=this.camera??this.detectCamera();return e?new p.Point(e.scale.x,e.scale.y):new p.Point(1,1)}}class W extends b{constructor(){super(...arguments),this.name="ParallaxBackgroundLogic"}update(e,t){0===e.autoscroll.x&&0===e.autoscroll.y||(e.scrollOffset.x+=e.autoscroll.x*t,e.scrollOffset.y+=e.autoscroll.y*t);const i=e.getCameraPosition(),n=e.getCameraScale(),s=e.parent;s?(e.position.x=i.x/s.scale.x,e.position.y=i.y/s.scale.y):(e.position.x=i.x,e.position.y=i.y),e.children.forEach((t=>{t instanceof z&&t.updateParallax(i,n,e.scrollOffset)}))}}const _="../assets/character_robot_idle.png",F="../assets/sprout-lands-basic/Characters/Basic Charakter Spritesheet.png",K="../assets/custom-fonts/kenvector_future_thin.ttf",{rad2deg:H}=e;class R extends b{constructor(e){super(),this.targetEntity=null,this.targetEntity=e}update(e){e.text=(Math.round(H(this.targetEntity.rotation))+90)%360+"Â°"}}class X extends b{update(e,t){e.rotation+=.1*t}init(e,t){const{width:i,height:n}=t.canvas;e.anchor.set(.5),e.x=i/2,e.y=n/2}}const j={barWidth:200,barHeight:20,max:100,min:0,color:65280,backgroundColor:5592405,barPadding:new p.Point(5,5),bitmapText:{fontFamily:"kenfuture-thin",fontSize:32,fontStyle:"normal",fill:"black"}};class U extends b{constructor(e={}){super(),this.options=e,this.forgroundBar=new p.Graphics,this.backgroundBar=new p.Graphics,this.value=0,this.options={...j,...e}}setValue(e){this.value=e}init(e,t){const{width:i,height:n}=t.canvas,{backgroundColor:s,color:o,barWidth:r,barHeight:a,barPadding:c,bitmapText:l}=this.options,h=new p.Point(c.x,c.y);this.value=0,this.backgroundBar=new p.Graphics,this.backgroundBar.rect(0,0,r,a),this.backgroundBar.fill(s),this.forgroundBar=new p.Graphics,this.forgroundBar.rect(h.x,h.y,0,a-h.y),this.forgroundBar.fill(o),this.bitmapText=new p.BitmapText({text:`%${this.value}`,style:l}),this.bitmapText.position.set(r/2-this.bitmapText.width/2,a/2-this.bitmapText.height/2),this.backgroundBar.eventMode="none",this.forgroundBar.eventMode="none",this.bitmapText.eventMode="none",e.addChild(this.backgroundBar),e.addChild(this.forgroundBar),e.addChild(this.bitmapText),e.position.set(i/2-r/2,n/3-a/2)}update(e,t){const{max:i,barWidth:n,barHeight:s,color:o,backgroundColor:r,barPadding:a}=this.options,c=new p.Point(a.x,a.y),l=n-2*c.x,h=this.value/i,d=Math.min(l*h,l);this.backgroundBar.clear(),this.backgroundBar.rect(0,0,n,s),this.backgroundBar.fill(r),this.forgroundBar.clear(),this.forgroundBar.rect(c.x,c.y,d,s-2*c.y),this.forgroundBar.fill(o);const u=Math.floor(100*h);if(this.bitmapText&&(this.bitmapText.text="%"+u),this.value>i&&(this.forgroundBar.clear(),this.setValue(0)),this.value<=i){const e=this.value+=t;this.setValue(e)}}}const $="down",N="idle",Z={speed:2,allowDiagonal:!0};class V extends b{constructor(e={},t){super(),this.direction=$,this.animationState=N,this.moving=!1,this.animationTimer=0,this.frameIndex=0,this.currentSequenceName="",this.velocity=new p.Point(0,0),this.options={...Z,...e},this.frameSequences=t}init(e,t){this.clientEvents=new S,this.setAnimationState(N,this.direction),this.updateTexture(e)}getSequenceKey(e,t){return`${e}${t.charAt(0).toUpperCase()+t.slice(1)}`}setAnimationState(e,t){this.animationState=e,this.direction=t,this.currentSequenceName=this.getSequenceKey(e,t),this.animationTimer=0,this.frameIndex=0}getDirectionFromVelocity(e){return 0===e.x&&0===e.y?this.direction:Math.abs(e.x)>Math.abs(e.y)?e.x>0?"right":"left":e.y>0?$:"up"}normalizeVelocity(e,t){if(0===e.x&&0===e.y)return e;const i=Math.sqrt(e.x*e.x+e.y*e.y);return i>0&&(e.x=e.x/i*t,e.y=e.y/i*t),e}update(e,t){const{clientEvents:i,frameSequences:n,velocity:s}=this,{speed:o}=this.options;this.velocity.set(0,0),i.isKeyDown("ArrowUp")&&(s.y-=1),i.isKeyDown("ArrowDown")&&(s.y+=1),i.isKeyDown("ArrowLeft")&&(s.x-=1),i.isKeyDown("ArrowRight")&&(s.x+=1),this.normalizeVelocity(s,o),e.x+=s.x,e.y+=s.y;const r=0!==s.x||0!==s.y,a=this.getDirectionFromVelocity(s),c=r?"walk":N;c===this.animationState&&a===this.direction||(this.setAnimationState(c,a),this.updateTexture(e));const l=n.getSequence(this.currentSequenceName);if(l&&l.frames.length>0){this.animationTimer+=t;const i=l.animationSpeed;this.animationTimer>=i&&(this.animationTimer=0,this.updateAnimation(e))}this.moving=r}getDirection(){return this.direction}getAnimationState(){return this.animationState}isMoving(){return this.moving}getVelocity(){return this.velocity}updateAnimation(e){const t=this.frameSequences.getSequence(this.currentSequenceName);t&&0!==t.frames.length&&(this.frameIndex=(this.frameIndex+1)%t.frames.length,this.updateTexture(e))}updateTexture(e){const t=this.frameSequences.getSequence(this.currentSequenceName);if(!t||0===t.frames.length)return;const i=t.frames[this.frameIndex],n=this.frameSequences.getFrame(i);n&&(e.texture=n)}}class G extends b{constructor(e,t){super(),this.name="HudDisplayLogic",this.ship=e,this.camera=t}init(e,t){const i=new p.TextStyle({fontFamily:"monospace",fontSize:14,fill:16777215,stroke:{color:0,width:2}});this.shipText=new p.Text({text:"",style:i}),this.shipText.position.set(10,10),this.cameraText=new p.Text({text:"",style:i}),this.cameraText.position.set(10,30),this.zoomText=new p.Text({text:"",style:i}),this.zoomText.position.set(10,50),e.addChild(this.shipText),e.addChild(this.cameraText),e.addChild(this.zoomText)}update(e,t){const i=e.parent;i&&(e.position.x=-i.position.x/i.scale.x,e.position.y=-i.position.y/i.scale.y,e.scale.x=1/i.scale.x,e.scale.y=1/i.scale.y),this.shipText.text=`Ship: (${this.ship.x.toFixed(1)}, ${this.ship.y.toFixed(1)})`,this.cameraText.text=`Camera: (${this.camera.position.x.toFixed(1)}, ${this.camera.position.y.toFixed(1)})`,this.zoomText.text=`Zoom: ${this.camera.scale.x.toFixed(2)}x`}}class Y extends b{constructor(){super(...arguments),this.name="CameraZoomLogic",this.minZoom=.5,this.maxZoom=3,this.zoomSpeed=.1}init(e,t){this.clientEvents=new S}update(e,t){const i=this.clientEvents.wheelOffets.y;if(0!==i){const t=-i*this.zoomSpeed*.01,n=e.desiredScale.x+t,s=Math.max(this.minZoom,Math.min(this.maxZoom,n));e.desiredScale.set(s),this.clientEvents.wheelOffets.y=0}}}class J extends b{constructor(){super(...arguments),this.name="ShipMovementLogic",this.speed=5}init(e,t){this.clientEvents=new S,e.anchor.set(.5),e.x=0,e.y=0,console.log("ðŸš€ Ship initialized - Use arrow keys to fly!")}update(e,t){const i=new p.Point(0,0);if((this.clientEvents.isKeyDown("ArrowUp")||this.clientEvents.isKeyDown("w"))&&(i.y-=1),(this.clientEvents.isKeyDown("ArrowDown")||this.clientEvents.isKeyDown("s"))&&(i.y+=1),(this.clientEvents.isKeyDown("ArrowLeft")||this.clientEvents.isKeyDown("a"))&&(i.x-=1),(this.clientEvents.isKeyDown("ArrowRight")||this.clientEvents.isKeyDown("d"))&&(i.x+=1),0!==i.x&&0!==i.y){const e=Math.sqrt(i.x*i.x+i.y*i.y);i.x/=e,i.y/=e}if(e.x+=i.x*this.speed*t,e.y+=i.y*this.speed*t,0!==i.x||0!==i.y){const t=Math.atan2(i.y,i.x);e.rotation=t+Math.PI/2}}}const Q={"basic-sprite":{name:"01 - Basic Sprite",description:"The simplest example - displays a single sprite",init:async function(){const e=document.getElementById("app");if(!e)throw new Error("App element not found");const{scene:t,engine:i,loadAssets:n,PIXIAssets:s}=await M({hostElement:e});t.renderer.background.color="green";const o=[{src:_,alias:"character"}];await n(o);const r=s.get("character"),a=new p.Sprite({texture:r});a.eventMode="none";const c=T(a);t.addChild(c),t.init(),i.start(),console.log("âœ… Basic Sprite example loaded")}},"rotating-sprite":{name:"02 - Rotating Sprite",description:"A sprite that rotates with a label showing the angle",init:async function(){const e=document.getElementById("app");if(!e)throw new Error("App element not found");const{scene:t,engine:i,PIXIAssets:n,loadAssets:s}=await M({hostElement:e}),{renderer:o}=t;o.background.color="green",await s([{src:_,alias:"character"},{src:K,alias:"kenfuture-thin"}]);const r=new p.BitmapText({text:"0Â°",style:{fontFamily:"kenfuture-thin",fontSize:32,fontStyle:"normal",fill:"white"}}),a=n.get("character"),c=new p.Sprite({texture:a});c.eventMode="none";const l=T(r);l.position.set(o.canvas.width/2,50),l.moxiEntity.addLogic(new R(c));const h=T(c);h.moxiEntity.addLogic(new X),t.addChild(h),t.addChild(l),t.init(),i.start(),console.log("âœ… Rotating Sprite example loaded")}},"pixi-only":{name:"03 - PIXI.js Only",description:"Pure PIXI.js example without Moxi - rotating bunny grid",init:async function(){const e=document.getElementById("app");if(!e)throw new Error("App element not found");e.innerHTML="";const t=new p.Application;await t.init({background:"#1099bb",resizeTo:e}),e.appendChild(t.canvas);const i=new p.Container;t.stage.addChild(i);const n=await p.Assets.load("https://pixijs.com/assets/bunny.png");for(let e=0;e<25;e++){const t=new p.Sprite(n);t.x=e%5*40,t.y=40*Math.floor(e/5),i.addChild(t)}i.x=t.screen.width/2,i.y=t.screen.height/2,i.pivot.x=i.width/2,i.pivot.y=i.height/2,t.ticker.add((e=>{i.rotation-=.01*e.deltaTime})),console.log("âœ… PIXI-only (no Moxi) example loaded")}},"animated-character":{name:"04 - Animated Character",description:"Sprite animation with camera following",init:async function(){const e=document.getElementById("app");if(!e)throw new Error("App element not found");const{scene:t,engine:i,loadAssets:n,camera:s,PIXIAssets:o}=await M({hostElement:e});t.renderer.background.color=3818598,await n([{src:F,alias:"character_sheet"}]);const r=o.get("character_sheet");r.source.scaleMode="nearest";const a=I(p,r,{frameWidth:48,frameHeight:48,columns:4,rows:4}),c=new p.AnimatedSprite(a);c.anchor.set(.5),c.x=t.renderer.width/2,c.y=t.renderer.height/2,c.scale.set(4),c.textures=[a[0],a[1]],c.animationSpeed=.05,c.play();const l=T(c);t.addChild(l),t.init(),i.start(),console.log("âœ… Animated Character example loaded")}},"progress-bar":{name:"05 - Progress Bar",description:"Custom Logic component creating an animated progress bar",init:async function(){const e=document.getElementById("app");if(!e)throw new Error("App element not found");const{scene:t,engine:i,loadAssets:n}=await M({hostElement:e});await n([{src:K,alias:"kenfuture-thin"}]);const s=T(new p.Container),o={backgroundColor:"silver",color:"green",barHeight:55,bitmapText:{...j.bitmapText,fontSize:32,align:"center",fill:"black"}};s.moxiEntity.addLogic(new U({...j,...o})),t.addChild(s),t.init(),i.start(),console.log("âœ… Progress Bar example loaded")}},"bunny-adventure":{name:"06 - Bunny Adventure",description:"Player movement with arrow keys, tile world, and camera",init:async function(){const e=document.getElementById("app");if(!e)throw new Error("App element not found");const{scene:t,engine:i,loadAssets:n,camera:s,PIXIAssets:o}=await M({hostElement:e});t.renderer.background.color=8962160,await n([{src:"../assets/sprout-lands-basic/Tilesets/Grass.png",alias:"grass_sheet"},{src:F,alias:"character_sheet"}]),s.desiredScale.set(3);const r=o.get("character_sheet"),a=o.get("grass_sheet");r.source.scaleMode="nearest",a.source.scaleMode="nearest";const c=I(p,r,{frameWidth:48,frameHeight:48,columns:4,rows:4}),l=I(p,a,{frameWidth:16,frameHeight:16,columns:11,rows:7}),h=[...D(l,55,6),...D(l,66,6)],d=new B(c,{idleDown:{frames:[0,1],animationSpeed:22},walkDown:{frames:[2,3],animationSpeed:12},idleUp:{frames:[4,5],animationSpeed:22},walkUp:{frames:[6,7],animationSpeed:12},idleLeft:{frames:[8,9],animationSpeed:22},walkLeft:{frames:[10,11],animationSpeed:12},idleRight:{frames:[12,13],animationSpeed:22},walkRight:{frames:[14,15],animationSpeed:12}}),u=T(function(e,t,i){const{width:n,height:s,cellWidth:o,cellHeight:r,centered:a=!1}=e,c=i||(()=>Math.floor(Math.random()*t.length)),l=new(f().Container),h=n*s;for(let e=0;e<s;e++)for(let i=0;i<n;i++){const s=i*o,a=e*r,d=c({x:i,y:e,pixelX:s,pixelY:a,index:e*n+i,total:h}),u=new(f().Sprite)(t[d]);u.position.set(s,a),l.addChild(u)}if(a){const e=n*o,t=s*r;l.position.set(-e/2,-t/2)}return l}({width:64,height:64,cellWidth:16,cellHeight:16,centered:!0},h));t.addChild(u);const m=new p.AnimatedSprite(c);m.anchor.set(.5);const g=T(m),x=new V({speed:1.5},d);x.init(m,t.renderer),g.moxiEntity.addLogic(x),t.addChild(g),s.moxiEntity.getLogic("CameraLogic").target=m,t.init(),i.start(),console.log("âœ… Bunny Adventure example loaded - Use arrow keys to move!")}},"parallax-space-shooter":{name:"07 - Parallax Space Shooter",description:"Parallax scrolling with multiple background layers at different speeds",init:async function(){const e=document.getElementById("app");if(!e)throw new Error("App element not found");const{scene:t,engine:i,loadAssets:n,camera:s,PIXIAssets:o}=await M({hostElement:e});t.renderer.background.color=0,await n([{src:"../assets/space-backgrounds/Nebula Blue.png",alias:"nebula"},{src:"../assets/space-backgrounds/Stars Small_2.png",alias:"stars"},{src:"../assets/space-sprite-sheets/space-shooter.json",alias:"space_shooter"}]),console.log("âœ… Space assets loaded");const r=new q({camera:s}),a=o.get("nebula"),c=new O({texture:a,scrollScale:new p.Point(.3,.3)});r.addLayer(c);const l=o.get("stars"),h=new O({texture:l,scrollScale:new p.Point(.6,.6)});h.tilingSprite.tileScale.set(.5,.5),r.addLayer(h),t.addChild(r);const d=o.get("space_shooter").textures["playerShip1_blue.png"],u=new p.Sprite(d);u.scale.set(.5);const m=T(u),f=new J;m.moxiEntity.addLogic(f),t.addChild(m),s.desiredScale.set(1.5);const g=s.moxiEntity.getLogic("CameraLogic");g.target=u,g.speed=.05,s.moxiEntity.addLogic(new Y);const x=T(new p.Container);x.moxiEntity.addLogic(new G(u,s)),t.addChild(x),t.init(),i.start(),console.log("âœ… Parallax Space Shooter loaded!"),console.log("   ðŸŽ® Controls: Arrow keys or WASD to move"),console.log("   ðŸ–±ï¸  Mouse wheel: Zoom in/out (0.5x - 3x)"),console.log("   ðŸŒŒ Watch the parallax effect as you move!"),console.log("   ðŸ“Š Nebula layer: 0.3x speed (far)"),console.log("   â­ Stars layer: 0.6x speed (closer)")}}};let ee=null;async function te(e,t=!0){const i=document.getElementById("app");if(i)if(Q[e]){i.innerHTML="",ee=e,t&&(window.location.hash=e),document.querySelectorAll(".example-btn").forEach((e=>{e.classList.remove("active")})),document.querySelector(`[data-example="${e}"]`)?.classList.add("active");try{await Q[e].init()}catch(e){console.error("Error loading example:",e);const t=e instanceof Error?e.message:"Unknown error";i.innerHTML=`<div class="error">Error loading example: ${t}</div>`}}else console.error(`Example "${e}" not found`)}function ie(){const e=window.location.hash.slice(1);return e&&Q[e]?e:null}function ne(){const e=ie();e&&e!==ee&&te(e,!1)}document.addEventListener("DOMContentLoaded",(()=>{!function(){const e=document.getElementById("sidebar");if(!e)return;Object.entries(Q).forEach((([t,i])=>{const n=document.createElement("button");n.className="example-btn",n.dataset.example=t,n.innerHTML=`\n      <div class="example-title">${i.name}</div>\n      <div class="example-desc">${i.description}</div>\n    `,n.addEventListener("click",(()=>te(t))),e.appendChild(n)}));const t=ie();te(t||Object.keys(Q)[0],!t)}(),window.addEventListener("hashchange",ne)}))})()})();
//# sourceMappingURL=bundle.js.map