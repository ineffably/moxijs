{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://moxi-examples/../../node_modules/fontfaceobserver/fontfaceobserver.standalone.js","webpack://moxi-examples/webpack/bootstrap","webpack://moxi-examples/webpack/runtime/compat get default export","webpack://moxi-examples/webpack/runtime/define property getters","webpack://moxi-examples/webpack/runtime/hasOwnProperty shorthand","webpack://moxi-examples/webpack/runtime/make namespace object","webpack://moxi-examples/../moxi/src/library/utils.ts","webpack://moxi-examples/external window \"PIXI\"","webpack://moxi-examples/../moxi/src/core/render-manager.ts","webpack://moxi-examples/../moxi/src/core/scene.ts","webpack://moxi-examples/../moxi/src/core/engine.ts","webpack://moxi-examples/../moxi/src/core/event-system.ts","webpack://moxi-examples/../moxi/src/library/client-events.ts","webpack://moxi-examples/../moxi/src/core/asset-loader.ts","webpack://moxi-examples/../moxi/src/core/logic.ts","webpack://moxi-examples/../moxi/src/core/moxi-entity.ts","webpack://moxi-examples/../moxi/src/core/camera.ts","webpack://moxi-examples/../moxi/src/library/setup.ts","webpack://moxi-examples/../moxi/src/library/font-loader.ts","webpack://moxi-examples/../moxi/src/library/texture-frames.ts","webpack://moxi-examples/../moxi/src/library/texture-frame-sequences.ts","webpack://moxi-examples/../moxi/src/library/grid-generator.ts","webpack://moxi-examples/../moxi/src/library/state-machine.ts","webpack://moxi-examples/../moxi/src/library/parallax-layer.ts","webpack://moxi-examples/../moxi/src/library/parallax-background.ts","webpack://moxi-examples/../moxi/src/index.ts","webpack://moxi-examples/./src/assets-config.ts","webpack://moxi-examples/./src/examples/02-rotating-sprite.ts","webpack://moxi-examples/./src/examples/05-progress-bar.ts","webpack://moxi-examples/./src/utils/player-movement-logic.ts","webpack://moxi-examples/./src/examples/07-parallax-space-shooter.ts","webpack://moxi-examples/./src/index.ts","webpack://moxi-examples/./src/examples/01-basic-sprite.ts","webpack://moxi-examples/./src/examples/03-pixi-only.ts","webpack://moxi-examples/./src/examples/04-animated-character.ts","webpack://moxi-examples/./src/examples/06-bunny-adventure.ts"],"sourcesContent":["/* Font Face Observer v2.3.0 - Â© Bram Stein. License: BSD-3-Clause */(function(){function p(a,c){document.addEventListener?a.addEventListener(\"scroll\",c,!1):a.attachEvent(\"scroll\",c)}function u(a){document.body?a():document.addEventListener?document.addEventListener(\"DOMContentLoaded\",function b(){document.removeEventListener(\"DOMContentLoaded\",b);a()}):document.attachEvent(\"onreadystatechange\",function g(){if(\"interactive\"==document.readyState||\"complete\"==document.readyState)document.detachEvent(\"onreadystatechange\",g),a()})};function w(a){this.g=document.createElement(\"div\");this.g.setAttribute(\"aria-hidden\",\"true\");this.g.appendChild(document.createTextNode(a));this.h=document.createElement(\"span\");this.i=document.createElement(\"span\");this.m=document.createElement(\"span\");this.j=document.createElement(\"span\");this.l=-1;this.h.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.i.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";\nthis.j.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.m.style.cssText=\"display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;\";this.h.appendChild(this.m);this.i.appendChild(this.j);this.g.appendChild(this.h);this.g.appendChild(this.i)}\nfunction x(a,c){a.g.style.cssText=\"max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:\"+c+\";\"}function B(a){var c=a.g.offsetWidth,b=c+100;a.j.style.width=b+\"px\";a.i.scrollLeft=b;a.h.scrollLeft=a.h.scrollWidth+100;return a.l!==c?(a.l=c,!0):!1}function C(a,c){function b(){var e=g;B(e)&&null!==e.g.parentNode&&c(e.l)}var g=a;p(a.h,b);p(a.i,b);B(a)};function D(a,c,b){c=c||{};b=b||window;this.family=a;this.style=c.style||\"normal\";this.weight=c.weight||\"normal\";this.stretch=c.stretch||\"normal\";this.context=b}var E=null,F=null,G=null,H=null;function I(a){null===F&&(M(a)&&/Apple/.test(window.navigator.vendor)?(a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))(?:\\.([0-9]+))/.exec(window.navigator.userAgent),F=!!a&&603>parseInt(a[1],10)):F=!1);return F}function M(a){null===H&&(H=!!a.document.fonts);return H}\nfunction N(a,c){var b=a.style,g=a.weight;if(null===G){var e=document.createElement(\"div\");try{e.style.font=\"condensed 100px sans-serif\"}catch(q){}G=\"\"!==e.style.font}return[b,g,G?a.stretch:\"\",\"100px\",c].join(\" \")}\nD.prototype.load=function(a,c){var b=this,g=a||\"BESbswy\",e=0,q=c||3E3,J=(new Date).getTime();return new Promise(function(K,L){if(M(b.context)&&!I(b.context)){var O=new Promise(function(r,t){function h(){(new Date).getTime()-J>=q?t(Error(\"\"+q+\"ms timeout exceeded\")):b.context.document.fonts.load(N(b,'\"'+b.family+'\"'),g).then(function(n){1<=n.length?r():setTimeout(h,25)},t)}h()}),P=new Promise(function(r,t){e=setTimeout(function(){t(Error(\"\"+q+\"ms timeout exceeded\"))},q)});Promise.race([P,O]).then(function(){clearTimeout(e);\nK(b)},L)}else u(function(){function r(){var d;if(d=-1!=k&&-1!=l||-1!=k&&-1!=m||-1!=l&&-1!=m)(d=k!=l&&k!=m&&l!=m)||(null===E&&(d=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent),E=!!d&&(536>parseInt(d[1],10)||536===parseInt(d[1],10)&&11>=parseInt(d[2],10))),d=E&&(k==y&&l==y&&m==y||k==z&&l==z&&m==z||k==A&&l==A&&m==A)),d=!d;d&&(null!==f.parentNode&&f.parentNode.removeChild(f),clearTimeout(e),K(b))}function t(){if((new Date).getTime()-J>=q)null!==f.parentNode&&f.parentNode.removeChild(f),\nL(Error(\"\"+q+\"ms timeout exceeded\"));else{var d=b.context.document.hidden;if(!0===d||void 0===d)k=h.g.offsetWidth,l=n.g.offsetWidth,m=v.g.offsetWidth,r();e=setTimeout(t,50)}}var h=new w(g),n=new w(g),v=new w(g),k=-1,l=-1,m=-1,y=-1,z=-1,A=-1,f=document.createElement(\"div\");f.dir=\"ltr\";x(h,N(b,\"sans-serif\"));x(n,N(b,\"serif\"));x(v,N(b,\"monospace\"));f.appendChild(h.g);f.appendChild(n.g);f.appendChild(v.g);b.context.document.body.appendChild(f);y=h.g.offsetWidth;z=n.g.offsetWidth;A=v.g.offsetWidth;t();\nC(h,function(d){k=d;r()});x(h,N(b,'\"'+b.family+'\",sans-serif'));C(n,function(d){l=d;r()});x(n,N(b,'\"'+b.family+'\",serif'));C(v,function(d){m=d;r()});x(v,N(b,'\"'+b.family+'\",monospace'))})})};\"object\"===typeof module?module.exports=D:(window.FontFaceObserver=D,window.FontFaceObserver.prototype.load=D.prototype.load);}());\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\nexport const uc = (s = '') => s.toUpperCase();\nexport const lc = (s = '') => s.toLowerCase();\n\nexport const padRight = (val = '', length = 0, padWith = ' ') => {\n  let result = val+'';\n  while(result.length < length){\n    result += padWith;\n  }\n  return result;\n};\n\nexport const pr = padRight;\n\nexport const getRandomInt = (max, min = 0) => (Math.floor(Math.random() * (max + 1 - min)) + min);\n\nexport const roundTo = (places, value) => (Math.round(value * Math.pow(10, places)) / Math.pow(10, places));\n\nexport const lerp = (begin, end, mag) => ((1 - mag) * begin + mag * end);\n\nexport function metersToPixels(m: number): number { return m * 20; }\n\nexport function pixelsToMeters(p: number): number { return p * 0.05; }\n\nexport const fetchXml = async (url: string) => (await (await fetch(url)).text());\n\nexport const rad2deg = (rad: number) => rad * (180 / Math.PI);\nexport const deg2rad = (deg: number) => deg * (Math.PI / 180);\n  ","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"PIXI\"];","import PIXI from 'pixi.js';\n\nexport class RenderManager {\n  static getRenderer: (\n    options: Partial<PIXI.AutoDetectOptions>\n  ) => Promise<PIXI.Renderer>;\n\n  static create: (\n      htmlRoot: HTMLElement, \n      options: Partial<PIXI.AutoDetectOptions>) => Promise<RenderManager>;\n\n  htmlRoot: HTMLElement;\n  renderer: PIXI.Renderer;\n  fitToWindow = false;;\n\n  constructor(htmlRoot: HTMLElement, renderer: PIXI.Renderer) {\n    this.htmlRoot = htmlRoot;\n    this.renderer = renderer;\n\n    htmlRoot.appendChild(this.renderer.canvas);\n    window.addEventListener('resize', () => this.onResize());\n    this.onResize();\n  }\n\n  render(stage: PIXI.Container) {\n    this.renderer.render(stage);\n  }\n\n  onResize = () => {\n    const { renderer, htmlRoot: root } = this;\n    const canvas = renderer.canvas;\n    \n    // Get the parent dimensions\n    const parentWidth = root.clientWidth;\n    const parentHeight = root.clientHeight;\n    \n    // Get the canvas's intended dimensions\n    const canvasWidth = renderer.width;\n    const canvasHeight = renderer.height;\n    \n    // Calculate the scale to fit while maintaining aspect ratio\n    const scale = Math.min(\n      parentWidth / canvasWidth,\n      parentHeight / canvasHeight\n    );\n    \n    // Set CSS dimensions to scale the canvas\n    canvas.style.width = `${Math.floor(canvasWidth * scale)}px`;\n    canvas.style.height = `${Math.floor(canvasHeight * scale)}px`;\n  };\n}\n\nRenderManager.getRenderer = async (options: Partial<PIXI.AutoDetectOptions>) => (\n  await PIXI.autoDetectRenderer(options)\n);\n\nRenderManager.create = async (htmlRoot: HTMLElement, options: Partial<PIXI.AutoDetectOptions>) => (\n  new RenderManager(htmlRoot, await RenderManager.getRenderer(options))\n);\n","import PIXI from 'pixi.js';\nimport { AsEntity } from './moxi-entity';\n\nfunction isMoxiEntity(entity: any): entity is AsEntity<any> {\n  return Boolean(entity?.moxiEntity);\n}\n\nexport class Scene extends PIXI.Container {\n  renderer: PIXI.Renderer<HTMLCanvasElement>;\n\n  constructor(renderer: PIXI.Renderer<HTMLCanvasElement>) {\n    super();\n    this.renderer = renderer;\n  }\n\n  init() {\n    this.children.forEach((child: any) => {\n      if (isMoxiEntity(child)) {\n        child.moxiEntity.init(this.renderer);\n      }\n    });\n  }\n\n\n  update(deltaTime: number) {\n    this.children.forEach((child: any) => { \n      if (isMoxiEntity(child)) {\n        child.moxiEntity.update(deltaTime);\n      }\n    });\n  }\n\n  draw(deltaTime: number) {\n    this.renderer.render(this);\n  }\n}","import PIXI from 'pixi.js';\nimport { Scene } from './scene';\n\n/**\n * The core game engine class that manages the game loop, scene rendering,\n * and update cycles. Coordinates with the PIXI.Ticker to drive the animation.\n *\n * @category Core\n * @example\n * ```typescript\n * // Create a new engine with a scene\n * const engine = new Engine(scene);\n * \n * // Start the game loop\n * engine.start();\n * \n * // Stop the game loop when needed\n * engine.stop();\n * ```\n */\nexport class Engine {\n  /**\n   * The PIXI Ticker instance that drives the game loop\n   */\n  ticker: PIXI.Ticker;\n  \n  /**\n   * The current active scene/stage\n   */\n  root: Scene;\n  \n  /**\n   * Optional logging function for debugging\n   */\n  logger: (msg: string) => void;\n  \n  /**\n   * How often to log messages (in milliseconds)\n   */\n  loggerFrequencyMs: number;\n  \n  /**\n   * Timestamp for the next log message\n   * @internal\n   */\n  nextLogTime: number;\n\n  /**\n   * Creates a new Engine instance\n   * \n   * @param stage - The initial scene to use, if any\n   */\n  constructor(stage: Scene = null) {\n    this.root = stage;\n\n    const ticker = PIXI.Ticker.shared;\n    ticker.autoStart = false;\n    ticker.add(this.gameLoop);\n    this.ticker = ticker;\n\n    this.loggerFrequencyMs = 500;\n    this.nextLogTime = 0;\n    this.logger = (msg) => null;\n  }\n\n  /**\n   * Starts the game loop\n   * \n   * @returns The Engine instance for chaining\n   */\n  start() {\n    this.ticker.start();\n    return this;\n  }\n\n  /**\n   * Stops the game loop\n   * \n   * @returns The Engine instance for chaining\n   */\n  stop() {\n    this.ticker.stop();\n    return this;\n  }\n\n  /**\n   * The main game loop function called by the ticker on each frame\n   * Updates and renders the active scene\n   * \n   * @param tikerTime - Ticker information including delta time\n   * @private\n   */\n  gameLoop = (tikerTime: PIXI.Ticker) => {\n    if (this.root) {\n      const { deltaTime } = tikerTime;\n      this.root.update(deltaTime);\n      this.root.draw(deltaTime);\n    }\n  };\n\n  /**\n   * Sets a new active scene\n   * \n   * @param stage - The new scene to use\n   * @returns The Engine instance for chaining\n   */\n  loadStage(stage: Scene) {\n    this.root = stage;\n    return this;\n  }\n}\n","type MoxiEvents<T extends string | symbol = string, A = any> = {\n  [event in T]: (...args: A extends any[] ? A : [A]) => void;\n};\n\nexport class EventEmitter<T extends MoxiEvents = MoxiEvents> {\n  private listeners: { [K in keyof T]?: T[K][] } = {};\n  \n  /**\n   * Singleton instance of EventEmitter\n   * @static\n   */\n  public static instance: EventEmitter<MoxiEvents> = new EventEmitter<MoxiEvents>();\n\n  on<K extends keyof T>(event: K, listener: T[K]): void {\n    (this.listeners[event] || (this.listeners[event] = [])).push(listener);\n  }\n\n  off<K extends keyof T>(event: K, listener: T[K]): void {\n    const eventListeners = this.listeners[event];\n    if (eventListeners) {\n      this.listeners[event] = eventListeners.filter(l => l !== listener);\n    }\n  }\n\n  emit<K extends keyof T>(event: K, ...args: Parameters<T[K]>): void {\n    (this.listeners[event] || []).forEach(listener => listener(...args));\n  }\n\n  once<K extends keyof T>(event: K, listener: T[K]): void {\n    const onceListener = (...args: Parameters<T[K]>) => {\n      listener(...args);\n      this.off(event, listener);\n    };\n    this.on(event, onceListener as T[K]);\n  }\n  \n  /**\n   * Get the singleton instance of EventEmitter\n   * @static\n   */\n  public static getInstance<T extends MoxiEvents = MoxiEvents>(): EventEmitter<T> {\n    if (!EventEmitter.instance) {\n      EventEmitter.instance = new EventEmitter<T>();\n    }\n    return EventEmitter.instance as EventEmitter<T>;\n  }\n}\n\n","import { Point } from 'pixi.js';\nimport { OnEvent, ClientEventsArgs } from '..';\n\n/**\n * Manages input events from the client (keyboard, mouse, etc.) and provides an interface\n * for querying the current input state.\n * \n * Implements the Singleton pattern to ensure only one instance of event handlers exists.\n * \n * @category Core\n * @example\n * ```typescript\n * // Create/get the ClientEvents instance\n * const events = new ClientEvents();\n * \n * // Check if a key is currently pressed\n * if (events.isKeyDown('ArrowRight')) {\n *   player.moveRight();\n * }\n * \n * // Access mouse position\n * const mousePos = events.movePosition;\n * ```\n */\nexport class ClientEvents {\n  /**\n   * Current wheel scroll delta values\n   */\n  wheelDelta: { yValue: number; xValue: number; };\n  \n  /**\n   * The most recent mouse up event\n   */\n  mouseUpEvent: MouseEvent;\n  \n  /**\n   * The most recent mouse down event\n   */\n  mouseDownEvent: MouseEvent;\n  \n  /**\n   * The last mouse down event that occurred\n   */\n  lastMouseDown: MouseEvent;\n  \n  /**\n   * The last mouse up event that occurred\n   */\n  lastMouseUp: MouseEvent;\n  \n  /**\n   * The most recent key down event\n   */\n  keyDownEvent: KeyboardEvent;\n  \n  /**\n   * The most recent key up event\n   */\n  keyUpEvent: KeyboardEvent;\n  \n  /**\n   * Map of currently pressed keys\n   * @internal\n   */\n  keydown: Record<string, KeyboardEvent>;\n  \n  /**\n   * Accumulated wheel offset values\n   */\n  wheelOffets: Point;\n  \n  /**\n   * Current mouse position\n   */\n  movePosition: Point;\n  \n  /**\n   * Previous mouse position\n   */\n  lastMovePosition: Point;\n  \n  /**\n   * Change in mouse position since last update\n   */\n  moveDelta: Point;\n\n  /**\n   * Singleton instance of ClientEvents\n   * @static\n   */\n  static instance: ClientEvents = null;\n\n  /**\n   * Creates a new ClientEvents instance or returns the existing singleton instance\n   * \n   * @param options - Configuration options\n   * @param options.initWheelOffset - Initial wheel offset value\n   * @param options.onAnyEvent - Callback that fires on any input event\n   */\n  constructor({ initWheelOffset = new Point(), onAnyEvent = (ev: OnEvent) => {} }: ClientEventsArgs = {}) {\n    // since we are hooking events into the document, we only want one instance of this class\n    if (ClientEvents.instance) {\n      return ClientEvents.instance;\n    }\n    this.wheelOffets = initWheelOffset;\n    this.keydown = {} as Record<string, KeyboardEvent>;\n    this.movePosition = new Point();\n\n    const anyEvent = (ev: OnEvent) => {\n      onAnyEvent(ev);\n    };\n\n    // Register wheel event listener\n    document.addEventListener('wheel', (event) => {\n      const wheelDelta = this.wheelOffets || new Point();\n      const xValue = wheelDelta.x + event.deltaX;\n      const yValue = wheelDelta.y + event.deltaY;\n      this.wheelOffets = new Point(xValue, yValue);\n      anyEvent({ eventType: 'wheel', event });\n    });\n\n    // Register mouse move event listener\n    document.addEventListener('mousemove', (event) => {\n      this.lastMovePosition = this.movePosition;\n      this.movePosition = new Point(event.clientX, event.clientY);\n      this.moveDelta = new Point(\n        this.movePosition.x - this.lastMovePosition.x,\n        this.movePosition.y - this.lastMovePosition.y\n      );\n      anyEvent({ eventType: 'mousemove', event });\n    });\n\n    // Register mouse down event listener\n    document.addEventListener('mousedown', (event) => {\n      this.mouseDownEvent = event;\n      this.lastMouseDown = event;\n      this.mouseUpEvent = null;\n      anyEvent({ eventType: 'mousedown', event });\n    });\n\n    // Register mouse up event listener\n    document.addEventListener('mouseup', (event) => {\n      this.mouseUpEvent = event;\n      this.lastMouseUp = event;\n      this.mouseDownEvent = null;\n      anyEvent({ eventType: 'mouseup', event });\n    });\n\n    // Register key down event listener\n    document.addEventListener('keydown', (event) => {\n      const { key } = event;\n      this.keyDownEvent = event;\n      this.keyUpEvent = null;\n      this.keydown[key] = event;\n      anyEvent({ eventType: 'keydown', event });\n    });\n\n    // Register key up event listener\n    document.addEventListener('keyup', (event) => {\n      const { key } = event;\n      this.keyUpEvent = event;\n      this.keyDownEvent = null;\n      delete this.keydown[key];\n      anyEvent({ eventType: 'keyup', event });\n    });\n\n    ClientEvents.instance = this;\n  }\n\n  /**\n   * Checks if a specific key is currently pressed down\n   * \n   * @param key - The key to check, e.g., 'a', 'ArrowUp', 'Space'\n   * @returns True if the key is currently pressed, false otherwise\n   * \n   * @example\n   * ```typescript\n   * if (events.isKeyDown('Space')) {\n   *   player.jump();\n   * }\n   * ```\n   */\n  isKeyDown(key: string): boolean {\n    return Boolean(this.keydown[key]);\n  }\n\n  /**\n   * Checks if a specific key is currently not pressed\n   * \n   * @param key - The key to check, e.g., 'a', 'ArrowUp', 'Space'\n   * @returns True if the key is currently not pressed, false if it is pressed\n   */\n  isKeyUp(key: string): boolean {\n    return !this.keydown[key];\n  }\n}\n\n\n\n","import PIXI from 'pixi.js';\nimport { Asset } from '..';\n\nexport class AssetLoader {\n  PIXIAssets: PIXI.AssetsClass = PIXI.Assets;\n  textures: any[] = [];\n\n  loadAssets = async (assets: Asset[]) => {\n    const { PIXIAssets } = this;\n\n    for (let i = 0; i < assets.length; i++) {\n      const { src, alias } = assets[i];\n      \n      if (alias) {\n        if (!PIXIAssets.cache.has(alias)) {\n          const texture = await PIXIAssets.load({ alias, src });\n          this.textures.push(texture);\n        }\n      }\n      else {\n        const texture = await PIXIAssets.load(src);\n        this.textures.push(texture);\n      }\n    }\n    return this;\n  };\n}","import PIXI from 'pixi.js';\n\n/**\n * Base abstract class for all logic in the Moxi engine.\n * Logic components can be attached to entities to add functionality.\n * \n * @category Logic\n * @template T - The type of entity this logic can be attached to\n * \n * @example\n * ```typescript\n * class MyLogic extends Logic<Sprite> {\n *   update(entity: Sprite, deltaTime: number) {\n *     entity.rotation += deltaTime;\n *   }\n * }\n * ```\n */\nexport abstract class Logic<T> {\n  /**\n   * The name of this logic component\n   * Used to identify and retrieve logic components\n   * Defaults to constructor name but should be set explicitly for production builds\n   */\n  name?: string;\n  \n  /**\n   * Whether this logic is currently active and should be updated\n   * @default true\n   */\n  active: boolean = true;\n  \n  /**\n   * Initializes the logic with the entity it's attached to\n   * @param entity - The entity this logic is attached to\n   * @param renderer - The PIXI renderer instance\n   * @param args - Additional initialization arguments\n   */\n  init(entity?: T, renderer?: PIXI.Renderer<HTMLCanvasElement>, ...args: any[]) {\n    // Implement in subclass\n  }\n\n  /**\n   * Updates the logic's state\n   * @param entity - The entity this logic is attached to\n   * @param deltaTime - Time elapsed since last update in seconds\n   */\n  update(entity?: T, deltaTime?: number) {\n    // Implement in subclass\n  }\n}\n\n/**\n * Logic that can be instantiated multiple times with different configurations\n * \n * @category Logic\n * @template T - The type of entity this logic can be attached to\n * \n * @example\n * ```typescript\n * class MyInstancedLogic extends InstancedLogic<Sprite> {\n *   constructor(public speed: number) {\n *     super();\n *   }\n *   \n *   update(entity: Sprite, deltaTime: number) {\n *     entity.rotation += this.speed * deltaTime;\n *   }\n * }\n * ```\n */\nexport class InstancedLogic<T> extends Logic<T> {}\n\n","import PIXI from 'pixi.js';\nimport { Logic } from './logic';\n\n/**\n * Interface defining the contract for the MoxiEntity class.\n * Specifies required methods and properties for entity management.\n * \n * @internal\n * @template T - The type of entity being managed\n */\ninterface MoxiEntityClass<T> {\n  logic: MoxiLogic<T>;\n  update: (delta: number, entity: T) => void;\n  init: (...args: any[]) => void;\n  addLogic: (logic: Logic<T>) => void;\n  getLogic: (name: string) => Logic<T> | undefined;\n}\n\n/**\n * Type definition for objects that have been enhanced with MoxiEntity capabilities.\n * This is the primary interface developers will interact with when using the entity system.\n * \n * @category Entities\n * @template T - The type of entity being managed (typically extends PIXI.Container)\n * \n * @example\n * ```typescript\n * // Create a sprite and convert it to an AsEntity\n * const sprite = new PIXI.Sprite(texture);\n * const entitySprite = asEntity(sprite);\n * \n * // Now it has a moxiEntity property\n * entitySprite.moxiEntity.addLogic(new MovementLogic());\n * ```\n */\nexport type AsEntity<T> = PIXI.Container & {\n  moxiEntity: MoxiEntity<T>;\n};\n\n/**\n * Type definition for a collection of logic components mapped by name.\n * Used to store and retrieve logic attached to entities.\n * \n * @category Entities\n * @template T - The type of entity these logic components can be applied to\n */\nexport type MoxiLogic<T> = Record<string, Logic<T>>;\n\n/**\n * The core entity management class that handles component-based logic.\n * MoxiEntity connects entities with their logic components and manages the logic lifecycle.\n * \n * This class implements the Entity-Component-System pattern, where:\n * - The entity is the object being controlled (like a PIXI.Sprite)\n * - Logic components add functionality\n * - This class provides the system to manage those components\n * \n * @category Entities\n * @template T - The type of entity being managed\n * \n * @example\n * ```typescript\n * // Create a sprite and entity\n * const sprite = new PIXI.Sprite(texture);\n * const entity = new MoxiEntity(sprite);\n * \n * // Add logic\n * entity.addLogic(new MovementLogic());\n * entity.addLogic(new AnimationLogic());\n * \n * // Initialize all logic\n * entity.init(renderer);\n * \n * // Update all logic (usually called within the game loop)\n * entity.update(deltaTime);\n * ```\n */\nexport class MoxiEntity<T> implements MoxiEntityClass<T> {\n  /**\n   * Collection of logic components attached to this entity\n   */\n  logic: MoxiLogic<T> = {};\n  \n  /**\n   * Reference to the actual entity being managed\n   */\n  entity: T;\n\n  /**\n   * Creates a new MoxiEntity\n   * \n   * @param entity - The entity to manage\n   * @param logic - Optional map of initial logic to attach\n   */\n  constructor(entity: T, logic: MoxiLogic<T> = {}) {\n    this.logic = logic;\n    this.entity = entity;\n  }\n\n  /**\n   * Updates all active logic components attached to this entity\n   * Typically called each frame during the game loop\n   * \n   * @param deltaTime - Time in seconds since the last update\n   * \n   * @example\n   * ```typescript\n   * // In game loop\n   * function gameLoop(deltaTime) {\n   *   playerEntity.moxiEntity.update(deltaTime);\n   * }\n   * ```\n   */\n  update(deltaTime: number) { \n    for (const className in this.logic) {\n      const logicComponent = this.logic[className];\n      if(logicComponent.update && this.entity && logicComponent.active){\n        logicComponent.update(this.entity, deltaTime); \n      }\n    }\n    // TODO: update children?\n  }\n  \n  /**\n   * Initializes all logic components attached to this entity\n   * Typically called once when the entity is first created or added to the scene\n   * \n   * @param renderer - The PIXI renderer instance\n   * @param args - Additional arguments to pass to each logic component's init method\n   * \n   * @example\n   * ```typescript\n   * // When adding an entity to the scene\n   * scene.addChild(entitySprite);\n   * entitySprite.moxiEntity.init(renderer);\n   * ```\n   */\n  init(renderer: PIXI.Renderer<HTMLCanvasElement>, ...args: any[]) {\n    for (const className in this.logic) {\n      const logicComponent = this.logic[className];\n      if(logicComponent.init && this.entity){\n        logicComponent.init(this.entity, renderer, ...args);\n      }\n    }\n  } \n\n  /**\n   * Adds a logic component to this entity\n   * \n   * @param logic - The logic component to add\n   * \n   * @example\n   * ```typescript\n   * // Create and add logic\n   * const movementLogic = new MovementLogic();\n   * movementLogic.speed = 5;\n   * entitySprite.moxiEntity.addLogic(movementLogic);\n   * ```\n   */\n  addLogic(logic: Logic<T>) {\n    // Use explicit name if set, otherwise fall back to constructor name\n    const logicName = logic.name || logic.constructor.name;\n    this.logic[logicName] = logic;\n  }\n\n  /**\n   * Retrieves a logic component by name\n   * Useful for accessing and configuring specific logic components\n   * \n   * @template L - The type of logic to return\n   * @param name - The name of the logic to retrieve (usually the class name)\n   * @returns The logic instance, or undefined if not found\n   * \n   * @example\n   * ```typescript\n   * // Get and configure logic\n   * const movement = entitySprite.moxiEntity.getLogic<MovementLogic>('MovementLogic');\n   * if (movement) {\n   *   movement.speed = 10;\n   *   movement.direction = 'right';\n   * }\n   * ```\n   */\n  getLogic<L extends Logic<T>>(name: string): L | undefined {\n    return this.logic[name] as L | undefined;\n  }\n}\n\n/**\n * Helper function to convert a PIXI Container into an AsEntity\n * This is the primary way to create entities in Moxi\n * \n * @category Entities\n * @template T - The type of container being converted\n * @param entity - The PIXI Container to convert\n * @param logic - Optional initial logic to attach\n * @returns The enhanced container as an AsEntity\n * \n * @example\n * ```typescript\n * // Basic usage\n * const sprite = new PIXI.Sprite(texture);\n * const entitySprite = asEntity(sprite);\n * scene.addChild(entitySprite);\n * \n * // With initial logic\n * const player = asEntity(\n *   new PIXI.Sprite(playerTexture),\n *   {\n *     'PlayerMovement': new PlayerMovementLogic(),\n *     'Health': new HealthLogic(100)\n *   }\n * );\n * ```\n */\nexport function asEntity<T extends PIXI.Container>(entity: T, logic: MoxiLogic<T> = {}): AsEntity<T> {\n  const target = entity;\n  \n  // pixi patch: it's throwing an error on interactive events if isInteractive() doesn't exist.\n  target.isInteractive = () => false; \n\n  (target as unknown as AsEntity<T>).moxiEntity = new MoxiEntity<T>(target, logic);\n  return entity as unknown as AsEntity<T>;\n}\n\n","import PIXI, { Point } from 'pixi.js';\nimport { Logic } from './logic';\nimport { Scene } from './scene';\nimport { AsEntity, MoxiLogic, MoxiEntity } from './moxi-entity';\nimport { lerp } from '../library/utils';\n\n/**\n * Logic that handles camera movement, following targets, and smooth transitions.\n * \n * @category Logic\n * @implements {Logic<PIXI.Container>}\n */\nexport class CameraLogic extends Logic<PIXI.Container> {\n  /**\n   * Explicit name for the logic component (survives minification)\n   */\n  name = 'CameraLogic';\n  \n  /**\n   * Speed at which the camera transitions to its target position and scale\n   * @default 0.1\n   */\n  public speed: number = 0.1;\n  \n  /**\n   * The entity that the camera will follow\n   * @default null\n   */\n  public target: PIXI.Container = null;\n  \n  /**\n   * The entity this logic is attached to\n   */\n  entity: PIXI.Container<PIXI.ContainerChild>;\n  \n  /**\n   * Reference to the renderer for viewport calculations\n   */\n  renderer: PIXI.Renderer<HTMLCanvasElement>;\n\n  /**\n   * Initialize the camera logic\n   * @param entity - The container (camera) this logic is attached to\n   * @param renderer - The PIXI renderer instance\n   */\n  init(entity: PIXI.Container, renderer: PIXI.Renderer) {\n    this.entity = entity;\n    this.renderer = renderer;\n  }\n\n  /**\n   * Updates the camera position and scale based on targets and desired values\n   * @param entity - The Camera entity\n   * @param deltaTime - Time elapsed since last update in seconds\n   */\n  update(entity: Camera, deltaTime: number) {\n    const { speed } = this;\n    const deltaSpeed = Math.min(deltaTime * speed, 1);\n\n    // Track if scale is actively changing (zooming)\n    const isZooming = Math.abs(entity.scale.x - entity.desiredScale.x) > 0.01 ||\n                      Math.abs(entity.scale.y - entity.desiredScale.y) > 0.01;\n\n    // Interpolate scale values first\n    if (entity.desiredScale !== entity.scale) {\n      entity.scale.x = lerp(entity.scale.x, entity.desiredScale.x, deltaSpeed);\n      entity.scale.y = lerp(entity.scale.y, entity.desiredScale.y, deltaSpeed);\n    }\n\n    // Update desired position if camera has a target\n    if (this.target) {\n      // In a PIXI.js camera system, we need to position the camera (scene)\n      // so that the target appears centered in the viewport\n\n      // Get the center of the viewport in screen coordinates\n      const screenCenterX = this.renderer.width / 2;\n      const screenCenterY = this.renderer.height / 2;\n\n      // Calculate where the scene should be positioned\n      // The formula is: -(targetPosition * scale) + screenCenter\n      // This ensures the target is at the center of the screen\n      const desiredX = -(this.target.position.x * entity.scale.x) + screenCenterX;\n      const desiredY = -(this.target.position.y * entity.scale.y) + screenCenterY;\n\n      // Set desired position for the scene (using negative values for camera coordinates)\n      entity.desiredPosition.set(-desiredX, -desiredY);\n    }\n\n    // Interpolate position values\n    // When actively zooming, update position instantly to keep target centered\n    // Otherwise, interpolate smoothly for camera following\n    if (entity.desiredPosition !== entity.position) {\n      if (isZooming) {\n        // Instant position update during zoom to prevent target drift\n        entity.position.copyFrom(entity.desiredPosition);\n      } else {\n        // Smooth interpolation for normal camera following\n        entity.position.x = lerp(entity.position.x, entity.desiredPosition.x, deltaSpeed);\n        entity.position.y = lerp(entity.position.y, entity.desiredPosition.y, deltaSpeed);\n      }\n    }\n    \n    // Apply camera transformations to the scene\n    // In PIXI, the \"camera\" effect is created by transforming the scene in the opposite direction\n    entity.scene.scale.set(entity.scale.x, entity.scale.y);\n\n    // Position the scene at the negative of the camera position to create camera movement effect\n    entity.scene.position.set(-entity.position.x, -entity.position.y);\n  }\n}\n\n/**\n * Camera entity for controlling the viewport and following game objects.\n * The Camera applies transformations to the scene to simulate camera movement.\n * \n * @category Core\n * @implements {AsEntity<PIXI.Container>}\n * \n * @example\n * ```typescript\n * // Make the camera follow a player entity\n * camera.moxiEntity.getLogic<CameraLogic>('CameraLogic').target = player;\n * \n * // Set the camera zoom level\n * camera.desiredScale.set(2, 2); // 2x zoom\n * ```\n */\nexport class Camera extends PIXI.Container implements AsEntity<PIXI.Container> {\n  /**\n   * Reference to the scene being viewed by this camera\n   */\n  public scene: Scene;\n  \n  /**\n   * Reference to the renderer\n   */\n  public renderer: PIXI.Renderer;\n  \n  /**\n   * Speed at which the camera transitions\n   * @default 0.1\n   */\n  public speed: number = 0.1;\n  \n  /**\n   * MoxiEntity reference as required by the AsEntity interface\n   */\n  public moxiEntity: MoxiEntity<PIXI.Container>;\n  \n  /**\n   * The target scale (zoom) for the camera\n   * @default new Point(1, 1)\n   */\n  public desiredScale: Point = new Point(1, 1);\n  \n  /**\n   * The target position for the camera\n   * @default new Point(0, 0)\n   */\n  public desiredPosition: Point = new Point(0, 0); \n  \n  /**\n   * Creates a new Camera instance\n   * @param scene - The scene being viewed by this camera\n   * @param renderer - The PIXI renderer\n   * @param logic - Additional logic to attach to this camera\n   */\n  constructor(scene: Scene, renderer: PIXI.Renderer, logic: MoxiLogic<PIXI.Container> = {}) {\n    super();\n    this.scene = scene;\n    this.renderer = renderer;\n\n    // Initialize and attach the camera logic\n    const cameraLogic = new CameraLogic();\n    cameraLogic.init(this, renderer);\n    this.moxiEntity = new MoxiEntity<PIXI.Container>(this, logic);\n    this.moxiEntity.addLogic(cameraLogic);\n    this.scene.addChild(this);\n  }\n}  \n\n","import PIXI from 'pixi.js';\nimport { AssetLoader } from '../core/asset-loader';\nimport { Camera } from '../core/camera';\nimport { Engine } from '../core/engine';\nimport { RenderManager } from '../core/render-manager';\nimport { Scene } from '../core/scene';\n\nexport interface SetupMoxiArgs {\n  hostElement: HTMLElement;\n  renderOptions?: Partial<PIXI.AutoDetectOptions>;\n}\n\nexport interface SetupMoxiResult {\n  scene: Scene;\n  engine: Engine;\n  PIXIAssets: AssetLoader['PIXIAssets'];\n  renderer: PIXI.Renderer;\n  loadAssets: AssetLoader['loadAssets'];\n}\n\nexport const defaultRenderOptions = {\n  width: 1280, \n  height: 720, \n  backgroundColor: 0x1099bb \n} as Partial<PIXI.AutoDetectOptions>;\n\nexport async function setupMoxi({ hostElement, renderOptions = defaultRenderOptions } = {} as SetupMoxiArgs) {\n  const { renderer } = await RenderManager.create(hostElement, renderOptions);\n  const scene = new Scene(renderer);\n  const engine = new Engine(scene);\n  \n  // Get the singleton AssetLoader instance\n  const { PIXIAssets, loadAssets } = new AssetLoader();\n  \n  const camera = new Camera(scene, renderer);\n\n  return {\n    scene,\n    engine,\n    PIXIAssets,\n    renderer,\n    loadAssets,\n    camera\n  };\n}\n\n","import FontFaceObserver from 'fontfaceobserver';\nimport { BitmapFont } from 'pixi.js';\n\nexport const loadFonts = async () => {\n  // note that this references the font-face specified in the HTML style section\n  // <style>\n  // @font-face {\n  //   font-family: 'kenfuture-thin';\n  //   src: url('./assets/fonts/kenvector_future_thin.ttf');\n  // }\n  // </style>\n\n  // using fontfaceobserver allows us ensure the font is loaded before using configuration for bitmap fonts.\n  const fontKenfutureThin = new FontFaceObserver('kenfuture-thin');\n\n  // PIXI.BitmapFont.install will create a bitmap font from a font-face and TextStyle configuration\n  // Using a Bitmapfont allows for better performance when rapidly changing rendered text.\n  return new Promise((resolve) => {\n    fontKenfutureThin.load().then(() => {\n      BitmapFont.install({\n        name: 'kenfuture-thin',\n        style: {\n          fontFamily: 'kenfuture-thin'\n        }\n      });\n      resolve({ fontKenfutureThin });\n    });\n  });\n};","import PIXI from 'pixi.js';\n\n\n/**\n * Options for creating texture frames from a spritesheet\n */\nexport interface AsTextureFramesOptions {\n  /**\n   * Width of each frame in pixels\n   */\n  frameWidth: number;\n  \n  /**\n   * Height of each frame in pixels\n   */\n  frameHeight: number;\n  \n  /**\n   * Number of columns in the spritesheet\n   */\n  columns: number;\n  \n  /**\n   * Number of rows in the spritesheet\n   */\n  rows: number;\n}\n\n/**\n * Default texture frame options\n */\nconst defaultOptions: AsTextureFramesOptions = { \n  frameWidth: 48, \n  frameHeight: 48, \n  columns: 4, \n  rows: 4 \n};\n\n/**\n * Splits a texture source into individual texture frames based on a grid layout\n * \n * @param textureSource - The source texture to split into frames\n * @param options - Configuration options for frame extraction\n * @returns Array of individual texture frames\n */\nexport function asTextureFrames(\n  PIXI,\n  textureSource: PIXI.TextureSource, \n  options: AsTextureFramesOptions = defaultOptions,\n): PIXI.Texture<PIXI.TextureSource<any>>[] {\n  const { frameWidth, frameHeight, columns, rows } = options;\n  const frames: PIXI.Texture<PIXI.TextureSource<any>>[] = [];\n\n  // Ensure we're working with a validated texture source\n  if (!textureSource) {\n    console.error('Invalid texture source provided to asTextureFrames');\n    return frames;\n  }\n\n  // Create textures from the texture source - keeping implementation identical to working version\n  for (let y = 0; y < rows; y++) {\n    for (let x = 0; x < columns; x++) {\n      const frame = new PIXI.Rectangle(x * frameWidth, y * frameHeight, frameWidth, frameHeight);\n      \n      // Keep the exact same implementation as the working example\n      const frametexture = new PIXI.Texture({\n        source: textureSource,\n        frame: frame,\n      }) as PIXI.Texture<PIXI.TextureSource<any>>;\n      \n      frames.push(frametexture);\n    }\n  }\n  \n  return frames as PIXI.Texture<PIXI.TextureSource<any>>[];\n}\n","import PIXI from 'pixi.js';\n\n/**\n * Sequence information for an animation\n */\nexport interface SequenceInfo {\n  /** Array of frame indices from the texture atlas */\n  frames: number[];\n  /** Speed of animation (frames per ms) */\n  animationSpeed: number;\n}\n\n/**\n * Manages frame sequences for animated sprites\n * Provides utility functions for working with sprite sheet animations\n */\nexport class TextureFrameSequences {\n  private frames: PIXI.Texture[] = [];\n  private sequences: Record<string, SequenceInfo> = {};\n\n  /**\n   * Create a new TextureFrameSequences\n   * @param frames - Array of textures from a spritesheet\n   * @param sequences - Named sequences with frame indices and animation speed\n   */\n  constructor(frames: PIXI.Texture[], sequences: Record<string, SequenceInfo> = {}) {\n    this.frames = frames;\n    this.sequences = sequences;\n  }\n\n  /**\n   * Add a new animation sequence\n   * @param name - Unique identifier for the sequence\n   * @param frameIndices - Array of frame indices from the texture atlas\n   * @param animationSpeed - Speed of animation (frames per ms)\n   */\n  addSequence(name: string, frameIndices: number[], animationSpeed: number = 1) {\n    this.sequences[name] = {\n      frames: frameIndices,\n      animationSpeed\n    };\n  }\n\n  /**\n   * Get a sequence by name\n   */\n  getSequence(name: string): SequenceInfo | null {\n    return this.sequences[name] || null;\n  }\n\n  /**\n   * Get a specific frame by index\n   */\n  getFrame(index: number): PIXI.Texture | null {\n    return this.frames[index] || null;\n  }\n\n  /**\n   * Get a specific frame from a sequence by index\n   */\n  getFrameFromSequence(sequenceName: string, frameIndex: number): PIXI.Texture | null {\n    const sequence = this.getSequence(sequenceName);\n    if (!sequence) return null;\n    \n    // Get the appropriate frame index from the sequence\n    const sequenceFrameIndex = sequence.frames[frameIndex % sequence.frames.length];\n    \n    // Return the texture\n    return this.frames[sequenceFrameIndex] || null;\n  }\n\n  /**\n   * Get all frames for a sequence\n   */\n  getFrameSequence(name: string): PIXI.Texture[] {\n    const sequence = this.getSequence(name);\n    if (!sequence) return [];\n    \n    return sequence.frames.map(index => this.frames[index]).filter(Boolean);\n  }\n} ","import PIXI from 'pixi.js';\n\n/**\n * Configuration options for grid generation\n * @category Library\n */\nexport interface GridOptions {\n  width: number;\n  height: number;\n  cellWidth: number;\n  cellHeight: number;\n  centered?: boolean;\n}\n\n/**\n * Cell position information passed to callback functions\n * @category Library\n */\nexport interface CellPosition {\n  x: number;\n  y: number;\n  pixelX: number;\n  pixelY: number;\n  index: number;\n  total: number;\n}\n\n/**\n * Creates a grid of tiles using a set of textures\n * \n * @category Library\n * @param options - Configuration options for the grid\n * @param textures - Array of textures to use for the tiles\n * @param selector - Optional function to select which texture to use for each cell\n * @returns A PIXI Container with the generated tile grid\n * \n * @example\n * ```typescript\n * // Create a random grass field\n * const grassField = createTileGrid({\n *   width: 64,\n *   height: 64,\n *   cellWidth: 16,\n *   cellHeight: 16,\n *   centered: true\n * }, grassTextures);\n * ```\n */\nexport function createTileGrid(\n  options: GridOptions,\n  textures: PIXI.Texture[],\n  selector?: (position: CellPosition) => number\n): PIXI.Container {\n  const { width, height, cellWidth, cellHeight, centered = false } = options;\n  \n  // Default selector randomly chooses textures\n  const defaultSelector = () => Math.floor(Math.random() * textures.length);\n  const getTextureIndex = selector || defaultSelector;\n  \n  // Create container for the grid\n  const container = new PIXI.Container();\n  \n  // Calculate total number of cells\n  const totalCells = width * height;\n  \n  // Generate each cell in the grid\n  for (let y = 0; y < height; y++) {\n    for (let x = 0; x < width; x++) {\n      // Calculate pixel coordinates\n      const pixelX = x * cellWidth;\n      const pixelY = y * cellHeight;\n      \n      // Calculate index\n      const index = y * width + x;\n      \n      // Create cell position info\n      const position: CellPosition = {\n        x, y, pixelX, pixelY, index, total: totalCells\n      };\n      \n      // Get texture index for this position\n      const textureIndex = getTextureIndex(position);\n      \n      // Create sprite with the selected texture\n      const cell = new PIXI.Sprite(textures[textureIndex]);\n      cell.position.set(pixelX, pixelY);\n      \n      // Add to container\n      container.addChild(cell);\n    }\n  }\n  \n  // Center the grid if requested\n  if (centered) {\n    const gridWidth = width * cellWidth;\n    const gridHeight = height * cellHeight;\n    container.position.set(-gridWidth / 2, -gridHeight / 2);\n  }\n  \n  return container;\n}\n\n/**\n * Helper function to get a range of textures\n * \n * @category Library\n * @param textures - Full array of textures\n * @param startIndex - Starting index (from 0)\n * @param count - Number of textures to include\n * @returns Subset of textures\n * \n * @example\n * ```typescript\n * // Get the last 12 frames from a spritesheet\n * const tileVariations = getTextureRange(grassFrames, grassFrames.length - 12, 12);\n * ```\n */\nexport function getTextureRange(\n  textures: PIXI.Texture[],\n  startIndex: number,\n  count: number\n): PIXI.Texture[] {\n  return textures.slice(startIndex, startIndex + count);\n}\n\n","import { StateLogic } from './state-logic';\n\n// Define the custom event type for state changes\nexport type StateChangeEvent = {\n  prevState: string | null;\n  newState: string;\n};\n\ntype StateChangeEventListener = (event: StateChangeEvent) => void;\ntype StateLogicRecords = Record<string, StateLogic>;\n\nexport class StateMachine extends EventTarget {\n  private _states: StateLogicRecords = {};\n  private _currentState: StateLogic | null = null;\n  private _currentStateName: string | null = null;\n\n  constructor(states: StateLogicRecords = {}) {\n    super();\n    this._states = states;\n  }\n\n  update(deltaTime: number) {\n    if (this._currentState) {\n      this._currentState.update(this._currentState.entity, deltaTime);\n    }\n  }\n  \n  setState(stateName: string) {\n    const nextState = this._states[stateName];\n    if(!nextState) return;\n\n    const prevStateName = this._currentStateName;\n    \n    if (this._currentState) {\n      this._currentState.onExit(stateName);\n    }\n\n    this._currentState = this._states[stateName];\n    this._currentStateName = stateName;\n    this._currentState.onEnter(stateName);\n    \n    // Dispatch the state change event\n    const event = new CustomEvent<StateChangeEvent>('stateChange', {\n      detail: {\n        prevState: prevStateName,\n        newState: stateName\n      }\n    });\n    \n    this.dispatchEvent(event);\n  }\n\n  addState(state: StateLogic) {\n    this._states[state.name] = state;\n  }\n  \n  get currentState(): string | null {\n    return this._currentStateName;\n  }\n}\n\n","import * as PIXI from 'pixi.js';\nimport { MoxiEntity, AsEntity, asEntity } from '../core/moxi-entity';\n\nexport interface ParallaxLayerOptions {\n  scrollScale?: PIXI.Point;      // Motion multiplier (0.5 = half speed, like Godot's motion_scale)\n  scrollOffset?: PIXI.Point;     // Layer offset for positioning (like Godot's motion_offset)\n  repeatSize?: PIXI.Point;       // Mirroring/repeat interval (0 = no repeat, like Godot's motion_mirroring)\n  mirroring?: boolean;           // Enable automatic mirroring (requires repeatSize)\n}\n\n/**\n * Individual parallax layer that scrolls at a different speed based on scrollScale.\n *\n * Inspired by Godot's ParallaxLayer node.\n *\n * The scrollScale property controls how fast the layer moves relative to the camera:\n * - 0.0 = Static (doesn't move with camera, good for UI/HUD)\n * - 0.2 = Slow (appears far away, like sky)\n * - 0.5 = Medium (mid-ground elements)\n * - 0.9 = Fast (foreground elements)\n * - 1.0 = Moves with camera (game entities)\n * - >1.0 = Faster than camera (reverse parallax effect)\n *\n * @example\n * ```typescript\n * const layer = new ParallaxLayer({\n *   scrollScale: new PIXI.Point(0.5, 0.5), // Half camera speed\n *   scrollOffset: new PIXI.Point(0, 0)\n * });\n *\n * // Add sprites to the layer\n * const sprite = new PIXI.Sprite(texture);\n * layer.addChild(sprite);\n * ```\n */\nexport class ParallaxLayer extends PIXI.Container implements AsEntity<PIXI.Container> {\n  public moxiEntity: MoxiEntity<PIXI.Container>;\n  public scrollScale: PIXI.Point = new PIXI.Point(1, 1);\n  public scrollOffset: PIXI.Point = new PIXI.Point(0, 0);\n  public repeatSize: PIXI.Point = new PIXI.Point(0, 0);\n  public mirroring: boolean = false;\n\n  // Internal state\n  private _lastCameraPos: PIXI.Point = new PIXI.Point(0, 0);\n\n  constructor(options: ParallaxLayerOptions = {}) {\n    super();\n\n    this.scrollScale = options.scrollScale ?? new PIXI.Point(1, 1);\n    this.scrollOffset = options.scrollOffset ?? new PIXI.Point(0, 0);\n    this.repeatSize = options.repeatSize ?? new PIXI.Point(0, 0);\n    this.mirroring = options.mirroring ?? false;\n\n    // Convert to Moxi entity\n    const entity = asEntity(this);\n    this.moxiEntity = entity.moxiEntity;\n  }\n\n  /**\n   * Update layer position based on camera movement.\n   * Called by ParallaxBackgroundLogic each frame.\n   *\n   * @param cameraPos - Current camera position in world space\n   * @param cameraScale - Current camera scale/zoom\n   * @param backgroundOffset - Global background scroll offset\n   */\n  updateParallax(\n    cameraPos: PIXI.Point,\n    cameraScale: PIXI.Point,\n    backgroundOffset: PIXI.Point\n  ): void {\n    // Calculate effective scroll offset\n    const scrollX = (cameraPos.x + backgroundOffset.x) * this.scrollScale.x;\n    const scrollY = (cameraPos.y + backgroundOffset.y) * this.scrollScale.y;\n\n    // Zoom compensation: adjust offset based on camera zoom to prevent displacement\n    // When zoom changes, layers at different scroll scales shift relative to the focal point\n    // This compensation keeps them anchored correctly\n    // Formula derived from: offset = (1 - scrollScale) * (1.0 + 1.0 / zoom)\n    const zoomCompensationX = (1 - this.scrollScale.x) * (1.0 / cameraScale.x);\n    const zoomCompensationY = (1 - this.scrollScale.y) * (1.0 / cameraScale.y);\n\n    // Apply to layer position with zoom compensation\n    this.position.x = -scrollX + this.scrollOffset.x * zoomCompensationX;\n    this.position.y = -scrollY + this.scrollOffset.y * zoomCompensationY;\n\n    // Handle mirroring/wrapping if enabled\n    if (this.mirroring) {\n      if (this.repeatSize.x > 0) {\n        this.position.x = this.position.x % this.repeatSize.x;\n        if (this.position.x > 0) this.position.x -= this.repeatSize.x;\n      }\n      if (this.repeatSize.y > 0) {\n        this.position.y = this.position.y % this.repeatSize.y;\n        if (this.position.y > 0) this.position.y -= this.repeatSize.y;\n      }\n    }\n\n    this._lastCameraPos.copyFrom(cameraPos);\n  }\n}\n\nexport interface TilingParallaxLayerOptions extends ParallaxLayerOptions {\n  texture: PIXI.Texture;\n  width?: number;\n  height?: number;\n}\n\n/**\n * Specialized parallax layer using PIXI.TilingSprite for efficient infinite scrolling.\n *\n * This is the recommended approach for large, repeating backgrounds like sky, clouds,\n * or ground textures. TilingSprite is optimized for repeating patterns and uses\n * tilePosition for seamless scrolling without repositioning the container.\n *\n * @example\n * ```typescript\n * const skyLayer = new TilingParallaxLayer({\n *   texture: skyTexture,\n *   scrollScale: new PIXI.Point(0.2, 0.2)\n *   // width/height auto-detected from renderer\n * });\n * parallaxBackground.addLayer(skyLayer);\n * ```\n */\nexport class TilingParallaxLayer extends ParallaxLayer {\n  public tilingSprite: PIXI.TilingSprite;\n  private _autoSized: boolean = false;\n\n  constructor(options: TilingParallaxLayerOptions) {\n    super(options);\n\n    // Ensure texture wraps for seamless tiling\n    options.texture.source.style.addressMode = 'repeat';\n\n    // If dimensions not provided, use temporary values and auto-detect on first update\n    const width = options.width ?? 1;\n    const height = options.height ?? 1;\n\n    // Create TilingSprite as child\n    this.tilingSprite = new PIXI.TilingSprite({\n      texture: options.texture,\n      width: width,\n      height: height,\n    });\n\n    // Position TilingSprite to start from origin (0, 0) to cover the viewport\n    this.tilingSprite.position.set(0, 0);\n\n    this.addChild(this.tilingSprite);\n\n    // Mark if we need to auto-detect dimensions\n    this._autoSized = !options.width && !options.height;\n  }\n\n  /**\n   * Auto-detect renderer dimensions from the scene hierarchy\n   */\n  private autoDetectDimensions(): void {\n    if (!this._autoSized) return;\n\n    // Walk up parent chain to find a node with a renderer\n    let current: any = this.parent;\n    while (current) {\n      if (current.renderer) {\n        // Found a renderer (usually on Scene)\n        this.resize(current.renderer.width, current.renderer.height);\n        this._autoSized = false; // Only need to do this once\n        return;\n      }\n      current = current.parent;\n    }\n  }\n\n  /**\n   * Override updateParallax to use tilePosition instead of container position.\n   * This provides seamless infinite scrolling without visible seams.\n   *\n   * Since the ParallaxBackground container now follows the camera, layers inside\n   * stay at (0,0) and only use tilePosition for the parallax scrolling effect.\n   *\n   * Camera scale is used to resize the TilingSprite to cover the viewport at different zoom levels.\n   */\n  updateParallax(\n    cameraPos: PIXI.Point,\n    cameraScale: PIXI.Point,\n    backgroundOffset: PIXI.Point\n  ): void {\n    // Auto-detect dimensions on first update if not manually specified\n    this.autoDetectDimensions();\n\n    // Adjust TilingSprite size based on camera zoom to ensure full coverage\n    // When zoomed out (scale < 1), we need a larger sprite to cover the viewport\n    // When zoomed in (scale > 1), sprite can be smaller but we keep it at renderer size for simplicity\n    const baseWidth = this.tilingSprite.texture.width;\n    const baseHeight = this.tilingSprite.texture.height;\n\n    // Only resize if we have valid base dimensions (after auto-detect)\n    if (baseWidth > 1 && baseHeight > 1) {\n      const scaleX = Math.max(0.1, cameraScale.x); // Clamp to avoid division by zero\n      const scaleY = Math.max(0.1, cameraScale.y);\n\n      this.tilingSprite.width = baseWidth / scaleX;\n      this.tilingSprite.height = baseHeight / scaleY;\n    }\n\n    // Calculate effective scroll offset for tilePosition\n    const scrollX = (cameraPos.x + backgroundOffset.x) * this.scrollScale.x;\n    const scrollY = (cameraPos.y + backgroundOffset.y) * this.scrollScale.y;\n\n    // Zoom compensation offset to prevent displacement during zoom changes\n    // Derived from Godot formula: offset = viewport_center * (1 - scrollScale) * (1.0 + 1.0 / zoom)\n    // This keeps layers anchored to the correct position relative to the zoom focal point\n    const renderer = this.parent?.parent as any; // Get renderer from scene\n    if (renderer?.renderer) {\n      const viewportCenterX = renderer.renderer.width * 0.5;\n      const viewportCenterY = renderer.renderer.height * 0.5;\n\n      const zoomOffsetX = viewportCenterX * (1 - this.scrollScale.x) * (1.0 + 1.0 / cameraScale.x);\n      const zoomOffsetY = viewportCenterY * (1 - this.scrollScale.y) * (1.0 + 1.0 / cameraScale.y);\n\n      // Apply to tilePosition with zoom compensation\n      this.tilingSprite.tilePosition.x = -scrollX + this.scrollOffset.x + zoomOffsetX;\n      this.tilingSprite.tilePosition.y = -scrollY + this.scrollOffset.y + zoomOffsetY;\n    } else {\n      // Fallback without zoom compensation\n      this.tilingSprite.tilePosition.x = -scrollX + this.scrollOffset.x;\n      this.tilingSprite.tilePosition.y = -scrollY + this.scrollOffset.y;\n    }\n\n    // Layer container stays at origin (0, 0) since ParallaxBackground follows camera\n    this.position.set(0, 0);\n  }\n\n  /**\n   * Update TilingSprite dimensions (e.g., on window resize)\n   */\n  resize(width: number, height: number): void {\n    this.tilingSprite.width = width;\n    this.tilingSprite.height = height;\n  }\n}\n","import * as PIXI from 'pixi.js';\nimport { MoxiEntity, AsEntity, asEntity } from '../core/moxi-entity';\nimport { Logic } from '../core/logic';\nimport { Camera } from '../core/camera';\nimport { ParallaxLayer } from './parallax-layer';\n\nexport interface ParallaxBackgroundOptions {\n  camera?: Camera;                    // Reference to camera (auto-detected if not provided)\n  scrollOffset?: PIXI.Point;          // Base scroll offset\n  scrollBaseScale?: PIXI.Point;       // Base scale multiplier\n  scrollIgnoreCameraZoom?: boolean;   // Disable zoom affecting parallax\n  autoscroll?: PIXI.Point;            // Automatic scrolling independent of camera\n}\n\n/**\n * Container for all parallax layers that manages global parallax behavior\n * and coordinates with the Camera system.\n *\n * Inspired by Godot's ParallaxBackground node.\n *\n * @example\n * ```typescript\n * const parallax = new ParallaxBackground();\n * const skyLayer = new TilingParallaxLayer({\n *   texture: skyTexture,\n *   scrollScale: new PIXI.Point(0.2, 0.2)\n * });\n * parallax.addLayer(skyLayer);\n * scene.addChild(parallax);\n * ```\n */\nexport class ParallaxBackground extends PIXI.Container implements AsEntity<PIXI.Container> {\n  public moxiEntity: MoxiEntity<PIXI.Container>;\n  public camera: Camera | null = null;\n  public scrollOffset: PIXI.Point = new PIXI.Point(0, 0);\n  public scrollBaseScale: PIXI.Point = new PIXI.Point(1, 1);\n  public scrollIgnoreCameraZoom: boolean = false;\n  public autoscroll: PIXI.Point = new PIXI.Point(0, 0);\n\n  constructor(options: ParallaxBackgroundOptions = {}) {\n    super();\n\n    // Apply options\n    this.camera = options.camera ?? null;\n    this.scrollOffset = options.scrollOffset ?? new PIXI.Point(0, 0);\n    this.scrollBaseScale = options.scrollBaseScale ?? new PIXI.Point(1, 1);\n    this.scrollIgnoreCameraZoom = options.scrollIgnoreCameraZoom ?? false;\n    this.autoscroll = options.autoscroll ?? new PIXI.Point(0, 0);\n\n    // Convert to Moxi entity with ParallaxBackgroundLogic\n    const entity = asEntity(this);\n    entity.moxiEntity.addLogic(new ParallaxBackgroundLogic());\n    this.moxiEntity = entity.moxiEntity;\n  }\n\n  /**\n   * Adds a ParallaxLayer to the background\n   */\n  addLayer(layer: ParallaxLayer): void {\n    this.addChild(layer);\n  }\n\n  /**\n   * Auto-detect camera from scene hierarchy\n   */\n  private detectCamera(): Camera | null {\n    let current = this.parent;\n    while (current) {\n      if (current instanceof Camera) {\n        return current;\n      }\n      current = current.parent;\n    }\n    return null;\n  }\n\n  /**\n   * Get the effective camera position for parallax calculation\n   */\n  getCameraPosition(): PIXI.Point {\n    const camera = this.camera ?? this.detectCamera();\n    if (!camera) {\n      return new PIXI.Point(0, 0);\n    }\n\n    // In MOXI's camera system, camera.position represents where the camera is looking\n    // The scene is positioned at -camera.position to create the camera effect\n    return new PIXI.Point(\n      camera.position.x,\n      camera.position.y\n    );\n  }\n\n  /**\n   * Get the effective camera scale/zoom for parallax calculation\n   */\n  getCameraScale(): PIXI.Point {\n    if (this.scrollIgnoreCameraZoom) {\n      return new PIXI.Point(1, 1);\n    }\n\n    const camera = this.camera ?? this.detectCamera();\n    if (!camera) {\n      return new PIXI.Point(1, 1);\n    }\n\n    return new PIXI.Point(camera.scale.x, camera.scale.y);\n  }\n}\n\n/**\n * Logic component that updates the parallax background based on camera movement and autoscroll.\n */\nexport class ParallaxBackgroundLogic extends Logic<ParallaxBackground> {\n  name = 'ParallaxBackgroundLogic';\n\n  update(entity: ParallaxBackground, deltaTime: number) {\n    // Apply autoscroll\n    if (entity.autoscroll.x !== 0 || entity.autoscroll.y !== 0) {\n      entity.scrollOffset.x += entity.autoscroll.x * deltaTime;\n      entity.scrollOffset.y += entity.autoscroll.y * deltaTime;\n    }\n\n    // Get camera position for child layers to reference\n    const cameraPos = entity.getCameraPosition();\n    const cameraScale = entity.getCameraScale();\n\n    // CRITICAL: Position the ParallaxBackground to cancel out the scene's camera transform\n    // Since ParallaxBackground is a child of scene, and scene is positioned at (-camera.x, -camera.y),\n    // we need to position ParallaxBackground at (camera.x, camera.y) to keep it centered on viewport\n    // Additionally, account for scene scale\n    const scene = entity.parent;\n    if (scene) {\n      entity.position.x = cameraPos.x / scene.scale.x;\n      entity.position.y = cameraPos.y / scene.scale.y;\n    } else {\n      entity.position.x = cameraPos.x;\n      entity.position.y = cameraPos.y;\n    }\n\n    // Update all child ParallaxLayers\n    entity.children.forEach((child: any) => {\n      if (child instanceof ParallaxLayer) {\n        child.updateParallax(cameraPos, cameraScale, entity.scrollOffset);\n      }\n    });\n  }\n}\n","import * as utils from './library/utils';\nimport { RenderManager } from './core/render-manager';\nimport { Scene } from './core/scene';\nimport { Engine } from './core/engine';\nimport { EventEmitter } from './core/event-system';\nimport { ClientEvents } from './library/client-events';\nimport { AssetLoader } from './core/asset-loader';\nimport { Logic } from './core/logic';\nimport { defaultRenderOptions, setupMoxi } from './library/setup';\nimport { loadFonts } from './library/font-loader';\nimport { asEntity, MoxiEntity } from './core/moxi-entity';\nimport { Camera, CameraLogic } from './core/camera';\nimport { asTextureFrames } from './library/texture-frames';\nimport { TextureFrameSequences, SequenceInfo } from './library/texture-frame-sequences';\nimport { createResizeHandler, setupResponsiveCanvas, ResizeHandlerOptions } from './library/resize-handler';\nimport { StateMachine } from './library/state-machine';\nimport { StateLogic } from './library/state-logic';\nimport { createTileGrid, getTextureRange } from './library/grid-generator';\nimport { ParallaxBackground, ParallaxBackgroundLogic } from './library/parallax-background';\nimport { ParallaxLayer, TilingParallaxLayer } from './library/parallax-layer';\n\nexport type { StateChangeEvent } from './library/state-machine';\nexport type { AsTextureFramesOptions } from './library/texture-frames';\nexport type { GridOptions, CellPosition } from './library/grid-generator';\nexport type { ParallaxBackgroundOptions } from './library/parallax-background';\nexport type { ParallaxLayerOptions, TilingParallaxLayerOptions } from './library/parallax-layer';\n\nexport type Asset = { src: string, alias?: string };\n\nexport interface OnEvent {\n  event: Event;\n  eventType: string;\n}\n\nexport interface ClientEventsArgs {\n  initWheelOffset?: any;\n  onAnyEvent?: (ev: OnEvent) => void;\n}\n\nexport type ClientEventsType = {\n  keyDownEvent?: KeyboardEvent;\n  keyUpEvent?: KeyboardEvent;\n  keydown?: Record<string, KeyboardEvent>;\n  mouseDownEvent?: MouseEvent;\n  mouseUpEvent?: MouseEvent;\n  lastMouseDown?: MouseEvent;\n  lastMouseUp?: MouseEvent;\n  wheelEvent?: WheelEvent;\n  wheelDelta?: { yValue: 0 | number, xValue: 0 | number, xLast: number, yLast: number }\n}\n\n// Re-export types\nexport { \n  SequenceInfo, \n  ResizeHandlerOptions \n};\n\nconst exportedObjects = {\n  AssetLoader,\n  asEntity,\n  asTextureFrames,\n  Logic,\n  Camera,\n  CameraLogic,\n  ClientEvents,\n  createResizeHandler,\n  createTileGrid,\n  defaultRenderOptions,\n  Engine,\n  EventEmitter,\n  getTextureRange,\n  loadFonts,\n  MoxiEntity,\n  ParallaxBackground,\n  ParallaxBackgroundLogic,\n  ParallaxLayer,\n  setupMoxi,\n  RenderManager,\n  Scene,\n  setupResponsiveCanvas,\n  TextureFrameSequences,\n  TilingParallaxLayer,\n  utils,\n  StateMachine,\n  StateLogic\n};\n\nexport default exportedObjects;\n\nexport {\n  AssetLoader,\n  asEntity,\n  asTextureFrames,\n  Logic,\n  Camera,\n  CameraLogic,\n  ClientEvents,\n  createResizeHandler,\n  createTileGrid,\n  defaultRenderOptions,\n  Engine,\n  EventEmitter,\n  getTextureRange,\n  loadFonts,\n  MoxiEntity,\n  ParallaxBackground,\n  ParallaxBackgroundLogic,\n  ParallaxLayer,\n  setupMoxi,\n  RenderManager,\n  Scene,\n  setupResponsiveCanvas,\n  TextureFrameSequences,\n  TilingParallaxLayer,\n  utils,\n  StateMachine,\n  StateLogic\n};\n\n","/**\n * Centralized asset configuration\n * Maps asset aliases to their actual paths\n * \n * Note: Paths use ../assets/ because the built files are in dist/\n * and assets folder is at the project root level\n */\n\nexport const ASSETS = {\n  // Characters\n  ROBOT_IDLE: '../assets/character_robot_idle.png',\n  SPROUTLANDS_CHARACTER: '../assets/sprout-lands-basic/Characters/Basic Charakter Spritesheet.png',\n  CHICKEN: '../assets/sprout-lands-basic/Characters/Free Chicken Sprites.png',\n  COW: '../assets/sprout-lands-basic/Characters/Free Cow Sprites.png',\n  \n  // Tiles\n  GRASS_TILES: '../assets/sprout-lands-basic/Tilesets/Grass.png',\n  WATER_TILES: '../assets/sprout-lands-basic/Tilesets/Water.png',\n  HILLS_TILES: '../assets/sprout-lands-basic/Tilesets/Hills.png',\n  \n  // Objects\n  FURNITURE: '../assets/sprout-lands-basic/Objects/Basic_Furniture.png',\n  PLANTS: '../assets/sprout-lands-basic/Objects/Basic_Plants.png',\n  TOOLS: '../assets/sprout-lands-basic/Objects/Basic_tools_and_meterials.png',\n  \n  // Fantasy Theme\n  FANTASY_CHARACTER_IDLE: '../assets/LegacyFantasy-HighForest/Character/Idle/Idle-Sheet.png',\n  FANTASY_CHARACTER_RUN: '../assets/LegacyFantasy-HighForest/Character/Run/Run-Sheet.png',\n  FANTASY_CHARACTER_JUMP: '../assets/LegacyFantasy-HighForest/Character/Jump-All/Jump-All-Sheet.png',\n  FANTASY_BACKGROUND: '../assets/LegacyFantasy-HighForest/Background/Background.png',\n  FANTASY_TREES: '../assets/LegacyFantasy-HighForest/Assets/Tree-Assets.png',\n  \n  // Space Theme\n  SPACE_NEBULA_BLUE: '../assets/space-backgrounds/Nebula Blue.png',\n  SPACE_NEBULA_RED: '../assets/space-backgrounds/Nebula Red.png',\n  SPACE_STARS_SMALL: '../assets/space-backgrounds/Stars Small_1.png',\n  SPACE_STARS_SMALL_2: '../assets/space-backgrounds/Stars Small_2.png',\n  SPACE_SHOOTER_SHEET: '../assets/space-sprite-sheets/space-shooter.png',\n  SPACE_SHOOTER_JSON: '../assets/space-sprite-sheets/space-shooter.json',\n  \n  // UI\n  UI_BUTTONS: '../assets/ui-pack/png/blue_button00.png',\n  UI_PANEL: '../assets/ui-pack/png/blue_panel.png',\n  \n  // Fonts\n  KENFUTURE_THIN_FONT: '../assets/custom-fonts/kenvector_future_thin.ttf',\n  KENFUTURE_FONT: '../assets/custom-fonts/kenvector_future.ttf',\n  PIXEL_FONT_SPROUTLANDS: '../assets/sprout-lands-ui-basic/fonts/pixelFont-7-8x14-sproutLands.ttf'\n} as const;\n\nexport type AssetKey = keyof typeof ASSETS;\n\n","import { utils, setupMoxi, Logic, asEntity } from 'moxi';\nimport { Sprite, BitmapText, Renderer } from 'pixi.js';\nimport { ASSETS } from '../assets-config';\n\nconst { rad2deg } = utils;\n\nclass RotationLabel extends Logic<BitmapText> {\n  targetEntity: Sprite = null;\n\n  constructor(targetEntity: Sprite) {\n    super();\n    this.targetEntity = targetEntity;\n  }\n\n  update(entity: BitmapText) {\n    entity.text = `${(Math.round(rad2deg(this.targetEntity.rotation)) + 90) % 360}Â°`;\n  }\n}\n\nclass CharacterLogic extends Logic<Sprite> {\n  update(entity: Sprite, deltaTime: number) {\n    entity.rotation += deltaTime * 0.1;\n  }\n\n  init(entity: Sprite, renderer: Renderer<HTMLCanvasElement>) {\n    const { width, height } = renderer.canvas;\n    entity.anchor.set(0.5);\n    entity.x = width / 2;\n    entity.y = height / 2;\n  }\n} \n\nexport async function initRotatingSprite() {\n  const root = document.getElementById('app');\n  if (!root) throw new Error('App element not found');\n\n  const { scene, engine, PIXIAssets, loadAssets } = await setupMoxi({ hostElement: root });\n  const { renderer } = scene;\n  renderer.background.color = 'green';\n\n  await loadAssets([\n    { src: ASSETS.ROBOT_IDLE, alias: 'character' },\n    { src: ASSETS.KENFUTURE_THIN_FONT, alias: 'kenfuture-thin' }\n  ]);\n  \n  const labelText = new BitmapText({\n    text: '0Â°',\n    style: {\n      fontFamily: 'kenfuture-thin', \n      fontSize: 32, \n      fontStyle: 'normal', \n      fill: 'white',\n    }\n  });\n\n  const texture = PIXIAssets.get('character');\n  const characterSprite = new Sprite({ texture });\n  characterSprite.eventMode = 'none';\n\n  const label = asEntity(labelText);\n  label.position.set(renderer.canvas.width / 2, 50);\n  label.moxiEntity.addLogic(new RotationLabel(characterSprite));\n\n  const character = asEntity<Sprite>(characterSprite);\n  character.moxiEntity.addLogic(new CharacterLogic());\n  \n  scene.addChild(character);\n  scene.addChild(label);\n  scene.init();\n  engine.start();\n\n  console.log('â Rotating Sprite example loaded');\n}\n\n","import { Logic, asEntity, setupMoxi } from 'moxi';\nimport * as PIXI from 'pixi.js';\nimport { ASSETS } from '../assets-config';\n\n/**\n * Progress Bar Example\n * Demonstrates a custom Logic component that creates an animated progress bar\n */\n\nexport interface ProgressBarOptions {\n  barWidth?: number;\n  barHeight?: number;\n  max?: number;\n  min?: number;\n  color?: string | number;\n  backgroundColor?: string | number;\n  barPadding?: PIXI.Point;\n  value?: number;\n  bitmapText?: Partial<PIXI.TextStyle>;\n}\n\nexport const defaultProgressBarOptions: ProgressBarOptions = {\n  barWidth: 200,\n  barHeight: 20,\n  max: 100,\n  min: 0,\n  color: 0x00ff00,\n  backgroundColor: 0x555555,\n  barPadding: new PIXI.Point(5, 5),\n  bitmapText: {\n    fontFamily: 'kenfuture-thin', \n    fontSize: 32, \n    fontStyle: 'normal', \n    fill: 'black', \n  }\n};\n\nexport class ProgressBarLogic extends Logic<PIXI.Sprite> {\n  backgroundBar: PIXI.Graphics;\n  forgroundBar: PIXI.Graphics;\n  bitmapText: PIXI.BitmapText;\n  value: number;\n\n  constructor(public options: ProgressBarOptions = {}) {\n    super();\n    this.forgroundBar = new PIXI.Graphics();\n    this.backgroundBar = new PIXI.Graphics();\n    this.value = 0;\n    this.options = { ...defaultProgressBarOptions, ...options };\n  }\n\n  setValue(value: number) {\n    this.value = value;\n  }\n\n  init(entity: PIXI.Sprite, renderer: PIXI.Renderer<HTMLCanvasElement>) {\n    const { width, height } = renderer.canvas;\n    const { backgroundColor, color, barWidth, barHeight, barPadding, bitmapText } = this.options;\n    const padding = new PIXI.Point(barPadding.x, barPadding.y);\n\n    this.value = 0;\n\n    this.backgroundBar = new PIXI.Graphics();\n    this.backgroundBar.rect(0, 0, barWidth, barHeight);\n    this.backgroundBar.fill(backgroundColor);\n       \n    this.forgroundBar = new PIXI.Graphics(); \n    this.forgroundBar.rect(padding.x, padding.y, 0, barHeight - padding.y);\n    this.forgroundBar.fill(color);\n    \n    this.bitmapText = new PIXI.BitmapText({\n      text: `%${this.value}`,\n      style: bitmapText\n    } as PIXI.TextOptions);\n    \n    this.bitmapText.position.set(\n      (barWidth / 2) - (this.bitmapText.width / 2), \n      (barHeight / 2) - (this.bitmapText.height / 2)\n    );\n\n    this.backgroundBar.eventMode = 'none';\n    this.forgroundBar.eventMode = 'none';\n    this.bitmapText.eventMode = 'none';\n\n    entity.addChild(this.backgroundBar);\n    entity.addChild(this.forgroundBar);\n    entity.addChild(this.bitmapText);\n\n    entity.position.set(\n       (width / 2) - barWidth / 2,\n       (height / 3) - barHeight / 2\n    );\n  }\n\n  update(entity: PIXI.Sprite, deltaTime: number) {\n    const { max, barWidth, barHeight, color, backgroundColor, barPadding } = this.options;\n    const padding = new PIXI.Point(barPadding.x, barPadding.y);\n\n    const paddedWidth = (barWidth - padding.x * 2);\n    const percent = (this.value / max);\n    const width = Math.min(paddedWidth * percent, paddedWidth);\n\n    this.backgroundBar.clear();\n    this.backgroundBar.rect(0, 0, barWidth, barHeight);\n    this.backgroundBar.fill(backgroundColor);\n\n    this.forgroundBar.clear();\n    this.forgroundBar.rect(padding.x, padding.y, width, barHeight - (padding.y * 2));\n    this.forgroundBar.fill(color);\n\n    const textvalue = Math.floor(percent * 100);\n    if (this.bitmapText) {\n      this.bitmapText.text = '%' + textvalue;\n    }\n\n    if (this.value > max) {\n      this.forgroundBar.clear();\n      this.setValue(0);\n    }\n    if (this.value <= max) {\n      const nextValue = this.value += (deltaTime);\n      this.setValue(nextValue);\n    }\n  }\n}\n\nexport async function initProgressBar() {\n  const root = document.getElementById('app');\n  if (!root) throw new Error('App element not found');\n\n  const { scene, engine, loadAssets } = await setupMoxi({ hostElement: root });\n  \n  // Load the font for the percentage text\n  await loadAssets([\n    { src: ASSETS.KENFUTURE_THIN_FONT, alias: 'kenfuture-thin' }\n  ]);\n\n  const moxiProgressBar = asEntity<PIXI.Container>(new PIXI.Container());\n    \n  const barOptions: ProgressBarOptions = { \n    backgroundColor: 'silver',\n    color: 'green',\n    barHeight: 55,\n    bitmapText: { \n      ...defaultProgressBarOptions.bitmapText,\n      fontSize: 32, \n      align: 'center',\n      fill: 'black' \n    }\n  };\n  \n  moxiProgressBar.moxiEntity.addLogic(\n    new ProgressBarLogic({ ...defaultProgressBarOptions, ...barOptions })\n  );\n  \n  scene.addChild(moxiProgressBar);\n  scene.init();\n  engine.start();\n\n  console.log('â Progress Bar example loaded');\n}\n\n","import { Logic, ClientEvents, TextureFrameSequences } from 'moxi';\nimport * as PIXI from 'pixi.js';\n\n// Define animation directions\nexport const DIRECTION = {\n  DOWN: 'down',\n  UP: 'up',\n  LEFT: 'left',\n  RIGHT: 'right'\n} as const;\n\nexport type Direction = typeof DIRECTION[keyof typeof DIRECTION];\n\n// Animation states\nexport const ANIMATION_STATE = {\n  IDLE: 'idle',\n  WALK: 'walk'\n} as const;\n\nexport type AnimationState = typeof ANIMATION_STATE[keyof typeof ANIMATION_STATE];\n\n// Default movement settings\nexport interface MovementOptions {\n  speed: number;\n  allowDiagonal?: boolean;\n}\n\nexport const DEFAULT_MOVEMENT_OPTIONS: MovementOptions = {\n  speed: 2,\n  allowDiagonal: true\n};\n\n/**\n * Generic movement logic that can be applied to any sprite using directional animations\n */\nexport class PlayerMovementLogic extends Logic<PIXI.AnimatedSprite> {\n  private clientEvents: ClientEvents;\n  private direction: Direction = DIRECTION.DOWN;\n  private animationState: AnimationState = ANIMATION_STATE.IDLE;\n  private moving: boolean = false;\n  private animationTimer: number = 0;\n  private frameIndex: number = 0;\n  private options: MovementOptions;\n  private frameSequences: TextureFrameSequences;\n  private currentSequenceName: string = '';\n  private velocity: PIXI.Point = new PIXI.Point(0, 0);\n  \n  constructor(options: Partial<MovementOptions> = {}, frameSequences: TextureFrameSequences) {\n    super();\n    this.options = { ...DEFAULT_MOVEMENT_OPTIONS, ...options };\n    this.frameSequences = frameSequences;\n  }\n  \n  init(entity: PIXI.AnimatedSprite, renderer: PIXI.Renderer<HTMLCanvasElement>) {\n    this.clientEvents = new ClientEvents();\n    this.setAnimationState(ANIMATION_STATE.IDLE, this.direction);\n    this.updateTexture(entity);\n  }\n  \n  private getSequenceKey(state: AnimationState, direction: Direction): string {\n    return `${state}${direction.charAt(0).toUpperCase() + direction.slice(1)}`;\n  }\n  \n  private setAnimationState(state: AnimationState, direction: Direction) {\n    this.animationState = state;\n    this.direction = direction;\n    this.currentSequenceName = this.getSequenceKey(state, direction);\n    this.animationTimer = 0;\n    this.frameIndex = 0;\n  }\n  \n  private getDirectionFromVelocity(velocity: PIXI.Point): Direction {\n    if (velocity.x === 0 && velocity.y === 0) {\n      return this.direction;\n    }\n    \n    if (Math.abs(velocity.x) > Math.abs(velocity.y)) {\n      return velocity.x > 0 ? DIRECTION.RIGHT : DIRECTION.LEFT;\n    } else {\n      return velocity.y > 0 ? DIRECTION.DOWN : DIRECTION.UP;\n    }\n  }\n  \n  private normalizeVelocity(velocity: PIXI.Point, speed: number): PIXI.Point {\n    if (velocity.x === 0 && velocity.y === 0) {\n      return velocity;\n    }\n    \n    const length = Math.sqrt(velocity.x * velocity.x + velocity.y * velocity.y);\n    \n    if (length > 0) {\n      velocity.x = (velocity.x / length) * speed;\n      velocity.y = (velocity.y / length) * speed;\n    }\n    \n    return velocity;\n  }\n  \n  update(entity: PIXI.AnimatedSprite, deltaTime: number) {\n    const { clientEvents, frameSequences, velocity } = this;\n    const { speed } = this.options;\n    \n    // Reset velocity vector\n    this.velocity.set(0, 0);\n    \n    // Calculate movement based on key presses\n    if (clientEvents.isKeyDown('ArrowUp')) {\n      velocity.y -= 1;\n    }\n    if (clientEvents.isKeyDown('ArrowDown')) {\n      velocity.y += 1;\n    }\n    if (clientEvents.isKeyDown('ArrowLeft')) {\n      velocity.x -= 1;\n    }\n    if (clientEvents.isKeyDown('ArrowRight')) {\n      velocity.x += 1;\n    }\n    \n    // Normalize velocity to maintain constant speed\n    this.normalizeVelocity(velocity, speed);\n    \n    // Apply movement\n    entity.x += velocity.x;\n    entity.y += velocity.y;\n    \n    // Determine if we're moving\n    const isMoving = velocity.x !== 0 || velocity.y !== 0;\n    \n    // Get dominant direction\n    const newDirection = this.getDirectionFromVelocity(velocity);\n    \n    // Update animation state if movement state changed\n    const newState = isMoving ? ANIMATION_STATE.WALK : ANIMATION_STATE.IDLE;\n    if (newState !== this.animationState || newDirection !== this.direction) {\n      this.setAnimationState(newState, newDirection);\n      this.updateTexture(entity);\n    }\n    \n    // Handle animation timing\n    const sequence = frameSequences.getSequence(this.currentSequenceName);\n    if (sequence && sequence.frames.length > 0) {\n      this.animationTimer += deltaTime;\n      const animSpeed = sequence.animationSpeed;\n      \n      if (this.animationTimer >= animSpeed) {\n        this.animationTimer = 0;\n        this.updateAnimation(entity);\n      }\n    }\n    \n    this.moving = isMoving;\n  }\n  \n  getDirection(): Direction {\n    return this.direction;\n  }\n  \n  getAnimationState(): AnimationState {\n    return this.animationState;\n  }\n  \n  isMoving(): boolean {\n    return this.moving;\n  }\n  \n  getVelocity(): PIXI.Point {\n    return this.velocity;\n  }\n  \n  private updateAnimation(entity: PIXI.AnimatedSprite) {\n    const sequence = this.frameSequences.getSequence(this.currentSequenceName);\n    if (!sequence || sequence.frames.length === 0) return;\n    \n    this.frameIndex = (this.frameIndex + 1) % sequence.frames.length;\n    this.updateTexture(entity);\n  }\n  \n  private updateTexture(entity: PIXI.AnimatedSprite) {\n    const sequence = this.frameSequences.getSequence(this.currentSequenceName);\n    if (!sequence || sequence.frames.length === 0) return;\n    \n    const textureIndex = sequence.frames[this.frameIndex];\n    const frame = this.frameSequences.getFrame(textureIndex);\n    \n    if (frame) {\n      entity.texture = frame;\n    }\n  }\n}\n\n","import {\n  setupMoxi,\n  asEntity,\n  CameraLogic,\n  ParallaxBackground,\n  TilingParallaxLayer,\n  Logic\n} from 'moxi';\nimport * as PIXI from 'pixi.js';\nimport { ASSETS } from '../assets-config';\nimport { ClientEvents } from 'moxi';\n\n/**\n * Parallax Space Shooter Example\n * Demonstrates parallax scrolling with multiple layers at different speeds\n * Features:\n * - Nebula background layer (slow scroll - 0.3x)\n * - Stars foreground layer (medium scroll - 0.6x)\n * - Player ship with keyboard controls\n * - Camera following the player\n * - Mouse wheel zoom in/out to test parallax with camera scale\n */\n\n/**\n * HUD display logic for debugging camera and ship positions\n */\nclass HudDisplayLogic extends Logic<PIXI.Container> {\n  name = 'HudDisplayLogic';\n  private shipText: PIXI.Text;\n  private cameraText: PIXI.Text;\n  private zoomText: PIXI.Text;\n  private ship: PIXI.Sprite;\n  private camera: any;\n\n  constructor(ship: PIXI.Sprite, camera: any) {\n    super();\n    this.ship = ship;\n    this.camera = camera;\n  }\n\n  init(entity: PIXI.Container, renderer: PIXI.Renderer) {\n    const textStyle = new PIXI.TextStyle({\n      fontFamily: 'monospace',\n      fontSize: 14,\n      fill: 0xFFFFFF,\n      stroke: { color: 0x000000, width: 2 }\n    });\n\n    this.shipText = new PIXI.Text({ text: '', style: textStyle });\n    this.shipText.position.set(10, 10);\n\n    this.cameraText = new PIXI.Text({ text: '', style: textStyle });\n    this.cameraText.position.set(10, 30);\n\n    this.zoomText = new PIXI.Text({ text: '', style: textStyle });\n    this.zoomText.position.set(10, 50);\n\n    entity.addChild(this.shipText);\n    entity.addChild(this.cameraText);\n    entity.addChild(this.zoomText);\n  }\n\n  update(entity: PIXI.Container, deltaTime: number) {\n    // Position HUD in screen space by countering scene transforms\n    // HUD is in the scene, so we need to position it relative to camera\n    const scene = entity.parent;\n    if (scene) {\n      // Counter the scene's position and scale to stay in screen space\n      entity.position.x = -scene.position.x / scene.scale.x;\n      entity.position.y = -scene.position.y / scene.scale.y;\n      entity.scale.x = 1 / scene.scale.x;\n      entity.scale.y = 1 / scene.scale.y;\n    }\n\n    // Update text with current values\n    this.shipText.text = `Ship: (${this.ship.x.toFixed(1)}, ${this.ship.y.toFixed(1)})`;\n    this.cameraText.text = `Camera: (${this.camera.position.x.toFixed(1)}, ${this.camera.position.y.toFixed(1)})`;\n    this.zoomText.text = `Zoom: ${this.camera.scale.x.toFixed(2)}x`;\n  }\n}\n\n/**\n * Camera zoom logic using mouse wheel\n */\nclass CameraZoomLogic extends Logic<any> {\n  name = 'CameraZoomLogic';\n  private clientEvents: ClientEvents;\n  private minZoom: number = 0.5;\n  private maxZoom: number = 3;\n  private zoomSpeed: number = 0.1;\n\n  init(entity: any, renderer: PIXI.Renderer) {\n    this.clientEvents = new ClientEvents();\n  }\n\n  update(entity: any, deltaTime: number) {\n    // Get wheel delta from ClientEvents\n    const wheelDelta = this.clientEvents.wheelOffets.y;\n\n    if (wheelDelta !== 0) {\n      // Zoom in (wheel up) or out (wheel down)\n      const zoomDelta = -wheelDelta * this.zoomSpeed * 0.01;\n      const newZoom = entity.desiredScale.x + zoomDelta;\n\n      // Clamp zoom to min/max range\n      const clampedZoom = Math.max(this.minZoom, Math.min(this.maxZoom, newZoom));\n\n      entity.desiredScale.set(clampedZoom);\n\n      // Reset wheel offsets after processing\n      this.clientEvents.wheelOffets.y = 0;\n    }\n  }\n}\n\n/**\n * Simple ship movement logic for top-down space shooter\n */\nclass ShipMovementLogic extends Logic<PIXI.Sprite> {\n  name = 'ShipMovementLogic';\n  private clientEvents: ClientEvents;\n  private speed: number = 3;\n\n  init(entity: PIXI.Sprite, renderer: PIXI.Renderer) {\n    this.clientEvents = new ClientEvents();\n\n    // Center the ship\n    entity.anchor.set(0.5);\n    entity.x = 0;\n    entity.y = 0;\n\n    console.log('ð Ship initialized - Use arrow keys to fly!');\n  }\n\n  update(entity: PIXI.Sprite, deltaTime: number) {\n    const velocity = new PIXI.Point(0, 0);\n\n    // Read keyboard input\n    if (this.clientEvents.isKeyDown('ArrowUp') || this.clientEvents.isKeyDown('w')) {\n      velocity.y -= 1;\n    }\n    if (this.clientEvents.isKeyDown('ArrowDown') || this.clientEvents.isKeyDown('s')) {\n      velocity.y += 1;\n    }\n    if (this.clientEvents.isKeyDown('ArrowLeft') || this.clientEvents.isKeyDown('a')) {\n      velocity.x -= 1;\n    }\n    if (this.clientEvents.isKeyDown('ArrowRight') || this.clientEvents.isKeyDown('d')) {\n      velocity.x += 1;\n    }\n\n    // Normalize diagonal movement\n    if (velocity.x !== 0 && velocity.y !== 0) {\n      const length = Math.sqrt(velocity.x * velocity.x + velocity.y * velocity.y);\n      velocity.x /= length;\n      velocity.y /= length;\n    }\n\n    // Apply movement\n    entity.x += velocity.x * this.speed * deltaTime;\n    entity.y += velocity.y * this.speed * deltaTime;\n\n    // Rotate ship to face movement direction\n    if (velocity.x !== 0 || velocity.y !== 0) {\n      const angle = Math.atan2(velocity.y, velocity.x);\n      // Ship sprite faces right by default, so add PI/2 to point up\n      entity.rotation = angle + Math.PI / 2;\n    }\n  }\n}\n\nexport async function initParallaxSpaceShooter() {\n  const root = document.getElementById('app');\n  if (!root) throw new Error('App element not found');\n\n  const { scene, engine, loadAssets, camera, PIXIAssets } = await setupMoxi({\n    hostElement: root\n  });\n\n  // Set space background color\n  scene.renderer.background.color = 0x000000; // Black space\n\n  // Load space assets\n  await loadAssets([\n    { src: ASSETS.SPACE_NEBULA_BLUE, alias: 'nebula' },\n    { src: ASSETS.SPACE_STARS_SMALL_2, alias: 'stars' },\n    { src: ASSETS.SPACE_SHOOTER_JSON, alias: 'space_shooter' }\n  ]);\n\n  console.log('â Space assets loaded');\n\n  // Create parallax background container\n  const parallaxBg = new ParallaxBackground({\n    camera: camera\n  });\n\n  // Layer 1: Nebula (slowest - appears farthest away)\n  const nebulaTexture = PIXIAssets.get('nebula');\n  const nebulaLayer = new TilingParallaxLayer({\n    texture: nebulaTexture,\n    scrollScale: new PIXI.Point(0.3, 0.3) // Moves at 30% of camera speed\n    // width/height auto-detected from renderer\n  });\n  parallaxBg.addLayer(nebulaLayer);\n\n  // Layer 2: Stars (medium speed - closer than nebula)\n  const starsTexture = PIXIAssets.get('stars');\n  const starsLayer = new TilingParallaxLayer({\n    texture: starsTexture,\n    scrollScale: new PIXI.Point(0.6, 0.6) // Moves at 60% of camera speed\n    // width/height auto-detected from renderer\n  });\n  // Scale stars down by 50% for smaller, more numerous appearance\n  starsLayer.tilingSprite.tileScale.set(0.5, 0.5);\n  parallaxBg.addLayer(starsLayer);\n\n  // Add parallax background to scene\n  scene.addChild(parallaxBg);\n\n  // Create player ship\n  // PIXI.Assets.get with spritesheet returns the spritesheet, access textures via .textures\n  const spaceShooterSheet = PIXIAssets.get('space_shooter');\n  const playerTexture = spaceShooterSheet.textures['playerShip1_blue.png'];\n\n  const playerShip = new PIXI.Sprite(playerTexture);\n\n  // Scale ship down by 50%\n  playerShip.scale.set(0.5);\n\n  // Convert to Moxi entity\n  const shipEntity = asEntity<PIXI.Sprite>(playerShip);\n\n  // Add ship movement logic\n  const movementLogic = new ShipMovementLogic();\n  shipEntity.moxiEntity.addLogic(movementLogic);\n\n  // Add ship to scene\n  scene.addChild(shipEntity);\n\n  // Set up camera to follow the player\n  camera.desiredScale.set(1.5); // Slight zoom\n  const cameraLogic = camera.moxiEntity.getLogic<CameraLogic>('CameraLogic');\n  cameraLogic.target = playerShip;\n  cameraLogic.speed = 0.05; // Smooth camera following\n\n  // Add zoom control with mouse wheel\n  camera.moxiEntity.addLogic(new CameraZoomLogic());\n\n  // Create HUD container (in screen space, not affected by camera)\n  const hudContainer = new PIXI.Container();\n  const hudEntity = asEntity(hudContainer);\n  hudEntity.moxiEntity.addLogic(new HudDisplayLogic(playerShip, camera));\n\n  // Add HUD directly to renderer/stage, not to scene\n  // We need to render it separately after the scene\n  // For now, add it to scene but we'll position it in screen space\n  scene.addChild(hudEntity);\n\n  // Initialize and start\n  scene.init();\n  engine.start();\n\n  console.log('â Parallax Space Shooter loaded!');\n  console.log('   ð® Controls: Arrow keys or WASD to move');\n  console.log('   ð±ï¸  Mouse wheel: Zoom in/out (0.5x - 3x)');\n  console.log('   ð Watch the parallax effect as you move!');\n  console.log('   ð Nebula layer: 0.3x speed (far)');\n  console.log('   â­ Stars layer: 0.6x speed (closer)');\n}\n","/**\n * Moxi Examples - Main Entry Point\n * Provides a simple UI to select and run different examples\n */\nimport { initBasicSprite } from './examples/01-basic-sprite';\nimport { initRotatingSprite } from './examples/02-rotating-sprite';\nimport { initPixiOnly } from './examples/03-pixi-only';\nimport { initAnimatedCharacter } from './examples/04-animated-character';\nimport { initProgressBar } from './examples/05-progress-bar';\nimport { initBunnyAdventure } from './examples/06-bunny-adventure';\nimport { initParallaxSpaceShooter } from './examples/07-parallax-space-shooter';\n\n// Example registry\ninterface Example {\n  name: string;\n  description: string;\n  init: () => Promise<void>;\n}\n\nconst examples: Record<string, Example> = {\n  'basic-sprite': {\n    name: '01 - Basic Sprite',\n    description: 'The simplest example - displays a single sprite',\n    init: initBasicSprite\n  },\n  'rotating-sprite': {\n    name: '02 - Rotating Sprite',\n    description: 'A sprite that rotates with a label showing the angle',\n    init: initRotatingSprite\n  },\n  'pixi-only': {\n    name: '03 - PIXI.js Only',\n    description: 'Pure PIXI.js example without Moxi - rotating bunny grid',\n    init: initPixiOnly\n  },\n  'animated-character': {\n    name: '04 - Animated Character',\n    description: 'Sprite animation with camera following',\n    init: initAnimatedCharacter\n  },\n  'progress-bar': {\n    name: '05 - Progress Bar',\n    description: 'Custom Logic component creating an animated progress bar',\n    init: initProgressBar\n  },\n  'bunny-adventure': {\n    name: '06 - Bunny Adventure',\n    description: 'Player movement with arrow keys, tile world, and camera',\n    init: initBunnyAdventure\n  },\n  'parallax-space-shooter': {\n    name: '07 - Parallax Space Shooter',\n    description: 'Parallax scrolling with multiple background layers at different speeds',\n    init: initParallaxSpaceShooter\n  }\n};\n\nlet currentExample: string | null = null;\n\n// Load an example\nasync function loadExample(exampleKey: string, updateHash: boolean = true) {\n  const app = document.getElementById('app');\n  if (!app) return;\n\n  // Check if example exists\n  if (!examples[exampleKey]) {\n    console.error(`Example \"${exampleKey}\" not found`);\n    return;\n  }\n\n  // Clear previous example\n  app.innerHTML = '';\n  currentExample = exampleKey;\n\n  // Update URL hash\n  if (updateHash) {\n    window.location.hash = exampleKey;\n  }\n\n  // Update UI\n  document.querySelectorAll('.example-btn').forEach(btn => {\n    btn.classList.remove('active');\n  });\n  document.querySelector(`[data-example=\"${exampleKey}\"]`)?.classList.add('active');\n\n  // Run the example\n  try {\n    await examples[exampleKey].init();\n  } catch (error) {\n    console.error('Error loading example:', error);\n    const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n    app.innerHTML = `<div class=\"error\">Error loading example: ${errorMessage}</div>`;\n  }\n}\n\n// Get example key from URL hash\nfunction getExampleFromHash(): string | null {\n  const hash = window.location.hash.slice(1); // Remove the '#'\n  return hash && examples[hash] ? hash : null;\n}\n\n// Initialize UI\nfunction initUI() {\n  const sidebar = document.getElementById('sidebar');\n  if (!sidebar) return;\n\n  // Create example buttons\n  Object.entries(examples).forEach(([key, example]) => {\n    const button = document.createElement('button');\n    button.className = 'example-btn';\n    button.dataset.example = key;\n    button.innerHTML = `\n      <div class=\"example-title\">${example.name}</div>\n      <div class=\"example-desc\">${example.description}</div>\n    `;\n    button.addEventListener('click', () => loadExample(key));\n    sidebar.appendChild(button);\n  });\n\n  // Load example from hash or default to first\n  const hashExample = getExampleFromHash();\n  const exampleToLoad = hashExample || Object.keys(examples)[0];\n  loadExample(exampleToLoad, !hashExample); // Only update hash if we're loading default\n}\n\n// Handle hash changes (browser back/forward)\nfunction handleHashChange() {\n  const hashExample = getExampleFromHash();\n  if (hashExample && hashExample !== currentExample) {\n    loadExample(hashExample, false); // Don't update hash since it already changed\n  }\n}\n\n// Start the app\ndocument.addEventListener('DOMContentLoaded', () => {\n  initUI();\n  window.addEventListener('hashchange', handleHashChange);\n});\n\n","/**\n * Example 01: Basic Sprite\n * The simplest example - displays a single sprite\n * Ported from: example-projects/_project-template/template-example.ts\n */\nimport { setupMoxi, asEntity } from 'moxi';\nimport { Sprite } from 'pixi.js';\nimport { ASSETS } from '../assets-config';\n\nexport async function initBasicSprite() {\n  const root = document.getElementById('app');\n  if (!root) throw new Error('App element not found');\n\n  const { scene, engine, loadAssets, PIXIAssets } = await setupMoxi({ hostElement: root });\n  scene.renderer.background.color = 'green';\n\n  const assetList = [\n    { src: ASSETS.ROBOT_IDLE, alias: 'character' }\n  ];\n  \n  await loadAssets(assetList);\n\n  // Get the asset using the getAsset utility function\n  const texture = PIXIAssets.get('character');\n  const characterSprite = new Sprite({ texture });\n  characterSprite.eventMode = 'none';\n  \n  const character = asEntity<Sprite>(characterSprite);\n  \n  scene.addChild(character);\n  scene.init();\n  engine.start();\n\n  console.log('â Basic Sprite example loaded');\n}\n\n","import { Application, Assets, Container, Sprite } from 'pixi.js';\n\n/**\n * Basic PIXI.js example without Moxi\n * Shows how to use PIXI.js directly for comparison\n */\n\nexport async function initPixiOnly() {\n  const root = document.getElementById('app');\n  if (!root) throw new Error('App element not found');\n\n  // Clear any existing content\n  root.innerHTML = '';\n\n  // Create a new PIXI application\n  const app = new Application();\n\n  // Initialize the application\n  await app.init({ \n    background: '#1099bb',\n    resizeTo: root\n  });\n\n  // Append the application canvas to the root element\n  root.appendChild(app.canvas);\n  \n  // Create and add a container to the stage\n  const container = new Container();\n  app.stage.addChild(container);\n\n  // Load the bunny texture from PIXI.js examples\n  const texture = await Assets.load('https://pixijs.com/assets/bunny.png');\n\n  // Create a 5x5 grid of bunnies in the container\n  for (let i = 0; i < 25; i++) {\n    const bunny = new Sprite(texture);\n    bunny.x = (i % 5) * 40;\n    bunny.y = Math.floor(i / 5) * 40;\n    container.addChild(bunny);\n  }\n  \n  // Move the container to the center\n  container.x = app.screen.width / 2;\n  container.y = app.screen.height / 2;\n\n  // Center the bunny sprites in local container coordinates\n  container.pivot.x = container.width / 2;\n  container.pivot.y = container.height / 2;\n  \n  // Listen for animate update\n  app.ticker.add((time) => {\n    // Continuously rotate the container!\n    container.rotation -= 0.01 * time.deltaTime;\n  });\n\n  console.log('â PIXI-only (no Moxi) example loaded');\n}\n\n","import { setupMoxi, asEntity, CameraLogic, asTextureFrames } from 'moxi';\nimport * as PIXI from 'pixi.js';\nimport { ASSETS } from '../assets-config';\n\n/**\n * Animated Character Example\n * Demonstrates sprite animation using texture frames and camera following\n */\n\nexport async function initAnimatedCharacter() {\n  const root = document.getElementById('app');\n  if (!root) throw new Error('App element not found');\n\n  // Get the Moxi setup\n  const { scene, engine, loadAssets, camera, PIXIAssets } = await setupMoxi({\n    hostElement: root\n  });\n\n  scene.renderer.background.color = 0x3a4466; // Dark blue background\n\n  // Load character spritesheet\n  await loadAssets([\n    { src: ASSETS.SPROUTLANDS_CHARACTER, alias: 'character_sheet' }\n  ]);\n\n  // Get the character sheet texture\n  const baseTexture = PIXIAssets.get<PIXI.TextureSource>('character_sheet');\n\n  // Set the scale mode to nearest neighbor for better quality\n  baseTexture.source.scaleMode = 'nearest';\n\n  // Create texture frames from the character spritesheet\n  const characterFrames = asTextureFrames(PIXI, baseTexture, {\n    frameWidth: 48,\n    frameHeight: 48,\n    columns: 4,\n    rows: 4\n  });\n\n  // Create character sprite\n  const character = new PIXI.AnimatedSprite(characterFrames);\n  character.anchor.set(0.5);\n  character.x = scene.renderer.width / 2;\n  character.y = scene.renderer.height / 2;\n  character.scale.set(4); // Scale up for visibility\n  \n  // Set up the idle animation (first two frames)\n  character.textures = [characterFrames[0], characterFrames[1]];\n  character.animationSpeed = 0.05;\n  character.play();\n\n  // Convert to Moxi entity\n  const characterEntity = asEntity<PIXI.AnimatedSprite>(character);\n\n  // Add character to scene\n  scene.addChild(characterEntity);\n\n  // Initialize and start\n  scene.init();\n  engine.start();\n\n  console.log('â Animated Character example loaded');\n}\n\n","import { setupMoxi, asEntity, CameraLogic, asTextureFrames, TextureFrameSequences, SequenceInfo, createTileGrid, getTextureRange } from 'moxi';\nimport * as PIXI from 'pixi.js';\nimport { ASSETS } from '../assets-config';\nimport { PlayerMovementLogic } from '../utils/player-movement-logic';\n\n/**\n * Bunny Adventure Example\n * Demonstrates player movement with keyboard controls, camera following,\n * directional animations, and a tile-based world\n */\n\nexport async function initBunnyAdventure() {\n  const root = document.getElementById('app');\n  if (!root) throw new Error('App element not found');\n\n  const { scene, engine, loadAssets, camera, PIXIAssets } = await setupMoxi({\n    hostElement: root\n  });\n\n  scene.renderer.background.color = 0x88c070; // Gameboy-inspired green\n\n  // Load character and grass tile spritesheets\n  await loadAssets([\n    { src: ASSETS.GRASS_TILES, alias: 'grass_sheet' },\n    { src: ASSETS.SPROUTLANDS_CHARACTER, alias: 'character_sheet' }\n  ]);\n\n  // Set up camera\n  camera.desiredScale.set(3);\n\n  // Get textures\n  const baseTexture = PIXIAssets.get<PIXI.TextureSource>('character_sheet');\n  const grassSheet = PIXIAssets.get<PIXI.TextureSource>('grass_sheet');\n\n  // Set scale mode to nearest neighbor for pixel art\n  baseTexture.source.scaleMode = 'nearest';\n  grassSheet.source.scaleMode = 'nearest';\n\n  // Create texture frames from the character spritesheet\n  const characterFrames = asTextureFrames(PIXI, baseTexture, {\n    frameWidth: 48,\n    frameHeight: 48,\n    columns: 4,\n    rows: 4\n  });\n\n  const grassFrames = asTextureFrames(PIXI, grassSheet, {\n    frameWidth: 16,\n    frameHeight: 16,\n    columns: 11,\n    rows: 7\n  });\n\n  const walkAnimationSpeed = 12;\n  const idleAnimationSpeed = walkAnimationSpeed + 10;\n\n  const frameSequences: Record<string, SequenceInfo> = {\n    idleDown: { frames: [0, 1], animationSpeed: idleAnimationSpeed },\n    walkDown: { frames: [2, 3], animationSpeed: walkAnimationSpeed },\n\n    idleUp: { frames: [4, 5], animationSpeed: idleAnimationSpeed },\n    walkUp: { frames: [6, 7], animationSpeed: walkAnimationSpeed },\n\n    idleLeft: { frames: [8, 9], animationSpeed: idleAnimationSpeed },\n    walkLeft: { frames: [10, 11], animationSpeed: walkAnimationSpeed },\n\n    idleRight: { frames: [12, 13], animationSpeed: idleAnimationSpeed },\n    walkRight: { frames: [14, 15], animationSpeed: walkAnimationSpeed }\n  };\n\n  // Get color variant grass tiles and stone paths from rows 5-6, columns 0-5\n  // Row 5, cols 0-5: indices 55-60 (grass1-3, stonepath1-2, yellow flowers)\n  // Row 6, cols 0-5: indices 66-71 (grass4-6, stonepath3-4, yel flowers2)\n  const colorVariantTiles = getTextureRange(grassFrames, 55, 6);\n  const stonePathTiles = getTextureRange(grassFrames, 66, 6);\n  \n  // Combine tile pools for randomization\n  const tileVariations = [\n    ...colorVariantTiles,\n    ...stonePathTiles\n  ];\n\n  const textureFrameSequences = new TextureFrameSequences(characterFrames, frameSequences);\n\n  // Create a background container with the grass tiles\n  const backgroundContainer = createTileGrid({\n    width: 64,\n    height: 64,\n    cellWidth: 16,\n    cellHeight: 16,\n    centered: true\n  }, tileVariations);\n\n  // Convert background container to a Moxi entity and add to scene\n  const backgroundEntity = asEntity(backgroundContainer);\n  scene.addChild(backgroundEntity);\n\n  // Create bunny player sprite\n  const bunny = new PIXI.AnimatedSprite(characterFrames);\n  bunny.anchor.set(0.5);\n\n  // Convert to Moxi entity\n  const bunnyEntity = asEntity<PIXI.AnimatedSprite>(bunny);\n\n  // Create and initialize the movement logic with custom options\n  const movementLogic = new PlayerMovementLogic({\n    speed: 1.5,\n  }, textureFrameSequences);\n\n  // Initialize the logic with the sprite\n  movementLogic.init(bunny, scene.renderer);\n\n  // Add the logic to the entity\n  bunnyEntity.moxiEntity.addLogic(movementLogic);\n\n  // Add player to scene\n  scene.addChild(bunnyEntity);\n\n  // Make camera follow the player\n  const cameraLogic = camera.moxiEntity.getLogic<CameraLogic>('CameraLogic');\n  cameraLogic.target = bunny;\n\n  // Initialize and start\n  scene.init();\n  engine.start();\n\n  console.log('â Bunny Adventure example loaded - Use arrow keys to move!');\n}\n\n"],"names":["p","a","c","document","addEventListener","attachEvent","w","this","g","createElement","setAttribute","appendChild","createTextNode","h","i","m","j","l","style","cssText","x","B","offsetWidth","b","width","scrollLeft","scrollWidth","C","e","parentNode","D","window","family","weight","stretch","context","E","F","G","H","M","fonts","N","font","q","join","prototype","load","J","Date","getTime","Promise","K","L","test","navigator","vendor","exec","userAgent","parseInt","I","O","r","t","Error","then","n","length","setTimeout","P","race","clearTimeout","body","removeEventListener","readyState","detachEvent","u","d","k","y","z","A","f","removeChild","v","dir","hidden","module","exports","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","hasOwnProperty","call","Symbol","toStringTag","value","uc","s","toUpperCase","lc","toLowerCase","padRight","val","padWith","result","pr","getRandomInt","max","min","Math","floor","random","roundTo","places","round","pow","lerp","begin","end","mag","metersToPixels","pixelsToMeters","fetchXml","async","url","fetch","text","rad2deg","rad","PI","deg2rad","deg","RenderManager","constructor","htmlRoot","renderer","fitToWindow","onResize","root","canvas","parentWidth","clientWidth","parentHeight","clientHeight","canvasWidth","canvasHeight","height","scale","render","stage","isMoxiEntity","entity","Boolean","moxiEntity","getRenderer","options","create","Scene","super","init","children","forEach","child","update","deltaTime","draw","Engine","gameLoop","tikerTime","ticker","shared","autoStart","add","loggerFrequencyMs","nextLogTime","logger","msg","start","stop","loadStage","EventEmitter","listeners","on","event","listener","push","off","eventListeners","filter","emit","args","once","getInstance","instance","ClientEvents","initWheelOffset","Point","onAnyEvent","ev","wheelOffets","keydown","movePosition","anyEvent","wheelDelta","xValue","deltaX","yValue","deltaY","eventType","lastMovePosition","clientX","clientY","moveDelta","mouseDownEvent","lastMouseDown","mouseUpEvent","lastMouseUp","keyDownEvent","keyUpEvent","isKeyDown","isKeyUp","AssetLoader","PIXIAssets","textures","loadAssets","assets","src","alias","cache","has","texture","Logic","active","MoxiEntity","logic","className","logicComponent","addLogic","logicName","name","getLogic","asEntity","target","isInteractive","CameraLogic","speed","deltaSpeed","isZooming","abs","desiredScale","screenCenterX","screenCenterY","desiredX","position","desiredY","desiredPosition","set","copyFrom","scene","Camera","cameraLogic","addChild","defaultRenderOptions","backgroundColor","setupMoxi","hostElement","renderOptions","engine","camera","defaultOptions","frameWidth","frameHeight","columns","rows","asTextureFrames","PIXI","textureSource","frames","console","error","frame","Rectangle","frametexture","Texture","source","TextureFrameSequences","sequences","addSequence","frameIndices","animationSpeed","getSequence","getFrame","index","getFrameFromSequence","sequenceName","frameIndex","sequence","sequenceFrameIndex","getFrameSequence","map","getTextureRange","startIndex","count","slice","EventTarget","ParallaxLayer","scrollScale","scrollOffset","repeatSize","mirroring","_lastCameraPos","updateParallax","cameraPos","cameraScale","backgroundOffset","scrollX","scrollY","zoomCompensationX","zoomCompensationY","TilingParallaxLayer","_autoSized","addressMode","tilingSprite","autoDetectDimensions","current","parent","resize","baseWidth","baseHeight","scaleX","scaleY","viewportCenterX","viewportCenterY","zoomOffsetX","zoomOffsetY","tilePosition","ParallaxBackground","scrollBaseScale","scrollIgnoreCameraZoom","autoscroll","ParallaxBackgroundLogic","addLayer","layer","detectCamera","getCameraPosition","getCameraScale","ASSETS","RotationLabel","targetEntity","rotation","CharacterLogic","anchor","defaultProgressBarOptions","barWidth","barHeight","color","barPadding","bitmapText","fontFamily","fontSize","fontStyle","fill","ProgressBarLogic","forgroundBar","backgroundBar","setValue","padding","rect","eventMode","paddedWidth","percent","clear","textvalue","nextValue","DIRECTION","ANIMATION_STATE","DEFAULT_MOVEMENT_OPTIONS","allowDiagonal","PlayerMovementLogic","frameSequences","direction","animationState","moving","animationTimer","currentSequenceName","velocity","clientEvents","setAnimationState","updateTexture","getSequenceKey","state","charAt","getDirectionFromVelocity","normalizeVelocity","sqrt","isMoving","newDirection","newState","animSpeed","updateAnimation","getDirection","getAnimationState","getVelocity","textureIndex","HudDisplayLogic","ship","textStyle","stroke","shipText","cameraText","zoomText","toFixed","CameraZoomLogic","minZoom","maxZoom","zoomSpeed","zoomDelta","newZoom","clampedZoom","ShipMovementLogic","log","angle","atan2","examples","description","getElementById","background","assetList","characterSprite","Sprite","character","labelText","BitmapText","label","innerHTML","app","Application","resizeTo","container","Container","Assets","bunny","screen","pivot","time","baseTexture","scaleMode","characterFrames","play","characterEntity","moxiProgressBar","barOptions","align","grassSheet","grassFrames","tileVariations","textureFrameSequences","idleDown","walkAnimationSpeed","walkDown","idleUp","walkUp","idleLeft","walkLeft","idleRight","walkRight","backgroundEntity","selector","cellWidth","cellHeight","centered","getTextureIndex","totalCells","pixelX","pixelY","total","cell","gridWidth","gridHeight","createTileGrid","bunnyEntity","movementLogic","parallaxBg","nebulaTexture","nebulaLayer","starsTexture","starsLayer","tileScale","playerTexture","playerShip","shipEntity","hudEntity","currentExample","loadExample","exampleKey","updateHash","location","hash","querySelectorAll","btn","classList","remove","querySelector","errorMessage","message","getExampleFromHash","handleHashChange","hashExample","sidebar","entries","example","button","dataset","keys","initUI"],"sourceRoot":""}