{"version":3,"file":"bundle.js","mappings":"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","sources":["webpack://moxi-examples/../../node_modules/fontfaceobserver/fontfaceobserver.standalone.js","webpack://moxi-examples/webpack/bootstrap","webpack://moxi-examples/webpack/runtime/compat get default export","webpack://moxi-examples/webpack/runtime/define property getters","webpack://moxi-examples/webpack/runtime/hasOwnProperty shorthand","webpack://moxi-examples/webpack/runtime/make namespace object","webpack://moxi-examples/../moxi/src/library/utils.ts","webpack://moxi-examples/external window \"PIXI\"","webpack://moxi-examples/../moxi/src/core/render-manager.ts","webpack://moxi-examples/../moxi/src/core/scene.ts","webpack://moxi-examples/../moxi/src/core/engine.ts","webpack://moxi-examples/../moxi/src/core/event-system.ts","webpack://moxi-examples/../moxi/src/library/client-events.ts","webpack://moxi-examples/../moxi/src/core/asset-loader.ts","webpack://moxi-examples/../moxi/src/core/logic.ts","webpack://moxi-examples/../moxi/src/core/moxi-entity.ts","webpack://moxi-examples/../moxi/src/core/camera.ts","webpack://moxi-examples/../moxi/src/library/setup.ts","webpack://moxi-examples/../moxi/src/library/font-loader.ts","webpack://moxi-examples/../moxi/src/library/texture-frames.ts","webpack://moxi-examples/../moxi/src/library/texture-frame-sequences.ts","webpack://moxi-examples/../moxi/src/library/state-machine.ts","webpack://moxi-examples/../moxi/src/index.ts","webpack://moxi-examples/./src/assets-config.ts","webpack://moxi-examples/./src/examples/02-rotating-sprite.ts","webpack://moxi-examples/./src/examples/05-progress-bar.ts","webpack://moxi-examples/./src/utils/player-movement-logic.ts","webpack://moxi-examples/./src/index.ts","webpack://moxi-examples/./src/examples/01-basic-sprite.ts","webpack://moxi-examples/./src/examples/03-pixi-only.ts","webpack://moxi-examples/./src/examples/04-animated-character.ts","webpack://moxi-examples/./src/examples/06-bunny-adventure.ts","webpack://moxi-examples/../moxi/src/library/grid-generator.ts"],"sourcesContent":["/* Font Face Observer v2.3.0 - Â© Bram Stein. License: BSD-3-Clause */(function(){function p(a,c){document.addEventListener?a.addEventListener(\"scroll\",c,!1):a.attachEvent(\"scroll\",c)}function u(a){document.body?a():document.addEventListener?document.addEventListener(\"DOMContentLoaded\",function b(){document.removeEventListener(\"DOMContentLoaded\",b);a()}):document.attachEvent(\"onreadystatechange\",function g(){if(\"interactive\"==document.readyState||\"complete\"==document.readyState)document.detachEvent(\"onreadystatechange\",g),a()})};function w(a){this.g=document.createElement(\"div\");this.g.setAttribute(\"aria-hidden\",\"true\");this.g.appendChild(document.createTextNode(a));this.h=document.createElement(\"span\");this.i=document.createElement(\"span\");this.m=document.createElement(\"span\");this.j=document.createElement(\"span\");this.l=-1;this.h.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.i.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";\nthis.j.style.cssText=\"max-width:none;display:inline-block;position:absolute;height:100%;width:100%;overflow:scroll;font-size:16px;\";this.m.style.cssText=\"display:inline-block;width:200%;height:200%;font-size:16px;max-width:none;\";this.h.appendChild(this.m);this.i.appendChild(this.j);this.g.appendChild(this.h);this.g.appendChild(this.i)}\nfunction x(a,c){a.g.style.cssText=\"max-width:none;min-width:20px;min-height:20px;display:inline-block;overflow:hidden;position:absolute;width:auto;margin:0;padding:0;top:-999px;white-space:nowrap;font-synthesis:none;font:\"+c+\";\"}function B(a){var c=a.g.offsetWidth,b=c+100;a.j.style.width=b+\"px\";a.i.scrollLeft=b;a.h.scrollLeft=a.h.scrollWidth+100;return a.l!==c?(a.l=c,!0):!1}function C(a,c){function b(){var e=g;B(e)&&null!==e.g.parentNode&&c(e.l)}var g=a;p(a.h,b);p(a.i,b);B(a)};function D(a,c,b){c=c||{};b=b||window;this.family=a;this.style=c.style||\"normal\";this.weight=c.weight||\"normal\";this.stretch=c.stretch||\"normal\";this.context=b}var E=null,F=null,G=null,H=null;function I(a){null===F&&(M(a)&&/Apple/.test(window.navigator.vendor)?(a=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))(?:\\.([0-9]+))/.exec(window.navigator.userAgent),F=!!a&&603>parseInt(a[1],10)):F=!1);return F}function M(a){null===H&&(H=!!a.document.fonts);return H}\nfunction N(a,c){var b=a.style,g=a.weight;if(null===G){var e=document.createElement(\"div\");try{e.style.font=\"condensed 100px sans-serif\"}catch(q){}G=\"\"!==e.style.font}return[b,g,G?a.stretch:\"\",\"100px\",c].join(\" \")}\nD.prototype.load=function(a,c){var b=this,g=a||\"BESbswy\",e=0,q=c||3E3,J=(new Date).getTime();return new Promise(function(K,L){if(M(b.context)&&!I(b.context)){var O=new Promise(function(r,t){function h(){(new Date).getTime()-J>=q?t(Error(\"\"+q+\"ms timeout exceeded\")):b.context.document.fonts.load(N(b,'\"'+b.family+'\"'),g).then(function(n){1<=n.length?r():setTimeout(h,25)},t)}h()}),P=new Promise(function(r,t){e=setTimeout(function(){t(Error(\"\"+q+\"ms timeout exceeded\"))},q)});Promise.race([P,O]).then(function(){clearTimeout(e);\nK(b)},L)}else u(function(){function r(){var d;if(d=-1!=k&&-1!=l||-1!=k&&-1!=m||-1!=l&&-1!=m)(d=k!=l&&k!=m&&l!=m)||(null===E&&(d=/AppleWebKit\\/([0-9]+)(?:\\.([0-9]+))/.exec(window.navigator.userAgent),E=!!d&&(536>parseInt(d[1],10)||536===parseInt(d[1],10)&&11>=parseInt(d[2],10))),d=E&&(k==y&&l==y&&m==y||k==z&&l==z&&m==z||k==A&&l==A&&m==A)),d=!d;d&&(null!==f.parentNode&&f.parentNode.removeChild(f),clearTimeout(e),K(b))}function t(){if((new Date).getTime()-J>=q)null!==f.parentNode&&f.parentNode.removeChild(f),\nL(Error(\"\"+q+\"ms timeout exceeded\"));else{var d=b.context.document.hidden;if(!0===d||void 0===d)k=h.g.offsetWidth,l=n.g.offsetWidth,m=v.g.offsetWidth,r();e=setTimeout(t,50)}}var h=new w(g),n=new w(g),v=new w(g),k=-1,l=-1,m=-1,y=-1,z=-1,A=-1,f=document.createElement(\"div\");f.dir=\"ltr\";x(h,N(b,\"sans-serif\"));x(n,N(b,\"serif\"));x(v,N(b,\"monospace\"));f.appendChild(h.g);f.appendChild(n.g);f.appendChild(v.g);b.context.document.body.appendChild(f);y=h.g.offsetWidth;z=n.g.offsetWidth;A=v.g.offsetWidth;t();\nC(h,function(d){k=d;r()});x(h,N(b,'\"'+b.family+'\",sans-serif'));C(n,function(d){l=d;r()});x(n,N(b,'\"'+b.family+'\",serif'));C(v,function(d){m=d;r()});x(v,N(b,'\"'+b.family+'\",monospace'))})})};\"object\"===typeof module?module.exports=D:(window.FontFaceObserver=D,window.FontFaceObserver.prototype.load=D.prototype.load);}());\n","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// getDefaultExport function for compatibility with non-harmony modules\n__webpack_require__.n = (module) => {\n\tvar getter = module && module.__esModule ?\n\t\t() => (module['default']) :\n\t\t() => (module);\n\t__webpack_require__.d(getter, { a: getter });\n\treturn getter;\n};","// define getter functions for harmony exports\n__webpack_require__.d = (exports, definition) => {\n\tfor(var key in definition) {\n\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n\t\t}\n\t}\n};","__webpack_require__.o = (obj, prop) => (Object.prototype.hasOwnProperty.call(obj, prop))","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","\nexport const uc = (s = '') => s.toUpperCase();\nexport const lc = (s = '') => s.toLowerCase();\n\nexport const padRight = (val = '', length = 0, padWith = ' ') => {\n  let result = val+'';\n  while(result.length < length){\n    result += padWith;\n  }\n  return result;\n};\n\nexport const pr = padRight;\n\nexport const getRandomInt = (max, min = 0) => (Math.floor(Math.random() * (max + 1 - min)) + min);\n\nexport const roundTo = (places, value) => (Math.round(value * Math.pow(10, places)) / Math.pow(10, places));\n\nexport const lerp = (begin, end, mag) => ((1 - mag) * begin + mag * end);\n\nexport function metersToPixels(m: number): number { return m * 20; }\n\nexport function pixelsToMeters(p: number): number { return p * 0.05; }\n\nexport const fetchXml = async (url: string) => (await (await fetch(url)).text());\n\nexport const rad2deg = (rad: number) => rad * (180 / Math.PI);\nexport const deg2rad = (deg: number) => deg * (Math.PI / 180);\n  ","const __WEBPACK_NAMESPACE_OBJECT__ = window[\"PIXI\"];","import PIXI from 'pixi.js';\n\nexport class RenderManager {\n  static getRenderer: (\n    options: Partial<PIXI.AutoDetectOptions>\n  ) => Promise<PIXI.Renderer>;\n\n  static create: (\n      htmlRoot: HTMLElement, \n      options: Partial<PIXI.AutoDetectOptions>) => Promise<RenderManager>;\n\n  htmlRoot: HTMLElement;\n  renderer: PIXI.Renderer;\n  fitToWindow = false;;\n\n  constructor(htmlRoot: HTMLElement, renderer: PIXI.Renderer) {\n    this.htmlRoot = htmlRoot;\n    this.renderer = renderer;\n\n    htmlRoot.appendChild(this.renderer.canvas);\n    window.addEventListener('resize', () => this.onResize());\n    this.onResize();\n  }\n\n  render(stage: PIXI.Container) {\n    this.renderer.render(stage);\n  }\n\n  onResize = () => {\n    const { renderer, htmlRoot: root } = this;\n    const canvas = renderer.canvas;\n    \n    // Get the parent dimensions\n    const parentWidth = root.clientWidth;\n    const parentHeight = root.clientHeight;\n    \n    // Get the canvas's intended dimensions\n    const canvasWidth = renderer.width;\n    const canvasHeight = renderer.height;\n    \n    // Calculate the scale to fit while maintaining aspect ratio\n    const scale = Math.min(\n      parentWidth / canvasWidth,\n      parentHeight / canvasHeight\n    );\n    \n    // Set CSS dimensions to scale the canvas\n    canvas.style.width = `${Math.floor(canvasWidth * scale)}px`;\n    canvas.style.height = `${Math.floor(canvasHeight * scale)}px`;\n  };\n}\n\nRenderManager.getRenderer = async (options: Partial<PIXI.AutoDetectOptions>) => (\n  await PIXI.autoDetectRenderer(options)\n);\n\nRenderManager.create = async (htmlRoot: HTMLElement, options: Partial<PIXI.AutoDetectOptions>) => (\n  new RenderManager(htmlRoot, await RenderManager.getRenderer(options))\n);\n","import PIXI from 'pixi.js';\nimport { AsEntity } from './moxi-entity';\n\nfunction isMoxiEntity(entity: any): entity is AsEntity<any> {\n  return Boolean(entity?.moxiEntity);\n}\n\nexport class Scene extends PIXI.Container {\n  renderer: PIXI.Renderer<HTMLCanvasElement>;\n\n  constructor(renderer: PIXI.Renderer<HTMLCanvasElement>) {\n    super();\n    this.renderer = renderer;\n  }\n\n  init() {\n    this.children.forEach((child: any) => {\n      if (isMoxiEntity(child)) {\n        child.moxiEntity.init(this.renderer);\n      }\n    });\n  }\n\n\n  update(deltaTime: number) {\n    this.children.forEach((child: any) => { \n      if (isMoxiEntity(child)) {\n        child.moxiEntity.update(deltaTime);\n      }\n    });\n  }\n\n  draw(deltaTime: number) {\n    this.renderer.render(this);\n  }\n}","import PIXI from 'pixi.js';\nimport { Scene } from './scene';\n\n/**\n * The core game engine class that manages the game loop, scene rendering,\n * and update cycles. Coordinates with the PIXI.Ticker to drive the animation.\n *\n * @category Core\n * @example\n * ```typescript\n * // Create a new engine with a scene\n * const engine = new Engine(scene);\n * \n * // Start the game loop\n * engine.start();\n * \n * // Stop the game loop when needed\n * engine.stop();\n * ```\n */\nexport class Engine {\n  /**\n   * The PIXI Ticker instance that drives the game loop\n   */\n  ticker: PIXI.Ticker;\n  \n  /**\n   * The current active scene/stage\n   */\n  root: Scene;\n  \n  /**\n   * Optional logging function for debugging\n   */\n  logger: (msg: string) => void;\n  \n  /**\n   * How often to log messages (in milliseconds)\n   */\n  loggerFrequencyMs: number;\n  \n  /**\n   * Timestamp for the next log message\n   * @internal\n   */\n  nextLogTime: number;\n\n  /**\n   * Creates a new Engine instance\n   * \n   * @param stage - The initial scene to use, if any\n   */\n  constructor(stage: Scene = null) {\n    this.root = stage;\n\n    const ticker = PIXI.Ticker.shared;\n    ticker.autoStart = false;\n    ticker.add(this.gameLoop);\n    this.ticker = ticker;\n\n    this.loggerFrequencyMs = 500;\n    this.nextLogTime = 0;\n    this.logger = (msg) => null;\n  }\n\n  /**\n   * Starts the game loop\n   * \n   * @returns The Engine instance for chaining\n   */\n  start() {\n    this.ticker.start();\n    return this;\n  }\n\n  /**\n   * Stops the game loop\n   * \n   * @returns The Engine instance for chaining\n   */\n  stop() {\n    this.ticker.stop();\n    return this;\n  }\n\n  /**\n   * The main game loop function called by the ticker on each frame\n   * Updates and renders the active scene\n   * \n   * @param tikerTime - Ticker information including delta time\n   * @private\n   */\n  gameLoop = (tikerTime: PIXI.Ticker) => {\n    if (this.root) {\n      const { deltaTime } = tikerTime;\n      this.root.update(deltaTime);\n      this.root.draw(deltaTime);\n    }\n  };\n\n  /**\n   * Sets a new active scene\n   * \n   * @param stage - The new scene to use\n   * @returns The Engine instance for chaining\n   */\n  loadStage(stage: Scene) {\n    this.root = stage;\n    return this;\n  }\n}\n","type MoxiEvents<T extends string | symbol = string, A = any> = {\n  [event in T]: (...args: A extends any[] ? A : [A]) => void;\n};\n\nexport class EventEmitter<T extends MoxiEvents = MoxiEvents> {\n  private listeners: { [K in keyof T]?: T[K][] } = {};\n  \n  /**\n   * Singleton instance of EventEmitter\n   * @static\n   */\n  public static instance: EventEmitter<MoxiEvents> = new EventEmitter<MoxiEvents>();\n\n  on<K extends keyof T>(event: K, listener: T[K]): void {\n    (this.listeners[event] || (this.listeners[event] = [])).push(listener);\n  }\n\n  off<K extends keyof T>(event: K, listener: T[K]): void {\n    const eventListeners = this.listeners[event];\n    if (eventListeners) {\n      this.listeners[event] = eventListeners.filter(l => l !== listener);\n    }\n  }\n\n  emit<K extends keyof T>(event: K, ...args: Parameters<T[K]>): void {\n    (this.listeners[event] || []).forEach(listener => listener(...args));\n  }\n\n  once<K extends keyof T>(event: K, listener: T[K]): void {\n    const onceListener = (...args: Parameters<T[K]>) => {\n      listener(...args);\n      this.off(event, listener);\n    };\n    this.on(event, onceListener as T[K]);\n  }\n  \n  /**\n   * Get the singleton instance of EventEmitter\n   * @static\n   */\n  public static getInstance<T extends MoxiEvents = MoxiEvents>(): EventEmitter<T> {\n    if (!EventEmitter.instance) {\n      EventEmitter.instance = new EventEmitter<T>();\n    }\n    return EventEmitter.instance as EventEmitter<T>;\n  }\n}\n\n","import { Point } from 'pixi.js';\nimport { OnEvent, ClientEventsArgs } from '..';\n\n/**\n * Manages input events from the client (keyboard, mouse, etc.) and provides an interface\n * for querying the current input state.\n * \n * Implements the Singleton pattern to ensure only one instance of event handlers exists.\n * \n * @category Core\n * @example\n * ```typescript\n * // Create/get the ClientEvents instance\n * const events = new ClientEvents();\n * \n * // Check if a key is currently pressed\n * if (events.isKeyDown('ArrowRight')) {\n *   player.moveRight();\n * }\n * \n * // Access mouse position\n * const mousePos = events.movePosition;\n * ```\n */\nexport class ClientEvents {\n  /**\n   * Current wheel scroll delta values\n   */\n  wheelDelta: { yValue: number; xValue: number; };\n  \n  /**\n   * The most recent mouse up event\n   */\n  mouseUpEvent: MouseEvent;\n  \n  /**\n   * The most recent mouse down event\n   */\n  mouseDownEvent: MouseEvent;\n  \n  /**\n   * The last mouse down event that occurred\n   */\n  lastMouseDown: MouseEvent;\n  \n  /**\n   * The last mouse up event that occurred\n   */\n  lastMouseUp: MouseEvent;\n  \n  /**\n   * The most recent key down event\n   */\n  keyDownEvent: KeyboardEvent;\n  \n  /**\n   * The most recent key up event\n   */\n  keyUpEvent: KeyboardEvent;\n  \n  /**\n   * Map of currently pressed keys\n   * @internal\n   */\n  keydown: Record<string, KeyboardEvent>;\n  \n  /**\n   * Accumulated wheel offset values\n   */\n  wheelOffets: Point;\n  \n  /**\n   * Current mouse position\n   */\n  movePosition: Point;\n  \n  /**\n   * Previous mouse position\n   */\n  lastMovePosition: Point;\n  \n  /**\n   * Change in mouse position since last update\n   */\n  moveDelta: Point;\n\n  /**\n   * Singleton instance of ClientEvents\n   * @static\n   */\n  static instance: ClientEvents = null;\n\n  /**\n   * Creates a new ClientEvents instance or returns the existing singleton instance\n   * \n   * @param options - Configuration options\n   * @param options.initWheelOffset - Initial wheel offset value\n   * @param options.onAnyEvent - Callback that fires on any input event\n   */\n  constructor({ initWheelOffset = new Point(), onAnyEvent = (ev: OnEvent) => {} }: ClientEventsArgs = {}) {\n    // since we are hooking events into the document, we only want one instance of this class\n    if (ClientEvents.instance) {\n      return ClientEvents.instance;\n    }\n    this.wheelOffets = initWheelOffset;\n    this.keydown = {} as Record<string, KeyboardEvent>;\n    this.movePosition = new Point();\n\n    const anyEvent = (ev: OnEvent) => {\n      onAnyEvent(ev);\n    };\n\n    // Register wheel event listener\n    document.addEventListener('wheel', (event) => {\n      const wheelDelta = this.wheelOffets || new Point();\n      const xValue = wheelDelta.x + event.deltaX;\n      const yValue = wheelDelta.y + event.deltaY;\n      this.wheelOffets = new Point(xValue, yValue);\n      anyEvent({ eventType: 'wheel', event });\n    });\n\n    // Register mouse move event listener\n    document.addEventListener('mousemove', (event) => {\n      this.lastMovePosition = this.movePosition;\n      this.movePosition = new Point(event.clientX, event.clientY);\n      this.moveDelta = new Point(\n        this.movePosition.x - this.lastMovePosition.x,\n        this.movePosition.y - this.lastMovePosition.y\n      );\n      anyEvent({ eventType: 'mousemove', event });\n    });\n\n    // Register mouse down event listener\n    document.addEventListener('mousedown', (event) => {\n      this.mouseDownEvent = event;\n      this.lastMouseDown = event;\n      this.mouseUpEvent = null;\n      anyEvent({ eventType: 'mousedown', event });\n    });\n\n    // Register mouse up event listener\n    document.addEventListener('mouseup', (event) => {\n      this.mouseUpEvent = event;\n      this.lastMouseUp = event;\n      this.mouseDownEvent = null;\n      anyEvent({ eventType: 'mouseup', event });\n    });\n\n    // Register key down event listener\n    document.addEventListener('keydown', (event) => {\n      const { key } = event;\n      this.keyDownEvent = event;\n      this.keyUpEvent = null;\n      this.keydown[key] = event;\n      anyEvent({ eventType: 'keydown', event });\n    });\n\n    // Register key up event listener\n    document.addEventListener('keyup', (event) => {\n      const { key } = event;\n      this.keyUpEvent = event;\n      this.keyDownEvent = null;\n      delete this.keydown[key];\n      anyEvent({ eventType: 'keyup', event });\n    });\n\n    ClientEvents.instance = this;\n  }\n\n  /**\n   * Checks if a specific key is currently pressed down\n   * \n   * @param key - The key to check, e.g., 'a', 'ArrowUp', 'Space'\n   * @returns True if the key is currently pressed, false otherwise\n   * \n   * @example\n   * ```typescript\n   * if (events.isKeyDown('Space')) {\n   *   player.jump();\n   * }\n   * ```\n   */\n  isKeyDown(key: string): boolean {\n    return Boolean(this.keydown[key]);\n  }\n\n  /**\n   * Checks if a specific key is currently not pressed\n   * \n   * @param key - The key to check, e.g., 'a', 'ArrowUp', 'Space'\n   * @returns True if the key is currently not pressed, false if it is pressed\n   */\n  isKeyUp(key: string): boolean {\n    return !this.keydown[key];\n  }\n}\n\n\n\n","import PIXI from 'pixi.js';\nimport { Asset } from '..';\n\nexport class AssetLoader {\n  PIXIAssets: PIXI.AssetsClass = PIXI.Assets;\n  textures: any[] = [];\n\n  loadAssets = async (assets: Asset[]) => {\n    const { PIXIAssets } = this;\n\n    for (let i = 0; i < assets.length; i++) {\n      const { src, alias } = assets[i];\n      \n      if (alias) {\n        if (!PIXIAssets.cache.has(alias)) {\n          const texture = await PIXIAssets.load({ alias, src });\n          this.textures.push(texture);\n        }\n      }\n      else {\n        const texture = await PIXIAssets.load(src);\n        this.textures.push(texture);\n      }\n    }\n    return this;\n  };\n}","import PIXI from 'pixi.js';\n\n/**\n * Base abstract class for all logic in the Moxi engine.\n * Logic components can be attached to entities to add functionality.\n * \n * @category Logic\n * @template T - The type of entity this logic can be attached to\n * \n * @example\n * ```typescript\n * class MyLogic extends Logic<Sprite> {\n *   update(entity: Sprite, deltaTime: number) {\n *     entity.rotation += deltaTime;\n *   }\n * }\n * ```\n */\nexport abstract class Logic<T> {\n  /**\n   * The name of this logic component\n   * Used to identify and retrieve logic components\n   * Defaults to constructor name but should be set explicitly for production builds\n   */\n  name?: string;\n  \n  /**\n   * Whether this logic is currently active and should be updated\n   * @default true\n   */\n  active: boolean = true;\n  \n  /**\n   * Initializes the logic with the entity it's attached to\n   * @param entity - The entity this logic is attached to\n   * @param renderer - The PIXI renderer instance\n   * @param args - Additional initialization arguments\n   */\n  init(entity?: T, renderer?: PIXI.Renderer<HTMLCanvasElement>, ...args: any[]) {\n    // Implement in subclass\n  }\n\n  /**\n   * Updates the logic's state\n   * @param entity - The entity this logic is attached to\n   * @param deltaTime - Time elapsed since last update in seconds\n   */\n  update(entity?: T, deltaTime?: number) {\n    // Implement in subclass\n  }\n}\n\n/**\n * Logic that can be instantiated multiple times with different configurations\n * \n * @category Logic\n * @template T - The type of entity this logic can be attached to\n * \n * @example\n * ```typescript\n * class MyInstancedLogic extends InstancedLogic<Sprite> {\n *   constructor(public speed: number) {\n *     super();\n *   }\n *   \n *   update(entity: Sprite, deltaTime: number) {\n *     entity.rotation += this.speed * deltaTime;\n *   }\n * }\n * ```\n */\nexport class InstancedLogic<T> extends Logic<T> {}\n\n","import PIXI from 'pixi.js';\nimport { Logic } from './logic';\n\n/**\n * Interface defining the contract for the MoxiEntity class.\n * Specifies required methods and properties for entity management.\n * \n * @internal\n * @template T - The type of entity being managed\n */\ninterface MoxiEntityClass<T> {\n  logic: MoxiLogic<T>;\n  update: (delta: number, entity: T) => void;\n  init: (...args: any[]) => void;\n  addLogic: (logic: Logic<T>) => void;\n  getLogic: (name: string) => Logic<T> | undefined;\n}\n\n/**\n * Type definition for objects that have been enhanced with MoxiEntity capabilities.\n * This is the primary interface developers will interact with when using the entity system.\n * \n * @category Entities\n * @template T - The type of entity being managed (typically extends PIXI.Container)\n * \n * @example\n * ```typescript\n * // Create a sprite and convert it to an AsEntity\n * const sprite = new PIXI.Sprite(texture);\n * const entitySprite = asEntity(sprite);\n * \n * // Now it has a moxiEntity property\n * entitySprite.moxiEntity.addLogic(new MovementLogic());\n * ```\n */\nexport type AsEntity<T> = PIXI.Container & {\n  moxiEntity: MoxiEntity<T>;\n};\n\n/**\n * Type definition for a collection of logic components mapped by name.\n * Used to store and retrieve logic attached to entities.\n * \n * @category Entities\n * @template T - The type of entity these logic components can be applied to\n */\nexport type MoxiLogic<T> = Record<string, Logic<T>>;\n\n/**\n * The core entity management class that handles component-based logic.\n * MoxiEntity connects entities with their logic components and manages the logic lifecycle.\n * \n * This class implements the Entity-Component-System pattern, where:\n * - The entity is the object being controlled (like a PIXI.Sprite)\n * - Logic components add functionality\n * - This class provides the system to manage those components\n * \n * @category Entities\n * @template T - The type of entity being managed\n * \n * @example\n * ```typescript\n * // Create a sprite and entity\n * const sprite = new PIXI.Sprite(texture);\n * const entity = new MoxiEntity(sprite);\n * \n * // Add logic\n * entity.addLogic(new MovementLogic());\n * entity.addLogic(new AnimationLogic());\n * \n * // Initialize all logic\n * entity.init(renderer);\n * \n * // Update all logic (usually called within the game loop)\n * entity.update(deltaTime);\n * ```\n */\nexport class MoxiEntity<T> implements MoxiEntityClass<T> {\n  /**\n   * Collection of logic components attached to this entity\n   */\n  logic: MoxiLogic<T> = {};\n  \n  /**\n   * Reference to the actual entity being managed\n   */\n  entity: T;\n\n  /**\n   * Creates a new MoxiEntity\n   * \n   * @param entity - The entity to manage\n   * @param logic - Optional map of initial logic to attach\n   */\n  constructor(entity: T, logic: MoxiLogic<T> = {}) {\n    this.logic = logic;\n    this.entity = entity;\n  }\n\n  /**\n   * Updates all active logic components attached to this entity\n   * Typically called each frame during the game loop\n   * \n   * @param deltaTime - Time in seconds since the last update\n   * \n   * @example\n   * ```typescript\n   * // In game loop\n   * function gameLoop(deltaTime) {\n   *   playerEntity.moxiEntity.update(deltaTime);\n   * }\n   * ```\n   */\n  update(deltaTime: number) { \n    for (const className in this.logic) {\n      const logicComponent = this.logic[className];\n      if(logicComponent.update && this.entity && logicComponent.active){\n        logicComponent.update(this.entity, deltaTime); \n      }\n    }\n    // TODO: update children?\n  }\n  \n  /**\n   * Initializes all logic components attached to this entity\n   * Typically called once when the entity is first created or added to the scene\n   * \n   * @param renderer - The PIXI renderer instance\n   * @param args - Additional arguments to pass to each logic component's init method\n   * \n   * @example\n   * ```typescript\n   * // When adding an entity to the scene\n   * scene.addChild(entitySprite);\n   * entitySprite.moxiEntity.init(renderer);\n   * ```\n   */\n  init(renderer: PIXI.Renderer<HTMLCanvasElement>, ...args: any[]) {\n    for (const className in this.logic) {\n      const logicComponent = this.logic[className];\n      if(logicComponent.init && this.entity){\n        logicComponent.init(this.entity, renderer, ...args);\n      }\n    }\n  } \n\n  /**\n   * Adds a logic component to this entity\n   * \n   * @param logic - The logic component to add\n   * \n   * @example\n   * ```typescript\n   * // Create and add logic\n   * const movementLogic = new MovementLogic();\n   * movementLogic.speed = 5;\n   * entitySprite.moxiEntity.addLogic(movementLogic);\n   * ```\n   */\n  addLogic(logic: Logic<T>) {\n    // Use explicit name if set, otherwise fall back to constructor name\n    const logicName = logic.name || logic.constructor.name;\n    this.logic[logicName] = logic;\n  }\n\n  /**\n   * Retrieves a logic component by name\n   * Useful for accessing and configuring specific logic components\n   * \n   * @template L - The type of logic to return\n   * @param name - The name of the logic to retrieve (usually the class name)\n   * @returns The logic instance, or undefined if not found\n   * \n   * @example\n   * ```typescript\n   * // Get and configure logic\n   * const movement = entitySprite.moxiEntity.getLogic<MovementLogic>('MovementLogic');\n   * if (movement) {\n   *   movement.speed = 10;\n   *   movement.direction = 'right';\n   * }\n   * ```\n   */\n  getLogic<L extends Logic<T>>(name: string): L | undefined {\n    return this.logic[name] as L | undefined;\n  }\n}\n\n/**\n * Helper function to convert a PIXI Container into an AsEntity\n * This is the primary way to create entities in Moxi\n * \n * @category Entities\n * @template T - The type of container being converted\n * @param entity - The PIXI Container to convert\n * @param logic - Optional initial logic to attach\n * @returns The enhanced container as an AsEntity\n * \n * @example\n * ```typescript\n * // Basic usage\n * const sprite = new PIXI.Sprite(texture);\n * const entitySprite = asEntity(sprite);\n * scene.addChild(entitySprite);\n * \n * // With initial logic\n * const player = asEntity(\n *   new PIXI.Sprite(playerTexture),\n *   {\n *     'PlayerMovement': new PlayerMovementLogic(),\n *     'Health': new HealthLogic(100)\n *   }\n * );\n * ```\n */\nexport function asEntity<T extends PIXI.Container>(entity: T, logic: MoxiLogic<T> = {}): AsEntity<T> {\n  const target = entity;\n  \n  // pixi patch: it's throwing an error on interactive events if isInteractive() doesn't exist.\n  target.isInteractive = () => false; \n\n  (target as unknown as AsEntity<T>).moxiEntity = new MoxiEntity<T>(target, logic);\n  return entity as unknown as AsEntity<T>;\n}\n\n","import PIXI, { Point } from 'pixi.js';\nimport { Logic } from './logic';\nimport { Scene } from './scene';\nimport { AsEntity, MoxiLogic, MoxiEntity } from './moxi-entity';\nimport { lerp } from '../library/utils';\n\n/**\n * Logic that handles camera movement, following targets, and smooth transitions.\n * \n * @category Logic\n * @implements {Logic<PIXI.Container>}\n */\nexport class CameraLogic extends Logic<PIXI.Container> {\n  /**\n   * Explicit name for the logic component (survives minification)\n   */\n  name = 'CameraLogic';\n  \n  /**\n   * Speed at which the camera transitions to its target position and scale\n   * @default 0.1\n   */\n  public speed: number = 0.1;\n  \n  /**\n   * The entity that the camera will follow\n   * @default null\n   */\n  public target: PIXI.Container = null;\n  \n  /**\n   * The entity this logic is attached to\n   */\n  entity: PIXI.Container<PIXI.ContainerChild>;\n  \n  /**\n   * Reference to the renderer for viewport calculations\n   */\n  renderer: PIXI.Renderer<HTMLCanvasElement>;\n\n  /**\n   * Initialize the camera logic\n   * @param entity - The container (camera) this logic is attached to\n   * @param renderer - The PIXI renderer instance\n   */\n  init(entity: PIXI.Container, renderer: PIXI.Renderer) {\n    this.entity = entity;\n    this.renderer = renderer;\n  }\n\n  /**\n   * Updates the camera position and scale based on targets and desired values\n   * @param entity - The Camera entity\n   * @param deltaTime - Time elapsed since last update in seconds\n   */\n  update(entity: Camera, deltaTime: number) {\n    const { speed } = this;\n    const deltaSpeed = Math.min(deltaTime * speed, 1);\n\n    // Interpolate scale values first\n    if (entity.desiredScale !== entity.scale) {\n      entity.scale.x = lerp(entity.scale.x, entity.desiredScale.x, deltaSpeed);\n      entity.scale.y = lerp(entity.scale.y, entity.desiredScale.y, deltaSpeed);\n    }\n    \n    // Update desired position if camera has a target\n    if (this.target) {\n      // In a PIXI.js camera system, we need to position the camera (scene)\n      // so that the target appears centered in the viewport\n      \n      // Get the center of the viewport in screen coordinates\n      const screenCenterX = this.renderer.width / 2;\n      const screenCenterY = this.renderer.height / 2;\n      \n      // Calculate where the scene should be positioned\n      // The formula is: -(targetPosition * scale) + screenCenter\n      // This ensures the target is at the center of the screen\n      const desiredX = -(this.target.position.x * entity.scale.x) + screenCenterX;\n      const desiredY = -(this.target.position.y * entity.scale.y) + screenCenterY;\n      \n      // Set desired position for the scene (using negative values for camera coordinates)\n      entity.desiredPosition.set(-desiredX, -desiredY);\n    }\n\n    // Interpolate position values\n    if (entity.desiredPosition !== entity.position) {\n      entity.position.x = lerp(entity.position.x, entity.desiredPosition.x, deltaSpeed);\n      entity.position.y = lerp(entity.position.y, entity.desiredPosition.y, deltaSpeed);\n    }\n    \n    // Apply camera transformations to the scene\n    // In PIXI, the \"camera\" effect is created by transforming the scene in the opposite direction\n    entity.scene.scale.set(entity.scale.x, entity.scale.y);\n    \n    // Position the scene at the negative of the camera position to create camera movement effect\n    entity.scene.position.set(-entity.position.x, -entity.position.y);\n  }\n}\n\n/**\n * Camera entity for controlling the viewport and following game objects.\n * The Camera applies transformations to the scene to simulate camera movement.\n * \n * @category Core\n * @implements {AsEntity<PIXI.Container>}\n * \n * @example\n * ```typescript\n * // Make the camera follow a player entity\n * camera.moxiEntity.getLogic<CameraLogic>('CameraLogic').target = player;\n * \n * // Set the camera zoom level\n * camera.desiredScale.set(2, 2); // 2x zoom\n * ```\n */\nexport class Camera extends PIXI.Container implements AsEntity<PIXI.Container> {\n  /**\n   * Reference to the scene being viewed by this camera\n   */\n  public scene: Scene;\n  \n  /**\n   * Reference to the renderer\n   */\n  public renderer: PIXI.Renderer;\n  \n  /**\n   * Speed at which the camera transitions\n   * @default 0.1\n   */\n  public speed: number = 0.1;\n  \n  /**\n   * MoxiEntity reference as required by the AsEntity interface\n   */\n  public moxiEntity: MoxiEntity<PIXI.Container>;\n  \n  /**\n   * The target scale (zoom) for the camera\n   * @default new Point(1, 1)\n   */\n  public desiredScale: Point = new Point(1, 1);\n  \n  /**\n   * The target position for the camera\n   * @default new Point(0, 0)\n   */\n  public desiredPosition: Point = new Point(0, 0); \n  \n  /**\n   * Creates a new Camera instance\n   * @param scene - The scene being viewed by this camera\n   * @param renderer - The PIXI renderer\n   * @param logic - Additional logic to attach to this camera\n   */\n  constructor(scene: Scene, renderer: PIXI.Renderer, logic: MoxiLogic<PIXI.Container> = {}) {\n    super();\n    this.scene = scene;\n    this.renderer = renderer;\n\n    // Initialize and attach the camera logic\n    const cameraLogic = new CameraLogic();\n    cameraLogic.init(this, renderer);\n    this.moxiEntity = new MoxiEntity<PIXI.Container>(this, logic);\n    this.moxiEntity.addLogic(cameraLogic);\n    this.scene.addChild(this);\n  }\n}  \n\n","import PIXI from 'pixi.js';\nimport { AssetLoader } from '../core/asset-loader';\nimport { Camera } from '../core/camera';\nimport { Engine } from '../core/engine';\nimport { RenderManager } from '../core/render-manager';\nimport { Scene } from '../core/scene';\n\nexport interface SetupMoxiArgs {\n  hostElement: HTMLElement;\n  renderOptions?: Partial<PIXI.AutoDetectOptions>;\n}\n\nexport interface SetupMoxiResult {\n  scene: Scene;\n  engine: Engine;\n  PIXIAssets: AssetLoader['PIXIAssets'];\n  renderer: PIXI.Renderer;\n  loadAssets: AssetLoader['loadAssets'];\n}\n\nexport const defaultRenderOptions = {\n  width: 1280, \n  height: 720, \n  backgroundColor: 0x1099bb \n} as Partial<PIXI.AutoDetectOptions>;\n\nexport async function setupMoxi({ hostElement, renderOptions = defaultRenderOptions } = {} as SetupMoxiArgs) {\n  const { renderer } = await RenderManager.create(hostElement, renderOptions);\n  const scene = new Scene(renderer);\n  const engine = new Engine(scene);\n  \n  // Get the singleton AssetLoader instance\n  const { PIXIAssets, loadAssets } = new AssetLoader();\n  \n  const camera = new Camera(scene, renderer);\n\n  return {\n    scene,\n    engine,\n    PIXIAssets,\n    renderer,\n    loadAssets,\n    camera\n  };\n}\n\n","import FontFaceObserver from 'fontfaceobserver';\nimport { BitmapFont } from 'pixi.js';\n\nexport const loadFonts = async () => {\n  // note that this references the font-face specified in the HTML style section\n  // <style>\n  // @font-face {\n  //   font-family: 'kenfuture-thin';\n  //   src: url('./assets/fonts/kenvector_future_thin.ttf');\n  // }\n  // </style>\n\n  // using fontfaceobserver allows us ensure the font is loaded before using configuration for bitmap fonts.\n  const fontKenfutureThin = new FontFaceObserver('kenfuture-thin');\n\n  // PIXI.BitmapFont.install will create a bitmap font from a font-face and TextStyle configuration\n  // Using a Bitmapfont allows for better performance when rapidly changing rendered text.\n  return new Promise((resolve) => {\n    fontKenfutureThin.load().then(() => {\n      BitmapFont.install({\n        name: 'kenfuture-thin',\n        style: {\n          fontFamily: 'kenfuture-thin'\n        }\n      });\n      resolve({ fontKenfutureThin });\n    });\n  });\n};","import PIXI from 'pixi.js';\n\n\n/**\n * Options for creating texture frames from a spritesheet\n */\nexport interface AsTextureFramesOptions {\n  /**\n   * Width of each frame in pixels\n   */\n  frameWidth: number;\n  \n  /**\n   * Height of each frame in pixels\n   */\n  frameHeight: number;\n  \n  /**\n   * Number of columns in the spritesheet\n   */\n  columns: number;\n  \n  /**\n   * Number of rows in the spritesheet\n   */\n  rows: number;\n}\n\n/**\n * Default texture frame options\n */\nconst defaultOptions: AsTextureFramesOptions = { \n  frameWidth: 48, \n  frameHeight: 48, \n  columns: 4, \n  rows: 4 \n};\n\n/**\n * Splits a texture source into individual texture frames based on a grid layout\n * \n * @param textureSource - The source texture to split into frames\n * @param options - Configuration options for frame extraction\n * @returns Array of individual texture frames\n */\nexport function asTextureFrames(\n  PIXI,\n  textureSource: PIXI.TextureSource, \n  options: AsTextureFramesOptions = defaultOptions,\n): PIXI.Texture<PIXI.TextureSource<any>>[] {\n  const { frameWidth, frameHeight, columns, rows } = options;\n  const frames: PIXI.Texture<PIXI.TextureSource<any>>[] = [];\n\n  // Ensure we're working with a validated texture source\n  if (!textureSource) {\n    console.error('Invalid texture source provided to asTextureFrames');\n    return frames;\n  }\n\n  // Create textures from the texture source - keeping implementation identical to working version\n  for (let y = 0; y < rows; y++) {\n    for (let x = 0; x < columns; x++) {\n      const frame = new PIXI.Rectangle(x * frameWidth, y * frameHeight, frameWidth, frameHeight);\n      \n      // Keep the exact same implementation as the working example\n      const frametexture = new PIXI.Texture({\n        source: textureSource,\n        frame: frame,\n      }) as PIXI.Texture<PIXI.TextureSource<any>>;\n      \n      frames.push(frametexture);\n    }\n  }\n  \n  return frames as PIXI.Texture<PIXI.TextureSource<any>>[];\n}\n","import PIXI from 'pixi.js';\n\n/**\n * Sequence information for an animation\n */\nexport interface SequenceInfo {\n  /** Array of frame indices from the texture atlas */\n  frames: number[];\n  /** Speed of animation (frames per ms) */\n  animationSpeed: number;\n}\n\n/**\n * Manages frame sequences for animated sprites\n * Provides utility functions for working with sprite sheet animations\n */\nexport class TextureFrameSequences {\n  private frames: PIXI.Texture[] = [];\n  private sequences: Record<string, SequenceInfo> = {};\n\n  /**\n   * Create a new TextureFrameSequences\n   * @param frames - Array of textures from a spritesheet\n   * @param sequences - Named sequences with frame indices and animation speed\n   */\n  constructor(frames: PIXI.Texture[], sequences: Record<string, SequenceInfo> = {}) {\n    this.frames = frames;\n    this.sequences = sequences;\n  }\n\n  /**\n   * Add a new animation sequence\n   * @param name - Unique identifier for the sequence\n   * @param frameIndices - Array of frame indices from the texture atlas\n   * @param animationSpeed - Speed of animation (frames per ms)\n   */\n  addSequence(name: string, frameIndices: number[], animationSpeed: number = 1) {\n    this.sequences[name] = {\n      frames: frameIndices,\n      animationSpeed\n    };\n  }\n\n  /**\n   * Get a sequence by name\n   */\n  getSequence(name: string): SequenceInfo | null {\n    return this.sequences[name] || null;\n  }\n\n  /**\n   * Get a specific frame by index\n   */\n  getFrame(index: number): PIXI.Texture | null {\n    return this.frames[index] || null;\n  }\n\n  /**\n   * Get a specific frame from a sequence by index\n   */\n  getFrameFromSequence(sequenceName: string, frameIndex: number): PIXI.Texture | null {\n    const sequence = this.getSequence(sequenceName);\n    if (!sequence) return null;\n    \n    // Get the appropriate frame index from the sequence\n    const sequenceFrameIndex = sequence.frames[frameIndex % sequence.frames.length];\n    \n    // Return the texture\n    return this.frames[sequenceFrameIndex] || null;\n  }\n\n  /**\n   * Get all frames for a sequence\n   */\n  getFrameSequence(name: string): PIXI.Texture[] {\n    const sequence = this.getSequence(name);\n    if (!sequence) return [];\n    \n    return sequence.frames.map(index => this.frames[index]).filter(Boolean);\n  }\n} ","import { StateLogic } from './state-logic';\n\n// Define the custom event type for state changes\nexport type StateChangeEvent = {\n  prevState: string | null;\n  newState: string;\n};\n\ntype StateChangeEventListener = (event: StateChangeEvent) => void;\ntype StateLogicRecords = Record<string, StateLogic>;\n\nexport class StateMachine extends EventTarget {\n  private _states: StateLogicRecords = {};\n  private _currentState: StateLogic | null = null;\n  private _currentStateName: string | null = null;\n\n  constructor(states: StateLogicRecords = {}) {\n    super();\n    this._states = states;\n  }\n\n  update(deltaTime: number) {\n    if (this._currentState) {\n      this._currentState.update(this._currentState.entity, deltaTime);\n    }\n  }\n  \n  setState(stateName: string) {\n    const nextState = this._states[stateName];\n    if(!nextState) return;\n\n    const prevStateName = this._currentStateName;\n    \n    if (this._currentState) {\n      this._currentState.onExit(stateName);\n    }\n\n    this._currentState = this._states[stateName];\n    this._currentStateName = stateName;\n    this._currentState.onEnter(stateName);\n    \n    // Dispatch the state change event\n    const event = new CustomEvent<StateChangeEvent>('stateChange', {\n      detail: {\n        prevState: prevStateName,\n        newState: stateName\n      }\n    });\n    \n    this.dispatchEvent(event);\n  }\n\n  addState(state: StateLogic) {\n    this._states[state.name] = state;\n  }\n  \n  get currentState(): string | null {\n    return this._currentStateName;\n  }\n}\n\n","import * as utils from './library/utils';\nimport { RenderManager } from './core/render-manager';\nimport { Scene } from './core/scene';\nimport { Engine } from './core/engine';\nimport { EventEmitter } from './core/event-system';\nimport { ClientEvents } from './library/client-events';\nimport { AssetLoader } from './core/asset-loader';\nimport { Logic } from './core/logic';\nimport { defaultRenderOptions, setupMoxi } from './library/setup';\nimport { loadFonts } from './library/font-loader';\nimport { asEntity, MoxiEntity } from './core/moxi-entity';\nimport { Camera, CameraLogic } from './core/camera';\nimport { asTextureFrames } from './library/texture-frames';\nimport { TextureFrameSequences, SequenceInfo } from './library/texture-frame-sequences';\nimport { createResizeHandler, setupResponsiveCanvas, ResizeHandlerOptions } from './library/resize-handler';\nimport { StateMachine } from './library/state-machine';\nimport { StateLogic } from './library/state-logic';\nimport { createTileGrid, getTextureRange } from './library/grid-generator';\n\nexport type { StateChangeEvent } from './library/state-machine';\nexport type { AsTextureFramesOptions } from './library/texture-frames';\nexport type { GridOptions, CellPosition } from './library/grid-generator';\n\nexport type Asset = { src: string, alias?: string };\n\nexport interface OnEvent {\n  event: Event;\n  eventType: string;\n}\n\nexport interface ClientEventsArgs {\n  initWheelOffset?: any;\n  onAnyEvent?: (ev: OnEvent) => void;\n}\n\nexport type ClientEventsType = {\n  keyDownEvent?: KeyboardEvent;\n  keyUpEvent?: KeyboardEvent;\n  keydown?: Record<string, KeyboardEvent>;\n  mouseDownEvent?: MouseEvent;\n  mouseUpEvent?: MouseEvent;\n  lastMouseDown?: MouseEvent;\n  lastMouseUp?: MouseEvent;\n  wheelEvent?: WheelEvent;\n  wheelDelta?: { yValue: 0 | number, xValue: 0 | number, xLast: number, yLast: number }\n}\n\n// Re-export types\nexport { \n  SequenceInfo, \n  ResizeHandlerOptions \n};\n\nconst exportedObjects = {\n  AssetLoader,\n  asEntity,\n  asTextureFrames,\n  Logic,\n  Camera,\n  CameraLogic,\n  ClientEvents,\n  createResizeHandler,\n  createTileGrid,\n  defaultRenderOptions,\n  Engine,\n  EventEmitter,\n  getTextureRange,\n  loadFonts,\n  MoxiEntity,\n  setupMoxi,\n  RenderManager,\n  Scene,\n  setupResponsiveCanvas,\n  TextureFrameSequences,\n  utils,\n  StateMachine,\n  StateLogic\n};\n\nexport default exportedObjects;\n\nexport {\n  AssetLoader,\n  asEntity, \n  asTextureFrames,\n  Logic,\n  Camera,\n  CameraLogic,\n  ClientEvents,\n  createResizeHandler,\n  createTileGrid,\n  defaultRenderOptions,\n  Engine,\n  EventEmitter,\n  getTextureRange,\n  loadFonts,\n  MoxiEntity,\n  setupMoxi,\n  RenderManager,\n  Scene,\n  setupResponsiveCanvas,\n  TextureFrameSequences,\n  utils,\n  StateMachine,\n  StateLogic\n};\n\n","/**\n * Centralized asset configuration\n * Maps asset aliases to their actual paths\n * \n * Note: Paths use ../assets/ because the built files are in dist/\n * and assets folder is at the project root level\n */\n\nexport const ASSETS = {\n  // Characters\n  ROBOT_IDLE: '../assets/character_robot_idle.png',\n  SPROUTLANDS_CHARACTER: '../assets/sprout-lands-basic/Characters/Basic Charakter Spritesheet.png',\n  CHICKEN: '../assets/sprout-lands-basic/Characters/Free Chicken Sprites.png',\n  COW: '../assets/sprout-lands-basic/Characters/Free Cow Sprites.png',\n  \n  // Tiles\n  GRASS_TILES: '../assets/sprout-lands-basic/Tilesets/Grass.png',\n  WATER_TILES: '../assets/sprout-lands-basic/Tilesets/Water.png',\n  HILLS_TILES: '../assets/sprout-lands-basic/Tilesets/Hills.png',\n  \n  // Objects\n  FURNITURE: '../assets/sprout-lands-basic/Objects/Basic_Furniture.png',\n  PLANTS: '../assets/sprout-lands-basic/Objects/Basic_Plants.png',\n  TOOLS: '../assets/sprout-lands-basic/Objects/Basic_tools_and_meterials.png',\n  \n  // Fantasy Theme\n  FANTASY_CHARACTER_IDLE: '../assets/LegacyFantasy-HighForest/Character/Idle/Idle-Sheet.png',\n  FANTASY_CHARACTER_RUN: '../assets/LegacyFantasy-HighForest/Character/Run/Run-Sheet.png',\n  FANTASY_CHARACTER_JUMP: '../assets/LegacyFantasy-HighForest/Character/Jump-All/Jump-All-Sheet.png',\n  FANTASY_BACKGROUND: '../assets/LegacyFantasy-HighForest/Background/Background.png',\n  FANTASY_TREES: '../assets/LegacyFantasy-HighForest/Assets/Tree-Assets.png',\n  \n  // Space Theme\n  SPACE_NEBULA_BLUE: '../assets/space-backgrounds/Nebula Blue.png',\n  SPACE_NEBULA_RED: '../assets/space-backgrounds/Nebula Red.png',\n  SPACE_STARS_SMALL: '../assets/space-backgrounds/Stars Small_1.png',\n  SPACE_SHOOTER_SHEET: '../assets/space-sprite-sheets/space-shooter.png',\n  SPACE_SHOOTER_JSON: '../assets/space-sprite-sheets/space-shooter.json',\n  \n  // UI\n  UI_BUTTONS: '../assets/ui-pack/png/blue_button00.png',\n  UI_PANEL: '../assets/ui-pack/png/blue_panel.png',\n  \n  // Fonts\n  KENFUTURE_THIN_FONT: '../assets/custom-fonts/kenvector_future_thin.ttf',\n  KENFUTURE_FONT: '../assets/custom-fonts/kenvector_future.ttf',\n  PIXEL_FONT_SPROUTLANDS: '../assets/sprout-lands-ui-basic/fonts/pixelFont-7-8x14-sproutLands.ttf'\n} as const;\n\nexport type AssetKey = keyof typeof ASSETS;\n\n","import { utils, setupMoxi, Logic, asEntity } from 'moxi';\nimport { Sprite, BitmapText, Renderer } from 'pixi.js';\nimport { ASSETS } from '../assets-config';\n\nconst { rad2deg } = utils;\n\nclass RotationLabel extends Logic<BitmapText> {\n  targetEntity: Sprite = null;\n\n  constructor(targetEntity: Sprite) {\n    super();\n    this.targetEntity = targetEntity;\n  }\n\n  update(entity: BitmapText) {\n    entity.text = `${(Math.round(rad2deg(this.targetEntity.rotation)) + 90) % 360}Â°`;\n  }\n}\n\nclass CharacterLogic extends Logic<Sprite> {\n  update(entity: Sprite, deltaTime: number) {\n    entity.rotation += deltaTime * 0.1;\n  }\n\n  init(entity: Sprite, renderer: Renderer<HTMLCanvasElement>) {\n    const { width, height } = renderer.canvas;\n    entity.anchor.set(0.5);\n    entity.x = width / 2;\n    entity.y = height / 2;\n  }\n} \n\nexport async function initRotatingSprite() {\n  const root = document.getElementById('app');\n  if (!root) throw new Error('App element not found');\n\n  const { scene, engine, PIXIAssets, loadAssets } = await setupMoxi({ hostElement: root });\n  const { renderer } = scene;\n  renderer.background.color = 'green';\n\n  await loadAssets([\n    { src: ASSETS.ROBOT_IDLE, alias: 'character' },\n    { src: ASSETS.KENFUTURE_THIN_FONT, alias: 'kenfuture-thin' }\n  ]);\n  \n  const labelText = new BitmapText({\n    text: '0Â°',\n    style: {\n      fontFamily: 'kenfuture-thin', \n      fontSize: 32, \n      fontStyle: 'normal', \n      fill: 'white',\n    }\n  });\n\n  const texture = PIXIAssets.get('character');\n  const characterSprite = new Sprite({ texture });\n  characterSprite.eventMode = 'none';\n\n  const label = asEntity(labelText);\n  label.position.set(renderer.canvas.width / 2, 50);\n  label.moxiEntity.addLogic(new RotationLabel(characterSprite));\n\n  const character = asEntity<Sprite>(characterSprite);\n  character.moxiEntity.addLogic(new CharacterLogic());\n  \n  scene.addChild(character);\n  scene.addChild(label);\n  scene.init();\n  engine.start();\n\n  console.log('â Rotating Sprite example loaded');\n}\n\n","import { Logic, asEntity, setupMoxi } from 'moxi';\nimport * as PIXI from 'pixi.js';\nimport { ASSETS } from '../assets-config';\n\n/**\n * Progress Bar Example\n * Demonstrates a custom Logic component that creates an animated progress bar\n */\n\nexport interface ProgressBarOptions {\n  barWidth?: number;\n  barHeight?: number;\n  max?: number;\n  min?: number;\n  color?: string | number;\n  backgroundColor?: string | number;\n  barPadding?: PIXI.Point;\n  value?: number;\n  bitmapText?: Partial<PIXI.TextStyle>;\n}\n\nexport const defaultProgressBarOptions: ProgressBarOptions = {\n  barWidth: 200,\n  barHeight: 20,\n  max: 100,\n  min: 0,\n  color: 0x00ff00,\n  backgroundColor: 0x555555,\n  barPadding: new PIXI.Point(5, 5),\n  bitmapText: {\n    fontFamily: 'kenfuture-thin', \n    fontSize: 32, \n    fontStyle: 'normal', \n    fill: 'black', \n  }\n};\n\nexport class ProgressBarLogic extends Logic<PIXI.Sprite> {\n  backgroundBar: PIXI.Graphics;\n  forgroundBar: PIXI.Graphics;\n  bitmapText: PIXI.BitmapText;\n  value: number;\n\n  constructor(public options: ProgressBarOptions = {}) {\n    super();\n    this.forgroundBar = new PIXI.Graphics();\n    this.backgroundBar = new PIXI.Graphics();\n    this.value = 0;\n    this.options = { ...defaultProgressBarOptions, ...options };\n  }\n\n  setValue(value: number) {\n    this.value = value;\n  }\n\n  init(entity: PIXI.Sprite, renderer: PIXI.Renderer<HTMLCanvasElement>) {\n    const { width, height } = renderer.canvas;\n    const { backgroundColor, color, barWidth, barHeight, barPadding, bitmapText } = this.options;\n    const padding = new PIXI.Point(barPadding.x, barPadding.y);\n\n    this.value = 0;\n\n    this.backgroundBar = new PIXI.Graphics();\n    this.backgroundBar.rect(0, 0, barWidth, barHeight);\n    this.backgroundBar.fill(backgroundColor);\n       \n    this.forgroundBar = new PIXI.Graphics(); \n    this.forgroundBar.rect(padding.x, padding.y, 0, barHeight - padding.y);\n    this.forgroundBar.fill(color);\n    \n    this.bitmapText = new PIXI.BitmapText({\n      text: `%${this.value}`,\n      style: bitmapText\n    } as PIXI.TextOptions);\n    \n    this.bitmapText.position.set(\n      (barWidth / 2) - (this.bitmapText.width / 2), \n      (barHeight / 2) - (this.bitmapText.height / 2)\n    );\n\n    this.backgroundBar.eventMode = 'none';\n    this.forgroundBar.eventMode = 'none';\n    this.bitmapText.eventMode = 'none';\n\n    entity.addChild(this.backgroundBar);\n    entity.addChild(this.forgroundBar);\n    entity.addChild(this.bitmapText);\n\n    entity.position.set(\n       (width / 2) - barWidth / 2,\n       (height / 3) - barHeight / 2\n    );\n  }\n\n  update(entity: PIXI.Sprite, deltaTime: number) {\n    const { max, barWidth, barHeight, color, backgroundColor, barPadding } = this.options;\n    const padding = new PIXI.Point(barPadding.x, barPadding.y);\n\n    const paddedWidth = (barWidth - padding.x * 2);\n    const percent = (this.value / max);\n    const width = Math.min(paddedWidth * percent, paddedWidth);\n\n    this.backgroundBar.clear();\n    this.backgroundBar.rect(0, 0, barWidth, barHeight);\n    this.backgroundBar.fill(backgroundColor);\n\n    this.forgroundBar.clear();\n    this.forgroundBar.rect(padding.x, padding.y, width, barHeight - (padding.y * 2));\n    this.forgroundBar.fill(color);\n\n    const textvalue = Math.floor(percent * 100);\n    if (this.bitmapText) {\n      this.bitmapText.text = '%' + textvalue;\n    }\n\n    if (this.value > max) {\n      this.forgroundBar.clear();\n      this.setValue(0);\n    }\n    if (this.value <= max) {\n      const nextValue = this.value += (deltaTime);\n      this.setValue(nextValue);\n    }\n  }\n}\n\nexport async function initProgressBar() {\n  const root = document.getElementById('app');\n  if (!root) throw new Error('App element not found');\n\n  const { scene, engine, loadAssets } = await setupMoxi({ hostElement: root });\n  \n  // Load the font for the percentage text\n  await loadAssets([\n    { src: ASSETS.KENFUTURE_THIN_FONT, alias: 'kenfuture-thin' }\n  ]);\n\n  const moxiProgressBar = asEntity<PIXI.Container>(new PIXI.Container());\n    \n  const barOptions: ProgressBarOptions = { \n    backgroundColor: 'silver',\n    color: 'green',\n    barHeight: 55,\n    bitmapText: { \n      ...defaultProgressBarOptions.bitmapText,\n      fontSize: 32, \n      align: 'center',\n      fill: 'black' \n    }\n  };\n  \n  moxiProgressBar.moxiEntity.addLogic(\n    new ProgressBarLogic({ ...defaultProgressBarOptions, ...barOptions })\n  );\n  \n  scene.addChild(moxiProgressBar);\n  scene.init();\n  engine.start();\n\n  console.log('â Progress Bar example loaded');\n}\n\n","import { Logic, ClientEvents, TextureFrameSequences } from 'moxi';\nimport * as PIXI from 'pixi.js';\n\n// Define animation directions\nexport const DIRECTION = {\n  DOWN: 'down',\n  UP: 'up',\n  LEFT: 'left',\n  RIGHT: 'right'\n} as const;\n\nexport type Direction = typeof DIRECTION[keyof typeof DIRECTION];\n\n// Animation states\nexport const ANIMATION_STATE = {\n  IDLE: 'idle',\n  WALK: 'walk'\n} as const;\n\nexport type AnimationState = typeof ANIMATION_STATE[keyof typeof ANIMATION_STATE];\n\n// Default movement settings\nexport interface MovementOptions {\n  speed: number;\n  allowDiagonal?: boolean;\n}\n\nexport const DEFAULT_MOVEMENT_OPTIONS: MovementOptions = {\n  speed: 2,\n  allowDiagonal: true\n};\n\n/**\n * Generic movement logic that can be applied to any sprite using directional animations\n */\nexport class PlayerMovementLogic extends Logic<PIXI.AnimatedSprite> {\n  private clientEvents: ClientEvents;\n  private direction: Direction = DIRECTION.DOWN;\n  private animationState: AnimationState = ANIMATION_STATE.IDLE;\n  private moving: boolean = false;\n  private animationTimer: number = 0;\n  private frameIndex: number = 0;\n  private options: MovementOptions;\n  private frameSequences: TextureFrameSequences;\n  private currentSequenceName: string = '';\n  private velocity: PIXI.Point = new PIXI.Point(0, 0);\n  \n  constructor(options: Partial<MovementOptions> = {}, frameSequences: TextureFrameSequences) {\n    super();\n    this.options = { ...DEFAULT_MOVEMENT_OPTIONS, ...options };\n    this.frameSequences = frameSequences;\n  }\n  \n  init(entity: PIXI.AnimatedSprite, renderer: PIXI.Renderer<HTMLCanvasElement>) {\n    this.clientEvents = new ClientEvents();\n    this.setAnimationState(ANIMATION_STATE.IDLE, this.direction);\n    this.updateTexture(entity);\n  }\n  \n  private getSequenceKey(state: AnimationState, direction: Direction): string {\n    return `${state}${direction.charAt(0).toUpperCase() + direction.slice(1)}`;\n  }\n  \n  private setAnimationState(state: AnimationState, direction: Direction) {\n    this.animationState = state;\n    this.direction = direction;\n    this.currentSequenceName = this.getSequenceKey(state, direction);\n    this.animationTimer = 0;\n    this.frameIndex = 0;\n  }\n  \n  private getDirectionFromVelocity(velocity: PIXI.Point): Direction {\n    if (velocity.x === 0 && velocity.y === 0) {\n      return this.direction;\n    }\n    \n    if (Math.abs(velocity.x) > Math.abs(velocity.y)) {\n      return velocity.x > 0 ? DIRECTION.RIGHT : DIRECTION.LEFT;\n    } else {\n      return velocity.y > 0 ? DIRECTION.DOWN : DIRECTION.UP;\n    }\n  }\n  \n  private normalizeVelocity(velocity: PIXI.Point, speed: number): PIXI.Point {\n    if (velocity.x === 0 && velocity.y === 0) {\n      return velocity;\n    }\n    \n    const length = Math.sqrt(velocity.x * velocity.x + velocity.y * velocity.y);\n    \n    if (length > 0) {\n      velocity.x = (velocity.x / length) * speed;\n      velocity.y = (velocity.y / length) * speed;\n    }\n    \n    return velocity;\n  }\n  \n  update(entity: PIXI.AnimatedSprite, deltaTime: number) {\n    const { clientEvents, frameSequences, velocity } = this;\n    const { speed } = this.options;\n    \n    // Reset velocity vector\n    this.velocity.set(0, 0);\n    \n    // Calculate movement based on key presses\n    if (clientEvents.isKeyDown('ArrowUp')) {\n      velocity.y -= 1;\n    }\n    if (clientEvents.isKeyDown('ArrowDown')) {\n      velocity.y += 1;\n    }\n    if (clientEvents.isKeyDown('ArrowLeft')) {\n      velocity.x -= 1;\n    }\n    if (clientEvents.isKeyDown('ArrowRight')) {\n      velocity.x += 1;\n    }\n    \n    // Normalize velocity to maintain constant speed\n    this.normalizeVelocity(velocity, speed);\n    \n    // Apply movement\n    entity.x += velocity.x;\n    entity.y += velocity.y;\n    \n    // Determine if we're moving\n    const isMoving = velocity.x !== 0 || velocity.y !== 0;\n    \n    // Get dominant direction\n    const newDirection = this.getDirectionFromVelocity(velocity);\n    \n    // Update animation state if movement state changed\n    const newState = isMoving ? ANIMATION_STATE.WALK : ANIMATION_STATE.IDLE;\n    if (newState !== this.animationState || newDirection !== this.direction) {\n      this.setAnimationState(newState, newDirection);\n      this.updateTexture(entity);\n    }\n    \n    // Handle animation timing\n    const sequence = frameSequences.getSequence(this.currentSequenceName);\n    if (sequence && sequence.frames.length > 0) {\n      this.animationTimer += deltaTime;\n      const animSpeed = sequence.animationSpeed;\n      \n      if (this.animationTimer >= animSpeed) {\n        this.animationTimer = 0;\n        this.updateAnimation(entity);\n      }\n    }\n    \n    this.moving = isMoving;\n  }\n  \n  getDirection(): Direction {\n    return this.direction;\n  }\n  \n  getAnimationState(): AnimationState {\n    return this.animationState;\n  }\n  \n  isMoving(): boolean {\n    return this.moving;\n  }\n  \n  getVelocity(): PIXI.Point {\n    return this.velocity;\n  }\n  \n  private updateAnimation(entity: PIXI.AnimatedSprite) {\n    const sequence = this.frameSequences.getSequence(this.currentSequenceName);\n    if (!sequence || sequence.frames.length === 0) return;\n    \n    this.frameIndex = (this.frameIndex + 1) % sequence.frames.length;\n    this.updateTexture(entity);\n  }\n  \n  private updateTexture(entity: PIXI.AnimatedSprite) {\n    const sequence = this.frameSequences.getSequence(this.currentSequenceName);\n    if (!sequence || sequence.frames.length === 0) return;\n    \n    const textureIndex = sequence.frames[this.frameIndex];\n    const frame = this.frameSequences.getFrame(textureIndex);\n    \n    if (frame) {\n      entity.texture = frame;\n    }\n  }\n}\n\n","/**\n * Moxi Examples - Main Entry Point\n * Provides a simple UI to select and run different examples\n */\nimport { initBasicSprite } from './examples/01-basic-sprite';\nimport { initRotatingSprite } from './examples/02-rotating-sprite';\nimport { initPixiOnly } from './examples/03-pixi-only';\nimport { initAnimatedCharacter } from './examples/04-animated-character';\nimport { initProgressBar } from './examples/05-progress-bar';\nimport { initBunnyAdventure } from './examples/06-bunny-adventure';\n\n// Example registry\ninterface Example {\n  name: string;\n  description: string;\n  init: () => Promise<void>;\n}\n\nconst examples: Record<string, Example> = {\n  'basic-sprite': {\n    name: '01 - Basic Sprite',\n    description: 'The simplest example - displays a single sprite',\n    init: initBasicSprite\n  },\n  'rotating-sprite': {\n    name: '02 - Rotating Sprite',\n    description: 'A sprite that rotates with a label showing the angle',\n    init: initRotatingSprite\n  },\n  'pixi-only': {\n    name: '03 - PIXI.js Only',\n    description: 'Pure PIXI.js example without Moxi - rotating bunny grid',\n    init: initPixiOnly\n  },\n  'animated-character': {\n    name: '04 - Animated Character',\n    description: 'Sprite animation with camera following',\n    init: initAnimatedCharacter\n  },\n  'progress-bar': {\n    name: '05 - Progress Bar',\n    description: 'Custom Logic component creating an animated progress bar',\n    init: initProgressBar\n  },\n  'bunny-adventure': {\n    name: '06 - Bunny Adventure',\n    description: 'Player movement with arrow keys, tile world, and camera',\n    init: initBunnyAdventure\n  }\n};\n\nlet currentExample: string | null = null;\n\n// Load an example\nasync function loadExample(exampleKey: string, updateHash: boolean = true) {\n  const app = document.getElementById('app');\n  if (!app) return;\n\n  // Check if example exists\n  if (!examples[exampleKey]) {\n    console.error(`Example \"${exampleKey}\" not found`);\n    return;\n  }\n\n  // Clear previous example\n  app.innerHTML = '';\n  currentExample = exampleKey;\n\n  // Update URL hash\n  if (updateHash) {\n    window.location.hash = exampleKey;\n  }\n\n  // Update UI\n  document.querySelectorAll('.example-btn').forEach(btn => {\n    btn.classList.remove('active');\n  });\n  document.querySelector(`[data-example=\"${exampleKey}\"]`)?.classList.add('active');\n\n  // Run the example\n  try {\n    await examples[exampleKey].init();\n  } catch (error) {\n    console.error('Error loading example:', error);\n    const errorMessage = error instanceof Error ? error.message : 'Unknown error';\n    app.innerHTML = `<div class=\"error\">Error loading example: ${errorMessage}</div>`;\n  }\n}\n\n// Get example key from URL hash\nfunction getExampleFromHash(): string | null {\n  const hash = window.location.hash.slice(1); // Remove the '#'\n  return hash && examples[hash] ? hash : null;\n}\n\n// Initialize UI\nfunction initUI() {\n  const sidebar = document.getElementById('sidebar');\n  if (!sidebar) return;\n\n  // Create example buttons\n  Object.entries(examples).forEach(([key, example]) => {\n    const button = document.createElement('button');\n    button.className = 'example-btn';\n    button.dataset.example = key;\n    button.innerHTML = `\n      <div class=\"example-title\">${example.name}</div>\n      <div class=\"example-desc\">${example.description}</div>\n    `;\n    button.addEventListener('click', () => loadExample(key));\n    sidebar.appendChild(button);\n  });\n\n  // Load example from hash or default to first\n  const hashExample = getExampleFromHash();\n  const exampleToLoad = hashExample || Object.keys(examples)[0];\n  loadExample(exampleToLoad, !hashExample); // Only update hash if we're loading default\n}\n\n// Handle hash changes (browser back/forward)\nfunction handleHashChange() {\n  const hashExample = getExampleFromHash();\n  if (hashExample && hashExample !== currentExample) {\n    loadExample(hashExample, false); // Don't update hash since it already changed\n  }\n}\n\n// Start the app\ndocument.addEventListener('DOMContentLoaded', () => {\n  initUI();\n  window.addEventListener('hashchange', handleHashChange);\n});\n\n","/**\n * Example 01: Basic Sprite\n * The simplest example - displays a single sprite\n * Ported from: example-projects/_project-template/template-example.ts\n */\nimport { setupMoxi, asEntity } from 'moxi';\nimport { Sprite } from 'pixi.js';\nimport { ASSETS } from '../assets-config';\n\nexport async function initBasicSprite() {\n  const root = document.getElementById('app');\n  if (!root) throw new Error('App element not found');\n\n  const { scene, engine, loadAssets, PIXIAssets } = await setupMoxi({ hostElement: root });\n  scene.renderer.background.color = 'green';\n\n  const assetList = [\n    { src: ASSETS.ROBOT_IDLE, alias: 'character' }\n  ];\n  \n  await loadAssets(assetList);\n\n  // Get the asset using the getAsset utility function\n  const texture = PIXIAssets.get('character');\n  const characterSprite = new Sprite({ texture });\n  characterSprite.eventMode = 'none';\n  \n  const character = asEntity<Sprite>(characterSprite);\n  \n  scene.addChild(character);\n  scene.init();\n  engine.start();\n\n  console.log('â Basic Sprite example loaded');\n}\n\n","import { Application, Assets, Container, Sprite } from 'pixi.js';\n\n/**\n * Basic PIXI.js example without Moxi\n * Shows how to use PIXI.js directly for comparison\n */\n\nexport async function initPixiOnly() {\n  const root = document.getElementById('app');\n  if (!root) throw new Error('App element not found');\n\n  // Clear any existing content\n  root.innerHTML = '';\n\n  // Create a new PIXI application\n  const app = new Application();\n\n  // Initialize the application\n  await app.init({ \n    background: '#1099bb',\n    resizeTo: root\n  });\n\n  // Append the application canvas to the root element\n  root.appendChild(app.canvas);\n  \n  // Create and add a container to the stage\n  const container = new Container();\n  app.stage.addChild(container);\n\n  // Load the bunny texture from PIXI.js examples\n  const texture = await Assets.load('https://pixijs.com/assets/bunny.png');\n\n  // Create a 5x5 grid of bunnies in the container\n  for (let i = 0; i < 25; i++) {\n    const bunny = new Sprite(texture);\n    bunny.x = (i % 5) * 40;\n    bunny.y = Math.floor(i / 5) * 40;\n    container.addChild(bunny);\n  }\n  \n  // Move the container to the center\n  container.x = app.screen.width / 2;\n  container.y = app.screen.height / 2;\n\n  // Center the bunny sprites in local container coordinates\n  container.pivot.x = container.width / 2;\n  container.pivot.y = container.height / 2;\n  \n  // Listen for animate update\n  app.ticker.add((time) => {\n    // Continuously rotate the container!\n    container.rotation -= 0.01 * time.deltaTime;\n  });\n\n  console.log('â PIXI-only (no Moxi) example loaded');\n}\n\n","import { setupMoxi, asEntity, CameraLogic, asTextureFrames } from 'moxi';\nimport * as PIXI from 'pixi.js';\nimport { ASSETS } from '../assets-config';\n\n/**\n * Animated Character Example\n * Demonstrates sprite animation using texture frames and camera following\n */\n\nexport async function initAnimatedCharacter() {\n  const root = document.getElementById('app');\n  if (!root) throw new Error('App element not found');\n\n  // Get the Moxi setup\n  const { scene, engine, loadAssets, camera, PIXIAssets } = await setupMoxi({\n    hostElement: root\n  });\n\n  scene.renderer.background.color = 0x3a4466; // Dark blue background\n\n  // Load character spritesheet\n  await loadAssets([\n    { src: ASSETS.SPROUTLANDS_CHARACTER, alias: 'character_sheet' }\n  ]);\n\n  // Get the character sheet texture\n  const baseTexture = PIXIAssets.get<PIXI.TextureSource>('character_sheet');\n\n  // Set the scale mode to nearest neighbor for better quality\n  baseTexture.source.scaleMode = 'nearest';\n\n  // Create texture frames from the character spritesheet\n  const characterFrames = asTextureFrames(PIXI, baseTexture, {\n    frameWidth: 48,\n    frameHeight: 48,\n    columns: 4,\n    rows: 4\n  });\n\n  // Create character sprite\n  const character = new PIXI.AnimatedSprite(characterFrames);\n  character.anchor.set(0.5);\n  character.x = scene.renderer.width / 2;\n  character.y = scene.renderer.height / 2;\n  character.scale.set(4); // Scale up for visibility\n  \n  // Set up the idle animation (first two frames)\n  character.textures = [characterFrames[0], characterFrames[1]];\n  character.animationSpeed = 0.05;\n  character.play();\n\n  // Convert to Moxi entity\n  const characterEntity = asEntity<PIXI.AnimatedSprite>(character);\n\n  // Add character to scene\n  scene.addChild(characterEntity);\n\n  // Initialize and start\n  scene.init();\n  engine.start();\n\n  console.log('â Animated Character example loaded');\n}\n\n","import { setupMoxi, asEntity, CameraLogic, asTextureFrames, TextureFrameSequences, SequenceInfo, createTileGrid, getTextureRange } from 'moxi';\nimport * as PIXI from 'pixi.js';\nimport { ASSETS } from '../assets-config';\nimport { PlayerMovementLogic } from '../utils/player-movement-logic';\n\n/**\n * Bunny Adventure Example\n * Demonstrates player movement with keyboard controls, camera following,\n * directional animations, and a tile-based world\n */\n\nexport async function initBunnyAdventure() {\n  const root = document.getElementById('app');\n  if (!root) throw new Error('App element not found');\n\n  const { scene, engine, loadAssets, camera, PIXIAssets } = await setupMoxi({\n    hostElement: root\n  });\n\n  scene.renderer.background.color = 0x88c070; // Gameboy-inspired green\n\n  // Load character and grass tile spritesheets\n  await loadAssets([\n    { src: ASSETS.GRASS_TILES, alias: 'grass_sheet' },\n    { src: ASSETS.SPROUTLANDS_CHARACTER, alias: 'character_sheet' }\n  ]);\n\n  // Set up camera\n  camera.desiredScale.set(3);\n\n  // Get textures\n  const baseTexture = PIXIAssets.get<PIXI.TextureSource>('character_sheet');\n  const grassSheet = PIXIAssets.get<PIXI.TextureSource>('grass_sheet');\n\n  // Set scale mode to nearest neighbor for pixel art\n  baseTexture.source.scaleMode = 'nearest';\n  grassSheet.source.scaleMode = 'nearest';\n\n  // Create texture frames from the character spritesheet\n  const characterFrames = asTextureFrames(PIXI, baseTexture, {\n    frameWidth: 48,\n    frameHeight: 48,\n    columns: 4,\n    rows: 4\n  });\n\n  const grassFrames = asTextureFrames(PIXI, grassSheet, {\n    frameWidth: 16,\n    frameHeight: 16,\n    columns: 11,\n    rows: 11\n  });\n\n  const walkAnimationSpeed = 12;\n  const idleAnimationSpeed = walkAnimationSpeed + 10;\n\n  const frameSequences: Record<string, SequenceInfo> = {\n    idleDown: { frames: [0, 1], animationSpeed: idleAnimationSpeed },\n    walkDown: { frames: [2, 3], animationSpeed: walkAnimationSpeed },\n\n    idleUp: { frames: [4, 5], animationSpeed: idleAnimationSpeed },\n    walkUp: { frames: [6, 7], animationSpeed: walkAnimationSpeed },\n\n    idleLeft: { frames: [8, 9], animationSpeed: idleAnimationSpeed },\n    walkLeft: { frames: [10, 11], animationSpeed: walkAnimationSpeed },\n\n    idleRight: { frames: [12, 13], animationSpeed: idleAnimationSpeed },\n    walkRight: { frames: [14, 15], animationSpeed: walkAnimationSpeed }\n  };\n\n  // Get a range of grass tiles for variety (use the first 12 frames)\n  const tileVariations = getTextureRange(grassFrames, 0, Math.min(12, grassFrames.length));\n\n  const textureFrameSequences = new TextureFrameSequences(characterFrames, frameSequences);\n\n  // Create a background container with the grass tiles\n  const backgroundContainer = createTileGrid({\n    width: 64,\n    height: 64,\n    cellWidth: 16,\n    cellHeight: 16,\n    centered: true\n  }, tileVariations);\n\n  // Convert background container to a Moxi entity and add to scene\n  const backgroundEntity = asEntity(backgroundContainer);\n  scene.addChild(backgroundEntity);\n\n  // Create bunny player sprite\n  const bunny = new PIXI.AnimatedSprite(characterFrames);\n  bunny.anchor.set(0.5);\n\n  // Convert to Moxi entity\n  const bunnyEntity = asEntity<PIXI.AnimatedSprite>(bunny);\n\n  // Create and initialize the movement logic with custom options\n  const movementLogic = new PlayerMovementLogic({\n    speed: 1.5,\n  }, textureFrameSequences);\n\n  // Initialize the logic with the sprite\n  movementLogic.init(bunny, scene.renderer);\n\n  // Add the logic to the entity\n  bunnyEntity.moxiEntity.addLogic(movementLogic);\n\n  // Add player to scene\n  scene.addChild(bunnyEntity);\n\n  // Make camera follow the player\n  const cameraLogic = camera.moxiEntity.getLogic<CameraLogic>('CameraLogic');\n  cameraLogic.target = bunny;\n\n  // Initialize and start\n  scene.init();\n  engine.start();\n\n  console.log('â Bunny Adventure example loaded - Use arrow keys to move!');\n}\n\n","import PIXI from 'pixi.js';\n\n/**\n * Configuration options for grid generation\n * @category Library\n */\nexport interface GridOptions {\n  width: number;\n  height: number;\n  cellWidth: number;\n  cellHeight: number;\n  centered?: boolean;\n}\n\n/**\n * Cell position information passed to callback functions\n * @category Library\n */\nexport interface CellPosition {\n  x: number;\n  y: number;\n  pixelX: number;\n  pixelY: number;\n  index: number;\n  total: number;\n}\n\n/**\n * Creates a grid of tiles using a set of textures\n * \n * @category Library\n * @param options - Configuration options for the grid\n * @param textures - Array of textures to use for the tiles\n * @param selector - Optional function to select which texture to use for each cell\n * @returns A PIXI Container with the generated tile grid\n * \n * @example\n * ```typescript\n * // Create a random grass field\n * const grassField = createTileGrid({\n *   width: 64,\n *   height: 64,\n *   cellWidth: 16,\n *   cellHeight: 16,\n *   centered: true\n * }, grassTextures);\n * ```\n */\nexport function createTileGrid(\n  options: GridOptions,\n  textures: PIXI.Texture[],\n  selector?: (position: CellPosition) => number\n): PIXI.Container {\n  const { width, height, cellWidth, cellHeight, centered = false } = options;\n  \n  // Default selector randomly chooses textures\n  const defaultSelector = () => Math.floor(Math.random() * textures.length);\n  const getTextureIndex = selector || defaultSelector;\n  \n  // Create container for the grid\n  const container = new PIXI.Container();\n  \n  // Calculate total number of cells\n  const totalCells = width * height;\n  \n  // Generate each cell in the grid\n  for (let y = 0; y < height; y++) {\n    for (let x = 0; x < width; x++) {\n      // Calculate pixel coordinates\n      const pixelX = x * cellWidth;\n      const pixelY = y * cellHeight;\n      \n      // Calculate index\n      const index = y * width + x;\n      \n      // Create cell position info\n      const position: CellPosition = {\n        x, y, pixelX, pixelY, index, total: totalCells\n      };\n      \n      // Get texture index for this position\n      const textureIndex = getTextureIndex(position);\n      \n      // Create sprite with the selected texture\n      const cell = new PIXI.Sprite(textures[textureIndex]);\n      cell.position.set(pixelX, pixelY);\n      \n      // Add to container\n      container.addChild(cell);\n    }\n  }\n  \n  // Center the grid if requested\n  if (centered) {\n    const gridWidth = width * cellWidth;\n    const gridHeight = height * cellHeight;\n    container.position.set(-gridWidth / 2, -gridHeight / 2);\n  }\n  \n  return container;\n}\n\n/**\n * Helper function to get a range of textures\n * \n * @category Library\n * @param textures - Full array of textures\n * @param startIndex - Starting index (from 0)\n * @param count - Number of textures to include\n * @returns Subset of textures\n * \n * @example\n * ```typescript\n * // Get the last 12 frames from a spritesheet\n * const tileVariations = getTextureRange(grassFrames, grassFrames.length - 12, 12);\n * ```\n */\nexport function getTextureRange(\n  textures: PIXI.Texture[],\n  startIndex: number,\n  count: number\n): PIXI.Texture[] {\n  return textures.slice(startIndex, startIndex + count);\n}\n\n"],"names":["p","a","c","document","addEventListener","attachEvent","w","this","g","createElement","setAttribute","appendChild","createTextNode","h","i","m","j","l","style","cssText","x","B","offsetWidth","b","width","scrollLeft","scrollWidth","C","e","parentNode","D","window","family","weight","stretch","context","E","F","G","H","M","fonts","N","font","q","join","prototype","load","J","Date","getTime","Promise","K","L","test","navigator","vendor","exec","userAgent","parseInt","I","O","r","t","Error","then","n","length","setTimeout","P","race","clearTimeout","body","removeEventListener","readyState","detachEvent","u","d","k","y","z","A","f","removeChild","v","dir","hidden","module","exports","__webpack_module_cache__","__webpack_require__","moduleId","cachedModule","undefined","__webpack_modules__","getter","__esModule","definition","key","o","Object","defineProperty","enumerable","get","obj","prop","hasOwnProperty","call","Symbol","toStringTag","value","uc","s","toUpperCase","lc","toLowerCase","padRight","val","padWith","result","pr","getRandomInt","max","min","Math","floor","random","roundTo","places","round","pow","lerp","begin","end","mag","metersToPixels","pixelsToMeters","fetchXml","async","url","fetch","text","rad2deg","rad","PI","deg2rad","deg","RenderManager","constructor","htmlRoot","renderer","fitToWindow","onResize","root","canvas","parentWidth","clientWidth","parentHeight","clientHeight","canvasWidth","canvasHeight","height","scale","render","stage","isMoxiEntity","entity","Boolean","moxiEntity","getRenderer","options","create","Scene","super","init","children","forEach","child","update","deltaTime","draw","Engine","gameLoop","tikerTime","ticker","shared","autoStart","add","loggerFrequencyMs","nextLogTime","logger","msg","start","stop","loadStage","EventEmitter","listeners","on","event","listener","push","off","eventListeners","filter","emit","args","once","getInstance","instance","ClientEvents","initWheelOffset","Point","onAnyEvent","ev","wheelOffets","keydown","movePosition","anyEvent","wheelDelta","xValue","deltaX","yValue","deltaY","eventType","lastMovePosition","clientX","clientY","moveDelta","mouseDownEvent","lastMouseDown","mouseUpEvent","lastMouseUp","keyDownEvent","keyUpEvent","isKeyDown","isKeyUp","AssetLoader","PIXIAssets","textures","loadAssets","assets","src","alias","cache","has","texture","Logic","active","MoxiEntity","logic","className","logicComponent","addLogic","logicName","name","getLogic","asEntity","target","isInteractive","CameraLogic","speed","deltaSpeed","desiredScale","screenCenterX","screenCenterY","desiredX","position","desiredY","desiredPosition","set","scene","Camera","cameraLogic","addChild","defaultRenderOptions","backgroundColor","setupMoxi","hostElement","renderOptions","engine","camera","defaultOptions","frameWidth","frameHeight","columns","rows","asTextureFrames","PIXI","textureSource","frames","console","error","frame","Rectangle","frametexture","Texture","source","TextureFrameSequences","sequences","addSequence","frameIndices","animationSpeed","getSequence","getFrame","index","getFrameFromSequence","sequenceName","frameIndex","sequence","sequenceFrameIndex","getFrameSequence","map","EventTarget","ASSETS","RotationLabel","targetEntity","rotation","CharacterLogic","anchor","defaultProgressBarOptions","barWidth","barHeight","color","barPadding","bitmapText","fontFamily","fontSize","fontStyle","fill","ProgressBarLogic","forgroundBar","backgroundBar","setValue","padding","rect","eventMode","paddedWidth","percent","clear","textvalue","nextValue","DIRECTION","ANIMATION_STATE","DEFAULT_MOVEMENT_OPTIONS","allowDiagonal","PlayerMovementLogic","frameSequences","direction","animationState","moving","animationTimer","currentSequenceName","velocity","clientEvents","setAnimationState","updateTexture","getSequenceKey","state","charAt","slice","getDirectionFromVelocity","abs","normalizeVelocity","sqrt","isMoving","newDirection","newState","animSpeed","updateAnimation","getDirection","getAnimationState","getVelocity","textureIndex","examples","description","getElementById","background","assetList","characterSprite","Sprite","character","log","labelText","BitmapText","label","innerHTML","app","Application","resizeTo","container","Container","Assets","bunny","screen","pivot","time","baseTexture","scaleMode","characterFrames","play","characterEntity","moxiProgressBar","barOptions","align","grassSheet","grassFrames","tileVariations","startIndex","count","textureFrameSequences","idleDown","walkAnimationSpeed","walkDown","idleUp","walkUp","idleLeft","walkLeft","idleRight","walkRight","backgroundEntity","selector","cellWidth","cellHeight","centered","getTextureIndex","totalCells","pixelX","pixelY","total","cell","gridWidth","gridHeight","createTileGrid","bunnyEntity","movementLogic","currentExample","loadExample","exampleKey","updateHash","location","hash","querySelectorAll","btn","classList","remove","querySelector","errorMessage","message","getExampleFromHash","handleHashChange","hashExample","sidebar","entries","example","button","dataset","keys","initUI"],"sourceRoot":""}